/*! For license information please see solid-client-bundle.js.LICENSE.txt */
var solidClient;(()=>{var e={7175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.internal_getPoliciesAndRules=t.internal_setAuthenticatedAccess=t.internal_setPublicAccess=t.internal_setGroupAccess=t.internal_setAgentAccess=t.internal_setActorAccess=t.internal_getAgentAccessAll=t.internal_getGroupAccessAll=t.internal_getActorAccessAll=t.internal_getAuthenticatedAccess=t.internal_getPublicAccess=t.internal_getGroupAccess=t.internal_getAgentAccess=t.internal_getActorAccess=void 0;const n=r(7955),i=r(9009),o=r(362),a=r(6885),s=r(7158),l=r(3453),c=r(4468),u=r(1220),d=r(6796),f=r(7103),h=r(3995),g=[n.acp.agent,n.acp.group];function p(e,t,r){if(e.inaccessibleUrls.length>0)return null;const n=e.acrPolicies.filter((n=>b(n,t,r,e))),i=e.policies.filter((n=>b(n,t,r,e))),o=n.reduce(((e,t)=>{const r=Object.assign({},e),n=(0,l.getAllowModesV1)(t);return n.read&&(r.controlRead=!0),n.write&&(r.controlWrite=!0),r}),{read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1}),a=i.reduce(((e,t)=>{const r=Object.assign({},e),n=(0,l.getAllowModesV1)(t);return n.read&&(r.read=!0),n.append&&(r.append=!0),n.write&&(r.write=!0),r}),o),s=n.reduce(((e,t)=>{const r=Object.assign({},e),n=(0,l.getDenyModesV1)(t);return!0===n.read&&(r.controlRead=!1),!0===n.write&&(r.controlWrite=!1),r}),a);return i.reduce(((e,t)=>{const r=Object.assign({},e),n=(0,l.getDenyModesV1)(t);return!0===n.read&&(r.read=!1),!0===n.append&&(r.append=!1),!0===n.write&&(r.write=!1),r}),s)}function b(e,t,r,i){const a=(0,u.getIriAll)(e,n.acp.allow),s=(0,u.getIriAll)(e,n.acp.deny);if(a.length+s.length===0)return!1;const l=(0,c.getAllOfRuleUrlAll)(e).map((e=>i.rules.find((t=>(0,o.asIri)(t)===e)))),d=(0,c.getAnyOfRuleUrlAll)(e).map((e=>i.rules.find((t=>(0,o.asIri)(t)===e)))),f=(0,c.getNoneOfRuleUrlAll)(e).map((e=>i.rules.find((t=>(0,o.asIri)(t)===e))));return l.every((e=>m(e,t,r)))&&(0===d.length||d.some((e=>m(e,t,r))))&&0===f.length}function y(e,t){const r=(0,u.getIriAll)(e,n.acp.allow),i=(0,u.getIriAll)(e,n.acp.deny);return!0===t.read&&i.includes(n.acp.Read)||!1===t.read&&r.includes(n.acp.Read)&&!i.includes(n.acp.Read)||!0===t.append&&i.includes(n.acp.Append)||!1===t.append&&r.includes(n.acp.Append)&&!i.includes(n.acp.Append)||!0===t.write&&i.includes(n.acp.Write)||!1===t.write&&r.includes(n.acp.Write)&&!i.includes(n.acp.Write)}function m(e,t,r){let n=!0;return g.forEach((t=>{n&&(n=null===(0,u.getIri)(e,t))})),n||(0,u.getIriAll)(e,t).includes(r)}function A(e,t){if(e.inaccessibleUrls.length>0)return null;const r={},i=function(e,t){const r=new Set;return e.rules.forEach((e=>{(0,u.getIriAll)(e,t).filter((e=>![n.acp.PublicAgent,n.acp.CreatorAgent,n.acp.AuthenticatedAgent].includes(e)||t!==n.acp.agent)).forEach((e=>r.add(e)))})),r}(e,t);return i.forEach((n=>{const i=p(e,t,n);r[n]=i})),r}function v(e,t,r,i,u){var h,g,m,A,v;if(!(0,a.hasAccessibleAcr)(e)||t.inaccessibleUrls.length>0)return null;const w=p(t,r,i);if(null===w)return null;const O=t.acrPolicies.filter((e=>b(e,r,i,t))),j=t.policies.filter((e=>b(e,r,i,t))),R=O.filter((e=>y(e,{read:u.controlRead,write:u.controlWrite}))),x=j.filter((e=>y(e,{read:u.read,append:u.append,write:u.write}))),I=R.filter((e=>_(e,r,i,t))),S=x.filter((e=>_(e,r,i,t))),T=p(Object.assign(Object.assign({},t),{acrPolicies:t.acrPolicies.filter((e=>!I.includes(e))),policies:t.policies.filter((e=>!S.includes(e)))}),r,i);if(null===T)return null;let U=e;I.forEach((n=>{const[o,a]=P(n,e,t,r,i);U=(0,l.setResourceAcrPolicy)(U,o),U=a.reduce(c.setResourceRule,U)})),S.forEach((n=>{const[o,a]=P(n,e,t,r,i);U=(0,l.setResourcePolicy)(U,o),U=a.reduce(c.setResourceRule,U)}));const C=`rule_${encodeURIComponent(`${r}_${i}`)}`;let M=(0,c.createResourceRuleFor)(e,C);M=(0,f.setIri)(M,r,i);const N=null!==(h=u.controlRead)&&void 0!==h?h:w.controlRead,E=null!==(g=u.controlWrite)&&void 0!==g?g:w.controlWrite;let D=I;if(N!==T.controlRead||E!==T.controlWrite){const t=`acr_policy_${encodeURIComponent(`${r}_${i}`)}_${Date.now()}_${Math.random()}`;let o=(0,l.createResourcePolicyFor)(e,t);o=(0,l.setAllowModesV1)(o,{read:!0===N,append:!1,write:!0===E}),o=(0,d.addIri)(o,n.acp.allOf,M),U=(0,l.setResourceAcrPolicy)(U,o),U=(0,c.setResourceRule)(U,M),D=R}const k=null!==(m=u.read)&&void 0!==m?m:w.read,L=null!==(A=u.append)&&void 0!==A?A:w.append,F=null!==(v=u.write)&&void 0!==v?v:w.write;let $=S;if(k!==T.read||L!==T.append||F!==T.write){const t=`policy_${encodeURIComponent(`${r}_${i}`)}_${Date.now()}_${Math.random()}`;let o=(0,l.createResourcePolicyFor)(e,t);o=(0,l.setAllowModesV1)(o,{read:!0===k,append:!0===L,write:!0===F}),o=(0,d.addIri)(o,n.acp.allOf,M),U=(0,l.setResourcePolicy)(U,o),U=(0,c.setResourceRule)(U,M),$=x}return D.forEach((e=>{U=(0,s.removeAcrPolicyUrl)(U,(0,o.asIri)(e))})),$.forEach((e=>{U=(0,s.removePolicyUrl)(U,(0,o.asIri)(e))})),U}function _(e,t,r,i){const a=(0,u.getIriAll)(e,n.acp.allOf).map((e=>i.rules.find((t=>(0,o.asIri)(t)===e)))).some((e=>w(e,t,r))),s=(0,u.getIriAll)(e,n.acp.anyOf).map((e=>i.rules.find((t=>(0,o.asIri)(t)===e)))).some((e=>w(e,t,r))),l=(0,u.getIriAll)(e,n.acp.noneOf).map((e=>i.rules.find((t=>(0,o.asIri)(t)===e)))).some((e=>w(e,t,r)));return a||s||l}function w(e,t,r){const n=[];return g.forEach((i=>{const o=(0,u.getIriAll)(e,i).filter((e=>e!==r||i!==t));n.push(...o)})),n.length>0}function P(e,t,r,i,a){const s=`_copy_without_${encodeURIComponent(i)}_${a}_${Date.now()}_${Math.random()}`,c=O((0,u.getIriAll)(e,n.acp.allOf),t,r,s,i,a),f=O((0,u.getIriAll)(e,n.acp.anyOf),t,r,s,i,a),h=O((0,u.getIriAll)(e,n.acp.noneOf),t,r,s,i,a);let g=(0,l.createResourcePolicyFor)(t,encodeURI((0,o.asIri)(e))+s);return(0,u.getIriAll)(e,n.acp.allow).forEach((e=>{g=(0,d.addIri)(g,n.acp.allow,e)})),(0,u.getIriAll)(e,n.acp.deny).forEach((e=>{g=(0,d.addIri)(g,n.acp.deny,e)})),c.forEach((e=>{g=(0,d.addIri)(g,n.acp.allOf,e)})),f.forEach((e=>{g=(0,d.addIri)(g,n.acp.anyOf,e)})),h.forEach((e=>{g=(0,d.addIri)(g,n.acp.noneOf,e)})),[g,c.concat(f).concat(h)]}function O(e,t,r,n,i,a){return e.map((e=>{const s=r.rules.find((t=>(0,o.asIri)(t)===e));if(void 0===s)return null;let l=(0,c.createResourceRuleFor)(t,encodeURI((0,o.asIri)(s))+n),f=!1;return g.forEach((e=>{(0,u.getIriAll)(s,e).forEach((t=>{e===i&&t===a||(f=!0,l=(0,d.addIri)(l,e,t))}))})),f?l:null})).filter(j)}function j(e){return null!==e}function R(e){const t=new URL(e);return t.hash="",t.href}function x(e){const t=[];return e.forEach((e=>{const r=R(e);t.includes(r)||t.push(r)})),t}async function I(e,t){const r=Array.from(new Set(e)),n={};return await Promise.all(r.map((async e=>{try{const r=await(0,h.getSolidDataset)(e,t);n[e]=r}catch(t){n[e]=null}}))),n}function S(e,t){return e.map((e=>{const r=R(e),n=t[r];return n?(0,o.getThing)(n,e):null}))}function T(e){return(0,c.getAllOfRuleUrlAll)(e).concat((0,c.getAnyOfRuleUrlAll)(e)).concat((0,c.getNoneOfRuleUrlAll)(e))}t.internal_getActorAccess=p,t.internal_getAgentAccess=function(e,t){return p(e,n.acp.agent,t)},t.internal_getGroupAccess=function(e,t){return p(e,n.acp.group,t)},t.internal_getPublicAccess=function(e){return p(e,n.acp.agent,n.acp.PublicAgent)},t.internal_getAuthenticatedAccess=function(e){return p(e,n.acp.agent,n.acp.AuthenticatedAgent)},t.internal_getActorAccessAll=A,t.internal_getGroupAccessAll=function(e){return A(e,n.acp.group)},t.internal_getAgentAccessAll=function(e){return A(e,n.acp.agent)},t.internal_setActorAccess=v,t.internal_setAgentAccess=function(e,t,r,i){return v(e,t,n.acp.agent,r,i)},t.internal_setGroupAccess=function(e,t,r,i){return v(e,t,n.acp.group,r,i)},t.internal_setPublicAccess=function(e,t,r){return v(e,t,n.acp.agent,n.acp.PublicAgent,r)},t.internal_setAuthenticatedAccess=function(e,t,r){return v(e,t,n.acp.agent,n.acp.AuthenticatedAgent,r)},t.internal_getPoliciesAndRules=async function(e,t=i.internal_defaultFetchOptions){const r=(0,s.getAcrPolicyUrlAll)(e),n=(0,s.getPolicyUrlAll)(e),o=x(r).concat(x(n)),a=await I(o,t),l=S(r,a).filter(j),c=S(n,a).filter(j),u=new Set;l.forEach((e=>{T(e).forEach((e=>{u.add(e)}))})),c.forEach((e=>{T(e).forEach((e=>{u.add(e)}))}));const d=Array.from(u),f=d.map((e=>R(e))).filter((e=>!o.includes(e))),h=await I(f,t),g=Object.assign(Object.assign({},a),h),p=S(d,g).filter(j);return{inaccessibleUrls:Object.keys(g).filter((e=>null===g[e])),acrPolicies:l,policies:c,rules:p}}},5928:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.internal_getPoliciesAndMatchers=t.internal_setAuthenticatedAccess=t.internal_setPublicAccess=t.internal_setAgentAccess=t.internal_setActorAccess=t.internal_getAgentAccessAll=t.internal_getActorAccessAll=t.internal_getAuthenticatedAccess=t.internal_getPublicAccess=t.internal_getAgentAccess=t.internal_getActorAccess=void 0;const n=r(7955),i=r(9009),o=r(362),a=r(6885),s=r(7158),l=r(3453),c=r(7648),u=r(1220),d=r(6796),f=r(7103),h=r(3995),g=r(3844),p=[n.acp.agent];function b(e,t,r){if(e.inaccessibleUrls.length>0)return null;const n=e.acrPolicies.filter((n=>y(n,t,r,e))),i=e.policies.filter((n=>y(n,t,r,e))),o=n.reduce(((e,t)=>{const r=Object.assign({},e),n=(0,l.getAllowModesV2)(t);return n.read&&(r.controlRead=!0),n.write&&(r.controlWrite=!0),r}),{read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1}),a=i.reduce(((e,t)=>{const r=Object.assign({},e),n=(0,l.getAllowModesV2)(t);return n.read&&(r.read=!0),n.append&&(r.append=!0),n.write&&(r.write=!0),r}),o),s=n.reduce(((e,t)=>{const r=Object.assign({},e),n=(0,l.getDenyModesV2)(t);return!0===n.read&&(r.controlRead=!1),!0===n.write&&(r.controlWrite=!1),r}),a);return i.reduce(((e,t)=>{const r=Object.assign({},e),n=(0,l.getDenyModesV2)(t);return!0===n.read&&(r.read=!1),!0===n.append&&(r.append=!1),!0===n.write&&(r.write=!1),r}),s)}function y(e,t,r,i){const a=(0,u.getIriAll)(e,n.acp.allow),s=(0,u.getIriAll)(e,n.acp.deny);if(a.length+s.length===0)return!1;const l=(0,c.getAllOfMatcherUrlAll)(e).map((e=>i.matchers.find((t=>(0,o.asIri)(t)===e)))),d=(0,c.getAnyOfMatcherUrlAll)(e).map((e=>i.matchers.find((t=>(0,o.asIri)(t)===e)))),f=(0,c.getNoneOfMatcherUrlAll)(e).map((e=>i.matchers.find((t=>(0,o.asIri)(t)===e))));return l.every((e=>A(e,t,r)))&&(0===d.length||d.some((e=>A(e,t,r))))&&l.length+d.length>0&&0===f.length}function m(e,t){const r=(0,u.getIriAll)(e,n.acp.allow),i=(0,u.getIriAll)(e,n.acp.deny);return!0===t.read&&i.includes(g.internal_accessModeIriStrings.read)||!1===t.read&&r.includes(g.internal_accessModeIriStrings.read)&&!i.includes(g.internal_accessModeIriStrings.read)||!0===t.append&&i.includes(g.internal_accessModeIriStrings.append)||!1===t.append&&r.includes(g.internal_accessModeIriStrings.append)&&!i.includes(g.internal_accessModeIriStrings.append)||!0===t.write&&i.includes(g.internal_accessModeIriStrings.write)||!1===t.write&&r.includes(g.internal_accessModeIriStrings.write)&&!i.includes(g.internal_accessModeIriStrings.write)}function A(e,t,r){return(0,u.getIriAll)(e,t).includes(r)}function v(e,t){if(e.inaccessibleUrls.length>0)return null;const r={},i=function(e,t){const r=new Set;return e.matchers.forEach((e=>{(0,u.getIriAll)(e,t).filter((e=>![n.acp.PublicAgent,n.acp.CreatorAgent,n.acp.AuthenticatedAgent].includes(e)||t!==n.acp.agent)).forEach((e=>r.add(e)))})),r}(e,t);return i.forEach((n=>{const i=b(e,t,n);r[n]=i})),r}function _(e,t,r,i,u){var h,g,p,A,v;if(!(0,a.hasAccessibleAcr)(e)||t.inaccessibleUrls.length>0)return null;const _=b(t,r,i);if(null===_)return null;const P=t.acrPolicies.filter((e=>y(e,r,i,t))),j=t.policies.filter((e=>y(e,r,i,t))),R=P.filter((e=>m(e,{read:u.controlRead,write:u.controlWrite}))),x=j.filter((e=>m(e,{read:u.read,append:u.append,write:u.write}))),I=R.filter((e=>w(e,r,i,t))),S=x.filter((e=>w(e,r,i,t))),T=b(Object.assign(Object.assign({},t),{acrPolicies:t.acrPolicies.filter((e=>!I.includes(e))),policies:t.policies.filter((e=>!S.includes(e)))}),r,i);if(null===T)return null;let U=e;I.forEach((n=>{const[o,a]=O(n,e,t,r,i);U=(0,l.setResourceAcrPolicy)(U,o),U=a.reduce(c.setResourceMatcher,U)})),S.forEach((n=>{const[o,a]=O(n,e,t,r,i);U=(0,l.setResourcePolicy)(U,o),U=a.reduce(c.setResourceMatcher,U)}));const C=`matcher_${encodeURIComponent(`${r}_${i}`)}`;let M=(0,c.createResourceMatcherFor)(e,C);M=(0,f.setIri)(M,r,i);const N=null!==(h=u.controlRead)&&void 0!==h?h:_.controlRead,E=null!==(g=u.controlWrite)&&void 0!==g?g:_.controlWrite;let D=I;if(N!==T.controlRead||E!==T.controlWrite){const t=`acr_policy_${encodeURIComponent(`${r}_${i}`)}_${Date.now()}_${Math.random()}`;let o=(0,l.createResourcePolicyFor)(e,t);o=(0,l.setAllowModesV2)(o,{read:!0===N,append:!1,write:!0===E}),o=(0,d.addIri)(o,n.acp.allOf,M),U=(0,l.setResourceAcrPolicy)(U,o),U=(0,c.setResourceMatcher)(U,M),D=R}const k=null!==(p=u.read)&&void 0!==p?p:_.read,L=null!==(A=u.append)&&void 0!==A?A:_.append,F=null!==(v=u.write)&&void 0!==v?v:_.write;let $=S;if(k!==T.read||L!==T.append||F!==T.write){const t=`policy_${encodeURIComponent(`${r}_${i}`)}_${Date.now()}_${Math.random()}`;let o=(0,l.createResourcePolicyFor)(e,t);o=(0,l.setAllowModesV2)(o,{read:!0===k,append:!0===L,write:!0===F}),o=(0,d.addIri)(o,n.acp.allOf,M),U=(0,l.setResourcePolicy)(U,o),U=(0,c.setResourceMatcher)(U,M),$=x}return D.forEach((e=>{U=(0,s.removeAcrPolicyUrl)(U,(0,o.asIri)(e))})),$.forEach((e=>{U=(0,s.removePolicyUrl)(U,(0,o.asIri)(e))})),U}function w(e,t,r,i){const a=(0,u.getIriAll)(e,n.acp.allOf).map((e=>i.matchers.find((t=>(0,o.asIri)(t)===e)))).some((e=>P(e,t,r))),s=(0,u.getIriAll)(e,n.acp.anyOf).map((e=>i.matchers.find((t=>(0,o.asIri)(t)===e)))).some((e=>P(e,t,r))),l=(0,u.getIriAll)(e,n.acp.noneOf).map((e=>i.matchers.find((t=>(0,o.asIri)(t)===e)))).some((e=>P(e,t,r)));return a||s||l}function P(e,t,r){const n=[];return p.forEach((i=>{const o=(0,u.getIriAll)(e,i).filter((e=>e!==r||i!==t));n.push(...o)})),n.length>0}function O(e,t,r,i,a){const s=`_copy_without_${encodeURIComponent(i)}_${a}_${Date.now()}_${Math.random()}`,c=j((0,u.getIriAll)(e,n.acp.allOf),t,r,s,i,a),f=j((0,u.getIriAll)(e,n.acp.anyOf),t,r,s,i,a),h=j((0,u.getIriAll)(e,n.acp.noneOf),t,r,s,i,a);let g=(0,l.createResourcePolicyFor)(t,encodeURI((0,o.asIri)(e))+s);return(0,u.getIriAll)(e,n.acp.allow).forEach((e=>{g=(0,d.addIri)(g,n.acp.allow,e)})),(0,u.getIriAll)(e,n.acp.deny).forEach((e=>{g=(0,d.addIri)(g,n.acp.deny,e)})),c.forEach((e=>{g=(0,d.addIri)(g,n.acp.allOf,e)})),f.forEach((e=>{g=(0,d.addIri)(g,n.acp.anyOf,e)})),h.forEach((e=>{g=(0,d.addIri)(g,n.acp.noneOf,e)})),[g,c.concat(f).concat(h)]}function j(e,t,r,n,i,a){return e.map((e=>{const s=r.matchers.find((t=>(0,o.asIri)(t)===e));if(void 0===s)return null;let l=(0,c.createResourceMatcherFor)(t,encodeURI((0,o.asIri)(s))+n),f=!1;return p.forEach((e=>{(0,u.getIriAll)(s,e).forEach((t=>{e===i&&t===a||(f=!0,l=(0,d.addIri)(l,e,t))}))})),f?l:null})).filter(R)}function R(e){return null!==e}function x(e){const t=new URL(e);return t.hash="",t.href}function I(e){const t=[];return e.forEach((e=>{const r=x(e);t.includes(r)||t.push(r)})),t}async function S(e,t){const r=Array.from(new Set(e)),n={};return await Promise.all(r.map((async e=>{try{const r=await(0,h.getSolidDataset)(e,t);n[e]=r}catch(t){n[e]=null}}))),n}function T(e,t){return e.map((e=>{const r=x(e),n=t[r];return n?(0,o.getThing)(n,e):null}))}function U(e){return(0,c.getAllOfMatcherUrlAll)(e).concat((0,c.getAnyOfMatcherUrlAll)(e)).concat((0,c.getNoneOfMatcherUrlAll)(e))}t.internal_getActorAccess=b,t.internal_getAgentAccess=function(e,t){return b(e,n.acp.agent,t)},t.internal_getPublicAccess=function(e){return b(e,n.acp.agent,n.acp.PublicAgent)},t.internal_getAuthenticatedAccess=function(e){return b(e,n.acp.agent,n.acp.AuthenticatedAgent)},t.internal_getActorAccessAll=v,t.internal_getAgentAccessAll=function(e){return v(e,n.acp.agent)},t.internal_setActorAccess=_,t.internal_setAgentAccess=function(e,t,r,i){return _(e,t,n.acp.agent,r,i)},t.internal_setPublicAccess=function(e,t,r){return _(e,t,n.acp.agent,n.acp.PublicAgent,r)},t.internal_setAuthenticatedAccess=function(e,t,r){return _(e,t,n.acp.agent,n.acp.AuthenticatedAgent,r)},t.internal_getPoliciesAndMatchers=async function(e,t=i.internal_defaultFetchOptions){const r=(0,s.getAcrPolicyUrlAll)(e),n=(0,s.getPolicyUrlAll)(e),o=I(r).concat(I(n)),a=await S(o,t),l=T(r,a).filter(R),c=T(n,a).filter(R),u=new Set;l.forEach((e=>{U(e).forEach((e=>{u.add(e)}))})),c.forEach((e=>{U(e).forEach((e=>{u.add(e)}))}));const d=Array.from(u),f=d.map((e=>x(e))).filter((e=>!o.includes(e))),h=await S(f,t),g=Object.assign(Object.assign({},a),h),p=T(d,g).filter(R);return{inaccessibleUrls:Object.keys(g).filter((e=>null===g[e])),acrPolicies:l,policies:c,matchers:p}}},5598:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAccessFor=t.getAccessForAll=t.getAccessFor=void 0;const n=r(9009),i=r(8498);t.getAccessFor=async function(e,t,r=n.internal_defaultFetchOptions,o=n.internal_defaultFetchOptions){if("agent"===t){if("string"!=typeof r)throw new Error("When reading Agent-specific access, the given agent cannot be left undefined.");return(0,i.getAgentAccess)(e,r,o)}if("group"===t){if("string"!=typeof r)throw new Error("When reading Group-specific access, the given group cannot be left undefined.");return(0,i.getGroupAccess)(e,r,o)}if("public"===t){if("string"==typeof r)throw new Error(`When reading public access, no actor type should be specified (here [${r}]).`);return(0,i.getPublicAccess)(e,r)}return null},t.getAccessForAll=async function(e,t,r=n.internal_defaultFetchOptions){return"agent"===t?(0,i.getAgentAccessAll)(e,r):"group"===t?(0,i.getGroupAccessAll)(e,r):null},t.setAccessFor=async function(e,t,r,o=n.internal_defaultFetchOptions,a=n.internal_defaultFetchOptions){if("agent"===t){if("string"!=typeof o)throw new Error("When writing Agent-specific access, the given agent cannot be left undefined.");return(0,i.setAgentAccess)(e,o,r,a)}if("group"===t){if("string"!=typeof o)throw new Error("When writing Group-specific access, the given group cannot be left undefined.");return(0,i.setGroupAccess)(e,o,r,a)}if("public"===t){if("string"==typeof o)throw new Error(`When writing public access, no actor type should be specified (here [${o}]).`);return(0,i.setPublicAccess)(e,r,o)}return null}},8498:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1456),t)},1456:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAccessFor=t.getAccessForAll=t.getAccessFor=t.setPublicAccess=t.getPublicAccess=t.setGroupAccess=t.getGroupAccessAll=t.getGroupAccess=t.getAgentAccessAll=t.setAgentAccess=t.getAgentAccess=void 0;const n=r(3185),i=r(6885),o=r(9009),a=r(7175),s=r(4145);async function l(e,t,r=o.internal_defaultFetchOptions){const l=await(0,i.getResourceInfoWithAcr)(e,r);if((0,i.hasAccessibleAcr)(l)){const e=await(0,a.internal_getPoliciesAndRules)(l,r);return(0,a.internal_getAgentAccess)(e,t)}return(0,n.hasAccessibleAcl)(l)?(0,s.getAgentAccess)(l,t,r):null}async function c(e,t,r=o.internal_defaultFetchOptions){const l=await(0,i.getResourceInfoWithAcr)(e,r);if((0,i.hasAccessibleAcr)(l)){const e=await(0,a.internal_getPoliciesAndRules)(l,r);return(0,a.internal_getGroupAccess)(e,t)}return(0,n.hasAccessibleAcl)(l)?(0,s.getGroupAccess)(l,t,r):null}async function u(e,t=o.internal_defaultFetchOptions){const r=await(0,i.getResourceInfoWithAcr)(e,t);if((0,i.hasAccessibleAcr)(r)){const e=await(0,a.internal_getPoliciesAndRules)(r,t);return(0,a.internal_getPublicAccess)(e)}return(0,n.hasAccessibleAcl)(r)?(0,s.getPublicAccess)(r,t):null}t.getAgentAccess=l,t.setAgentAccess=async function(e,t,r,c=o.internal_defaultFetchOptions){const u=await(0,i.getResourceInfoWithAcr)(e,c);if((0,i.hasAccessibleAcr)(u)){const n=await(0,a.internal_getPoliciesAndRules)(u,c),o=(0,a.internal_setAgentAccess)(u,n,t,r);if(o)try{return await(0,i.saveAcrFor)(o,c),await l(e,t,c)}catch(e){return null}return null}if((0,n.hasAccessibleAcl)(u)){if(r.controlRead!==r.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${(0,o.getSourceIri)(u)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);const e=r;return await(0,s.setAgentResourceAccess)(u,t,e,c),(0,s.getAgentAccess)(u,t,c)}return null},t.getAgentAccessAll=async function(e,t=o.internal_defaultFetchOptions){const r=await(0,i.getResourceInfoWithAcr)(e,t);if((0,i.hasAccessibleAcr)(r)){const e=await(0,a.internal_getPoliciesAndRules)(r,t);return(0,a.internal_getAgentAccessAll)(e)}return(0,n.hasAccessibleAcl)(r)?(0,s.getAgentAccessAll)(r,t):null},t.getGroupAccess=c,t.getGroupAccessAll=async function(e,t=o.internal_defaultFetchOptions){const r=await(0,i.getResourceInfoWithAcr)(e,t);if((0,i.hasAccessibleAcr)(r)){const e=await(0,a.internal_getPoliciesAndRules)(r,t);return(0,a.internal_getGroupAccessAll)(e)}return(0,n.hasAccessibleAcl)(r)?(0,s.getGroupAccessAll)(r,t):null},t.setGroupAccess=async function(e,t,r,l=o.internal_defaultFetchOptions){const u=await(0,i.getResourceInfoWithAcr)(e,l);if((0,i.hasAccessibleAcr)(u)){const n=await(0,a.internal_getPoliciesAndRules)(u,l),o=(0,a.internal_setGroupAccess)(u,n,t,r);if(o)try{return await(0,i.saveAcrFor)(o,l),await c(e,t,l)}catch(e){return null}return null}if((0,n.hasAccessibleAcl)(u)){if(r.controlRead!==r.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${(0,o.getSourceIri)(u)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);const e=r;return await(0,s.setGroupResourceAccess)(u,t,e,l),(0,s.getGroupAccess)(u,t,l)}return null},t.getPublicAccess=u,t.setPublicAccess=async function(e,t,r=o.internal_defaultFetchOptions){const l=await(0,i.getResourceInfoWithAcr)(e,r);if((0,i.hasAccessibleAcr)(l)){const n=await(0,a.internal_getPoliciesAndRules)(l,r),o=(0,a.internal_setPublicAccess)(l,n,t);if(o)try{return await(0,i.saveAcrFor)(o,r),await u(e,r)}catch(e){return null}return null}if((0,n.hasAccessibleAcl)(l)){if(t.controlRead!==t.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${(0,o.getSourceIri)(l)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);const e=t;return await(0,s.setPublicResourceAccess)(l,e,r),(0,s.getPublicAccess)(l,r)}return null};var d=r(5598);Object.defineProperty(t,"getAccessFor",{enumerable:!0,get:function(){return d.getAccessFor}}),Object.defineProperty(t,"getAccessForAll",{enumerable:!0,get:function(){return d.getAccessForAll}}),Object.defineProperty(t,"setAccessFor",{enumerable:!0,get:function(){return d.setAccessFor}})},3854:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAccessFor=t.getAccessForAll=t.getAccessFor=t.setPublicAccess=t.getPublicAccess=t.getAgentAccessAll=t.setAgentAccess=t.getAgentAccess=void 0;const n=r(3185),i=r(6885),o=r(9009),a=r(5928),s=r(4145);async function l(e,t,r=o.internal_defaultFetchOptions){const l=await(0,i.getResourceInfoWithAcr)(e,r);if((0,i.hasAccessibleAcr)(l)){const e=await(0,a.internal_getPoliciesAndMatchers)(l,r);return(0,a.internal_getAgentAccess)(e,t)}return(0,n.hasAccessibleAcl)(l)?(0,s.getAgentAccess)(l,t,r):null}async function c(e,t=o.internal_defaultFetchOptions){const r=await(0,i.getResourceInfoWithAcr)(e,t);if((0,i.hasAccessibleAcr)(r)){const e=await(0,a.internal_getPoliciesAndMatchers)(r,t);return(0,a.internal_getPublicAccess)(e)}return(0,n.hasAccessibleAcl)(r)?(0,s.getPublicAccess)(r,t):null}t.getAgentAccess=l,t.setAgentAccess=async function(e,t,r,c=o.internal_defaultFetchOptions){const u=await(0,i.getResourceInfoWithAcr)(e,c);if((0,i.hasAccessibleAcr)(u)){const n=await(0,a.internal_getPoliciesAndMatchers)(u,c),o=(0,a.internal_setAgentAccess)(u,n,t,r);if(o)try{return await(0,i.saveAcrFor)(o,c),await l(e,t,c)}catch(e){return null}return null}if((0,n.hasAccessibleAcl)(u)){if(r.controlRead!==r.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${(0,o.getSourceIri)(u)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);const e=r;return await(0,s.setAgentResourceAccess)(u,t,e,c),(0,s.getAgentAccess)(u,t,c)}return null},t.getAgentAccessAll=async function(e,t=o.internal_defaultFetchOptions){const r=await(0,i.getResourceInfoWithAcr)(e,t);if((0,i.hasAccessibleAcr)(r)){const e=await(0,a.internal_getPoliciesAndMatchers)(r,t);return(0,a.internal_getAgentAccessAll)(e)}return(0,n.hasAccessibleAcl)(r)?(0,s.getAgentAccessAll)(r,t):null},t.getPublicAccess=c,t.setPublicAccess=async function(e,t,r=o.internal_defaultFetchOptions){const l=await(0,i.getResourceInfoWithAcr)(e,r);if((0,i.hasAccessibleAcr)(l)){const n=await(0,a.internal_getPoliciesAndMatchers)(l,r),o=(0,a.internal_setPublicAccess)(l,n,t);if(o)try{return await(0,i.saveAcrFor)(o,r),await c(e,r)}catch(e){return null}return null}if((0,n.hasAccessibleAcl)(l)){if(t.controlRead!==t.controlWrite)throw new Error(`When setting access for a Resource in a Pod implementing Web Access Control (i.e. [${(0,o.getSourceIri)(l)}]), \`controlRead\` and \`controlWrite\` should have the same value.`);const e=t;return await(0,s.setPublicResourceAccess)(l,e,r),(0,s.getPublicAccess)(l,r)}return null};var u=r(5598);Object.defineProperty(t,"getAccessFor",{enumerable:!0,get:function(){return u.getAccessFor}}),Object.defineProperty(t,"getAccessForAll",{enumerable:!0,get:function(){return u.getAccessForAll}}),Object.defineProperty(t,"setAccessFor",{enumerable:!0,get:function(){return u.setAccessFor}})},4145:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPublicResourceAccess=t.setGroupResourceAccess=t.setAgentResourceAccess=t.getGroupAccessAll=t.getAgentAccessAll=t.getPublicAccess=t.getGroupAccess=t.getAgentAccess=void 0;const n=r(3844),i=r(87),o=r(1005),a=r(7746),s=r(9009),l=r(3185);function c(e,t){var r,n,i,o;if(e.controlRead!==e.controlWrite)throw new Error("For Pods using Web Access Control, controlRead and controlWrite must be equal.");return{read:null!==(r=e.read)&&void 0!==r?r:t.read,append:null!==(n=e.append)&&void 0!==n?n:t.append,write:null!==(i=e.write)&&void 0!==i?i:t.write,control:null!==(o=e.controlRead)&&void 0!==o?o:t.control}}function u(e){return{read:e.read,write:e.write,append:e.append,controlRead:e.control,controlWrite:e.control}}async function d(e,t,r,i){const o=await(0,n.internal_fetchAcl)(e,i),a=r((0,n.internal_setAcl)(e,o),t);return null===a?null:u(a)}async function f(e,t,r){const i=await(0,n.internal_fetchAcl)(e,r),o=t((0,n.internal_setAcl)(e,i));if(null===o)return null;const a={};for(const[e,t]of Object.entries(o))a[e]=u(t);return a}async function h(e,t){if(!(0,l.hasAccessibleAcl)(e))return null;const r=await(0,n.internal_fetchAcl)(e,t),i=(0,n.internal_setAcl)(e,r);let o;if((0,l.hasResourceAcl)(i))o=(0,n.internal_getResourceAcl)(i);else{if(!(0,l.hasFallbackAcl)(i))return null;o=(0,l.createAclFromFallbackAcl)(i)}return(0,n.internal_setResourceAcl)(i,o)}async function g(e,t,r){let i=null;try{return i=await(0,l.saveAclFor)(e,t,r),(0,n.internal_setResourceAcl)(e,i)}catch(e){return null}}async function p(e,t,r,n,i,o){const a=await h(e,o);if(null===a)return null;const s=n(a,t);return g(a,i((0,l.getResourceAcl)(a),t,c(r,s)),o)}t.getAgentAccess=function(e,t,r=s.internal_defaultFetchOptions){return d(e,t,i.getAgentAccess,r)},t.getGroupAccess=function(e,t,r=s.internal_defaultFetchOptions){return d(e,t,o.getGroupAccess,r)},t.getPublicAccess=function(e,t=s.internal_defaultFetchOptions){return async function(e,t,r){const i=await(0,n.internal_fetchAcl)(e,r),o=t((0,n.internal_setAcl)(e,i));return null===o?null:u(o)}(e,a.getPublicAccess,t)},t.getAgentAccessAll=function(e,t=s.internal_defaultFetchOptions){return f(e,i.getAgentAccessAll,t)},t.getGroupAccessAll=function(e,t=s.internal_defaultFetchOptions){return f(e,o.getGroupAccessAll,t)},t.setAgentResourceAccess=async function(e,t,r,n=s.internal_defaultFetchOptions){return p(e,t,r,i.getAgentAccess,i.setAgentResourceAccess,n)},t.setGroupResourceAccess=async function(e,t,r,n=s.internal_defaultFetchOptions){return p(e,t,r,o.getGroupAccess,o.setGroupResourceAccess,n)},t.setPublicResourceAccess=async function(e,t,r=s.internal_defaultFetchOptions){return async function(e,t,r,n,i){const o=await h(e,i);return null===o?null:g(o,n((0,l.getResourceAcl)(o),c(t,r(o))),i)}(e,t,a.getPublicAccess,a.setPublicResourceAccess,r)}},3844:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.internal_getResourceAcl=t.internal_setResourceAcl=t.internal_setActorAccess=t.internal_setAcl=t.internal_duplicateAclRule=t.internal_initialiseAclRule=t.internal_getAccessByIri=t.internal_getAclRulesForIri=t.internal_accessModeIriStrings=t.internal_removeEmptyAclRules=t.internal_combineAccessModes=t.internal_getAccess=t.internal_getDefaultAclRulesForResource=t.internal_getDefaultAclRules=t.internal_getResourceAclRulesForResource=t.internal_getResourceAclRules=t.internal_getAclRules=t.internal_getContainerPath=t.internal_fetchFallbackAcl=t.internal_fetchResourceAcl=t.internal_fetchAcl=void 0;const n=r(3995),i=r(9009),o=r(7955),a=r(7089),s=r(362),l=r(1220),c=r(7103),u=r(6796),d=r(3185),f=r(5205),h=r(4990),g=r(5443),p=r(9487);async function b(e,t=i.internal_defaultFetchOptions){if(!(0,d.hasAccessibleAcl)(e))return null;try{const r=await(0,n.getSolidDataset)(e.internal_resourceInfo.aclUrl,t);if((0,p.isAcr)(r))throw new U(e,r);return(0,h.freeze)(Object.assign(Object.assign({},r),{internal_accessTo:(0,i.getSourceUrl)(e)}))}catch(e){if(e instanceof U)throw e;return null}}async function y(e,t=i.internal_defaultFetchOptions){const r=new URL((0,i.getSourceUrl)(e)),n=r.pathname;if("/"===n)return null;const o=m(n),a=new URL(o,r.origin).href,s=await(0,i.getResourceInfo)(a,t);if(!(0,d.hasAccessibleAcl)(s))return null;const l=await b(s,t);return null===l?y(s,t):l}function m(e){const t="/"===e.substring(e.length-1)?e.substring(0,e.length-1):e;return`${e.substring(0,t.lastIndexOf("/"))}/`}function A(e){return(0,s.getThingAll)(e).filter(v)}function v(e){return(0,l.getIriAll)(e,o.rdf.type).includes(o.acl.Authorization)}function _(e){return null!==(0,l.getIri)(e,o.acl.accessTo)}function w(e){return null!==(0,l.getIri)(e,o.acl.default)||null!==(0,l.getIri)(e,o.acl.defaultForNew)}function P(e){const r=(0,l.getIriAll)(e,o.acl.mode);return r.includes(t.internal_accessModeIriStrings.write)?{read:r.includes(t.internal_accessModeIriStrings.read),append:!0,write:!0,control:r.includes(t.internal_accessModeIriStrings.control)}:{read:r.includes(t.internal_accessModeIriStrings.read),append:r.includes(t.internal_accessModeIriStrings.append),write:!1,control:r.includes(t.internal_accessModeIriStrings.control)}}function O(e){return e.reduce(((e,t)=>e.write||t.write?{read:e.read||t.read,append:!0,write:!0,control:e.control||t.control}:{read:e.read||t.read,append:e.append||t.append,write:!1,control:e.control||t.control}),{read:!1,append:!1,write:!1,control:!1})}function j(e){return A(e).filter(R).reduce(s.removeThing,e)}function R(e){return!(0,a.subjectToRdfJsQuads)(e.predicates,a.DataFactory.namedNode(e.url),a.DataFactory.defaultGraph()).some((e=>!function(e){const{predicate:r}=e,{object:n}=e;return!(!r.equals(a.DataFactory.namedNode(o.rdf.type))||!n.equals(a.DataFactory.namedNode(o.acl.Authorization)))||(!!(r.equals(a.DataFactory.namedNode(o.acl.accessTo))||r.equals(a.DataFactory.namedNode(o.acl.default))||r.equals(a.DataFactory.namedNode(o.acl.defaultForNew)))||(!(!r.equals(a.DataFactory.namedNode(o.acl.mode))||!Object.values(t.internal_accessModeIriStrings).some((e=>n.equals(a.DataFactory.namedNode(e)))))||(!!(r.equals(a.DataFactory.namedNode(o.acl.agent))||r.equals(a.DataFactory.namedNode(o.acl.agentGroup))||r.equals(a.DataFactory.namedNode(o.acl.agentClass)))||!!r.equals(a.DataFactory.namedNode(o.acl.origin)))))}(e)))&&(null===(0,l.getIri)(e,o.acl.accessTo)&&null===(0,l.getIri)(e,o.acl.default)&&null===(0,l.getIri)(e,o.acl.defaultForNew)||null===(0,l.getIri)(e,o.acl.mode)||null===(0,l.getIri)(e,o.acl.agent)&&null===(0,l.getIri)(e,o.acl.agentGroup)&&null===(0,l.getIri)(e,o.acl.agentClass))}function x(e){let r=(0,s.createThing)();return r=(0,c.setIri)(r,o.rdf.type,o.acl.Authorization),e.read&&(r=(0,u.addIri)(r,o.acl.mode,t.internal_accessModeIriStrings.read)),e.append&&!e.write&&(r=(0,u.addIri)(r,o.acl.mode,t.internal_accessModeIriStrings.append)),e.write&&(r=(0,u.addIri)(r,o.acl.mode,t.internal_accessModeIriStrings.write)),e.control&&(r=(0,u.addIri)(r,o.acl.mode,t.internal_accessModeIriStrings.control)),r}function I(e){let t=(0,s.createThing)();function r(e,t,r){return(0,l.getIriAll)(e,r).reduce(((e,t)=>(0,u.addIri)(e,r,t)),t)}return t=(0,c.setIri)(t,o.rdf.type,o.acl.Authorization),t=r(e,t,o.acl.accessTo),t=r(e,t,o.acl.default),t=r(e,t,o.acl.defaultForNew),t=r(e,t,o.acl.agent),t=r(e,t,o.acl.agentGroup),t=r(e,t,o.acl.agentClass),t=r(e,t,o.acl.origin),t=r(e,t,o.acl.mode),t}function S(e,t){return Object.assign((0,g.internal_cloneResource)(e),{internal_acl:t})}t.internal_fetchAcl=async function(e,t=i.internal_defaultFetchOptions){if(!(0,d.hasAccessibleAcl)(e))return{resourceAcl:null,fallbackAcl:null};try{const r=await b(e,t);return null===r?{resourceAcl:null,fallbackAcl:await y(e,t)}:{resourceAcl:r,fallbackAcl:null}}catch(e){if(e instanceof U)return{resourceAcl:null,fallbackAcl:null};throw e}},t.internal_fetchResourceAcl=b,t.internal_fetchFallbackAcl=y,t.internal_getContainerPath=m,t.internal_getAclRules=A,t.internal_getResourceAclRules=function(e){return e.filter(_)},t.internal_getResourceAclRulesForResource=function(e,t){return e.filter((e=>function(e,t){return(0,l.getIriAll)(e,o.acl.accessTo).includes(t)}(e,t)))},t.internal_getDefaultAclRules=function(e){return e.filter(w)},t.internal_getDefaultAclRulesForResource=function(e,t){return e.filter((e=>function(e,t){return(0,l.getIriAll)(e,o.acl.default).includes(t)||(0,l.getIriAll)(e,o.acl.defaultForNew).includes(t)}(e,t)))},t.internal_getAccess=P,t.internal_combineAccessModes=O,t.internal_removeEmptyAclRules=j,t.internal_accessModeIriStrings={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"},t.internal_getAclRulesForIri=function(e,t,r){return e.filter((e=>(0,l.getIriAll)(e,r).includes(t)))},t.internal_getAccessByIri=function(e,t){const r={};return e.forEach((e=>{const n=(0,l.getIriAll)(e,t),i=P(e);n.forEach((e=>{r[e]=void 0===r[e]?i:O([r[e],i])}))})),r},t.internal_initialiseAclRule=x,t.internal_duplicateAclRule=I,t.internal_setAcl=S;const T=[o.acl.agent,o.acl.agentClass,o.acl.agentGroup,o.acl.origin];t.internal_setActorAccess=function(e,t,r,n,i){let a=e;(0,s.getThingAll)(e).forEach((t=>{const[u,d]=function(e,t,r,n,i){if(!(0,l.getIriAll)(e,r).includes(t))return[e,x({read:!1,append:!1,write:!1,control:!1})];const a=(0,f.removeIri)(e,r,t);let s=I(e);return s=(0,f.removeIri)(s,"resource"===i?o.acl.accessTo:o.acl.default,n),"default"===i&&(s=(0,f.removeIri)(s,o.acl.defaultForNew,n)),s=(0,c.setIri)(s,r,t),T.filter((e=>e!==r)).forEach((e=>{s=(0,f.removeAll)(s,e)})),[a,s]}(t,i,r,e.internal_accessTo,n);a=(0,s.setThing)(a,u),a=(0,s.setThing)(a,d)}));let u=x(t);return u=(0,c.setIri)(u,"resource"===n?o.acl.accessTo:o.acl.default,e.internal_accessTo),u=(0,c.setIri)(u,r,i),j((0,s.setThing)(a,u))},t.internal_setResourceAcl=function(e,t){return S(e,{resourceAcl:t,fallbackAcl:null})},t.internal_getResourceAcl=function(e){return e.internal_acl.resourceAcl};class U extends Error{constructor(e,t){super(`[${(0,i.getSourceIri)(e)}] is governed by Access Control Policies in [${(0,i.getSourceIri)(t)}] rather than by Web Access Control.`)}}},3185:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasAccessibleAcl=t.deleteAclFor=t.saveAclFor=t.createAclFromFallbackAcl=t.createAcl=t.getFallbackAcl=t.hasFallbackAcl=t.getResourceAcl=t.getResourceInfoWithAcl=t.getFileWithAcl=t.getSolidDatasetWithAcl=t.hasResourceAcl=t.hasAcl=void 0;const n=r(7955),i=r(3995),o=r(362),a=r(5205),s=r(7103),l=r(9009),c=r(2146),u=r(5443),d=r(3844),f=r(4990);function h(e){return null!==e.internal_acl.resourceAcl&&(0,l.getSourceUrl)(e)===e.internal_acl.resourceAcl.internal_accessTo&&e.internal_resourceInfo.aclUrl===(0,l.getSourceUrl)(e.internal_acl.resourceAcl)}function g(e){return null!==e.internal_acl.fallbackAcl}function p(e){return(0,f.freeze)(Object.assign(Object.assign({},(0,i.createSolidDataset)()),{internal_accessTo:(0,l.getSourceUrl)(e),internal_resourceInfo:{sourceIri:e.internal_resourceInfo.aclUrl,isRawData:!1,linkedResources:{}}}))}function b(e){return"string"==typeof e.internal_resourceInfo.aclUrl}t.hasAcl=function(e){return"object"==typeof e.internal_acl},t.hasResourceAcl=h,t.getSolidDatasetWithAcl=async function(e,t=l.internal_defaultFetchOptions){const r=await(0,i.getSolidDataset)(e,t),n=await(0,d.internal_fetchAcl)(r,t);return(0,d.internal_setAcl)(r,n)},t.getFileWithAcl=async function(e,t=l.internal_defaultFetchOptions){const r=await(0,c.getFile)(e,t),n=await(0,d.internal_fetchAcl)(r,t);return(0,d.internal_setAcl)(r,n)},t.getResourceInfoWithAcl=async function(e,t=l.internal_defaultFetchOptions){const r=await(0,l.getResourceInfo)(e,t),n=await(0,d.internal_fetchAcl)(r,t);return(0,d.internal_setAcl)(r,n)},t.getResourceAcl=function(e){return h(e)?e.internal_acl.resourceAcl:null},t.hasFallbackAcl=g,t.getFallbackAcl=function(e){return g(e)?e.internal_acl.fallbackAcl:null},t.createAcl=p,t.createAclFromFallbackAcl=function(e){const t=p(e),r=(0,d.internal_getAclRules)(e.internal_acl.fallbackAcl);return(0,d.internal_getDefaultAclRulesForResource)(r,e.internal_acl.fallbackAcl.internal_accessTo).map((t=>(t=(0,a.removeAll)(t,n.acl.default),t=(0,a.removeAll)(t,n.acl.defaultForNew),t=(0,s.setIri)(t,n.acl.accessTo,(0,l.getSourceUrl)(e)),(0,s.setIri)(t,n.acl.default,(0,l.getSourceUrl)(e))))).reduce(o.setThing,t)},t.saveAclFor=async function(e,t,r=l.internal_defaultFetchOptions){if(!b(e))throw new Error(`Could not determine the location of the ACL for the Resource at [${(0,l.getSourceUrl)(e)}]; possibly the current user does not have Control access to that Resource. Try calling \`hasAccessibleAcl()\` before calling \`saveAclFor()\`.`);const n=await(0,i.saveSolidDatasetAt)(e.internal_resourceInfo.aclUrl,t,r);return Object.assign(Object.assign({},n),{internal_accessTo:(0,l.getSourceUrl)(e)})},t.deleteAclFor=async function(e,t=l.internal_defaultFetchOptions){const r=Object.assign(Object.assign({},l.internal_defaultFetchOptions),t),n=await r.fetch(e.internal_resourceInfo.aclUrl,{method:"DELETE"});if(!n.ok)throw new Error(`Deleting the ACL of the Resource at [${(0,l.getSourceUrl)(e)}] failed: [${n.status}] [${n.statusText}].`);return Object.assign((0,u.internal_cloneResource)(e),{acl:{resourceAcl:null}})},t.hasAccessibleAcl=b},87:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAgentDefaultAccess=t.getAgentDefaultAccessAll=t.getAgentDefaultAccess=t.setAgentResourceAccess=t.getAgentResourceAccessAll=t.getAgentResourceAccess=t.getAgentAccessAll=t.getAgentAccess=void 0;const n=r(1220),i=r(7955),o=r(3185),a=r(3844);function s(e,t){const r=(0,a.internal_getAclRules)(e),n=d((0,a.internal_getResourceAclRulesForResource)(r,e.internal_accessTo),t).map(a.internal_getAccess);return(0,a.internal_combineAccessModes)(n)}function l(e){const t=(0,a.internal_getAclRules)(e);return g(f((0,a.internal_getResourceAclRulesForResource)(t,e.internal_accessTo)))}function c(e,t){const r=(0,a.internal_getAclRules)(e),n=d((0,a.internal_getDefaultAclRulesForResource)(r,e.internal_accessTo),t).map(a.internal_getAccess);return(0,a.internal_combineAccessModes)(n)}function u(e){const t=(0,a.internal_getAclRules)(e);return g(f((0,a.internal_getDefaultAclRulesForResource)(t,e.internal_accessTo)))}function d(e,t){return(0,a.internal_getAclRulesForIri)(e,t,i.acl.agent)}function f(e){return e.filter(h)}function h(e){return null!==(0,n.getIri)(e,i.acl.agent)}function g(e){return(0,a.internal_getAccessByIri)(e,i.acl.agent)}t.getAgentAccess=function(e,t){return(0,o.hasResourceAcl)(e)?s(e.internal_acl.resourceAcl,t):(0,o.hasFallbackAcl)(e)?c(e.internal_acl.fallbackAcl,t):null},t.getAgentAccessAll=function(e){return(0,o.hasResourceAcl)(e)?l((0,o.getResourceAcl)(e)):(0,o.hasFallbackAcl)(e)?u((0,o.getFallbackAcl)(e)):null},t.getAgentResourceAccess=s,t.getAgentResourceAccessAll=l,t.setAgentResourceAccess=function(e,t,r){return(0,a.internal_setActorAccess)(e,r,i.acl.agent,"resource",t)},t.getAgentDefaultAccess=c,t.getAgentDefaultAccessAll=u,t.setAgentDefaultAccess=function(e,t,r){return(0,a.internal_setActorAccess)(e,r,i.acl.agent,"default",t)}},7746:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPublicDefaultAccess=t.setPublicResourceAccess=t.getPublicDefaultAccess=t.getPublicResourceAccess=t.getPublicAccess=void 0;const n=r(7955),i=r(1220),o=r(3185),a=r(3844);function s(e){const t=(0,a.internal_getAclRules)(e),r=c((0,a.internal_getResourceAclRulesForResource)(t,e.internal_accessTo),n.foaf.Agent).map(a.internal_getAccess);return(0,a.internal_combineAccessModes)(r)}function l(e){const t=(0,a.internal_getAclRules)(e),r=c((0,a.internal_getDefaultAclRulesForResource)(t,e.internal_accessTo),n.foaf.Agent).map(a.internal_getAccess);return(0,a.internal_combineAccessModes)(r)}function c(e,t){return e.filter((e=>function(e,t){return(0,i.getIriAll)(e,n.acl.agentClass).includes(t)}(e,t)))}t.getPublicAccess=function(e){return(0,o.hasResourceAcl)(e)?s(e.internal_acl.resourceAcl):(0,o.hasFallbackAcl)(e)?l(e.internal_acl.fallbackAcl):null},t.getPublicResourceAccess=s,t.getPublicDefaultAccess=l,t.setPublicResourceAccess=function(e,t){return(0,a.internal_setActorAccess)(e,t,n.acl.agentClass,"resource",n.foaf.Agent)},t.setPublicDefaultAccess=function(e,t){return(0,a.internal_setActorAccess)(e,t,n.acl.agentClass,"default",n.foaf.Agent)}},1005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupDefaultAccess=t.setGroupResourceAccess=t.getGroupDefaultAccessAll=t.getGroupDefaultAccess=t.getGroupResourceAccessAll=t.getGroupResourceAccess=t.getGroupAccessAll=t.getGroupAccess=void 0;const n=r(3185),i=r(3844),o=r(7955);function a(e,t){const r=(0,i.internal_getAclRules)(e),n=u((0,i.internal_getResourceAclRulesForResource)(r,e.internal_accessTo),t).map(i.internal_getAccess);return(0,i.internal_combineAccessModes)(n)}function s(e){const t=(0,i.internal_getAclRules)(e);return d((0,i.internal_getResourceAclRulesForResource)(t,e.internal_accessTo))}function l(e,t){const r=(0,i.internal_getAclRules)(e),n=u((0,i.internal_getDefaultAclRulesForResource)(r,e.internal_accessTo),t).map(i.internal_getAccess);return(0,i.internal_combineAccessModes)(n)}function c(e){const t=(0,i.internal_getAclRules)(e);return d((0,i.internal_getDefaultAclRulesForResource)(t,e.internal_accessTo))}function u(e,t){return(0,i.internal_getAclRulesForIri)(e,t,o.acl.agentGroup)}function d(e){return(0,i.internal_getAccessByIri)(e,o.acl.agentGroup)}t.getGroupAccess=function(e,t){return(0,n.hasResourceAcl)(e)?a(e.internal_acl.resourceAcl,t):(0,n.hasFallbackAcl)(e)?l(e.internal_acl.fallbackAcl,t):null},t.getGroupAccessAll=function(e){return(0,n.hasResourceAcl)(e)?s((0,n.getResourceAcl)(e)):(0,n.hasFallbackAcl)(e)?c((0,n.getFallbackAcl)(e)):null},t.getGroupResourceAccess=a,t.getGroupResourceAccessAll=s,t.getGroupDefaultAccess=l,t.getGroupDefaultAccessAll=c,t.setGroupResourceAccess=function(e,t,r){return(0,i.internal_setActorAccess)(e,r,o.acl.agentGroup,"resource",t)},t.setGroupDefaultAccess=function(e,t,r){return(0,i.internal_setActorAccess)(e,r,o.acl.agentGroup,"default",t)}},7472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMockAclUrl=t.addMockAclRuleQuads=void 0;const n=r(5443),i=r(6796),o=r(362);t.addMockAclRuleQuads=function(e,t,r,n,a,s,l="http://www.w3.org/ns/auth/acl#agent"){var c;let u=(0,o.createThing)({name:encodeURIComponent(t)+Math.random()});"string"==typeof s&&(u=null!==(c=(0,o.getThing)(e,s))&&void 0!==c?c:(0,o.createThing)({url:s})),u=(0,i.addIri)(u,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/ns/auth/acl#Authorization");let d="http://www.w3.org/ns/auth/acl#accessTo";return"default"===a&&(d="http://www.w3.org/ns/auth/acl#default"),"legacyDefault"===a&&(d="http://www.w3.org/ns/auth/acl#defaultForNew"),u=(0,i.addIri)(u,d,r),u=(0,i.addIri)(u,l,t),n.read&&(u=(0,i.addIri)(u,"http://www.w3.org/ns/auth/acl#mode","http://www.w3.org/ns/auth/acl#Read")),n.append&&(u=(0,i.addIri)(u,"http://www.w3.org/ns/auth/acl#mode","http://www.w3.org/ns/auth/acl#Append")),n.write&&(u=(0,i.addIri)(u,"http://www.w3.org/ns/auth/acl#mode","http://www.w3.org/ns/auth/acl#Write")),n.control&&(u=(0,i.addIri)(u,"http://www.w3.org/ns/auth/acl#mode","http://www.w3.org/ns/auth/acl#Control")),e=(0,o.setThing)(e,u),Object.assign(Object.assign({},e),{internal_accessTo:r})},t.setMockAclUrl=function(e,t){return Object.assign((0,n.internal_cloneResource)(e),{internal_resourceInfo:Object.assign(Object.assign({},e.internal_resourceInfo),{aclUrl:t})})}},4559:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMockFallbackAclTo=t.addMockResourceAclTo=void 0;const n=r(9009),i=r(5443),o=r(3185),a=r(3844),s=r(2047),l=r(7472);t.addMockResourceAclTo=function(e){var t;const r=null!==(t=e.internal_resourceInfo.aclUrl)&&void 0!==t?t:"https://your.pod/mock-acl.ttl",n=Object.assign((0,i.internal_cloneResource)(e),{internal_resourceInfo:Object.assign(Object.assign({},e.internal_resourceInfo),{aclUrl:r})}),s=(0,o.createAcl)(n);return(0,a.internal_setAcl)(n,{resourceAcl:s,fallbackAcl:null})},t.addMockFallbackAclTo=function(e){const t=(0,a.internal_getContainerPath)((0,n.getSourceIri)(e)),r=`${t}.acl`,c=(0,l.setMockAclUrl)((0,s.mockContainerFrom)(t),r),u=(0,o.createAcl)(c);return(0,a.internal_setAcl)((0,i.internal_cloneResource)(e),{resourceAcl:null,fallbackAcl:u})}},8795:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAccessControlUrlAll=void 0;const n=r(8684),i=r(1220),o=r(616);t.getAccessControlUrlAll=function(e){const t=(0,o.getAccessControlResourceThing)(e);return null===t?[]:(0,i.getIriAll)(t,n.ACP.accessControl)}},2280:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMemberAccessControlUrlAll=void 0;const n=r(8684),i=r(1220),o=r(616);t.getMemberAccessControlUrlAll=function(e){const t=(0,o.getAccessControlResourceThing)(e);return null===t?[]:(0,i.getIriAll)(t,n.ACP.memberAccessControl)}},9487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAcr=void 0;const n=r(7955),i=r(9009);t.isAcr=function(e){const t=(0,i.getLinkedResourceUrlAll)(e).type;return Array.isArray(t)&&t.includes(n.acp.AccessControlResource)}},6885:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setVcAccess=t.getVcAccess=t.getLinkedAcrUrl=t.isAcpControlled=t.getReferencedPolicyUrlAll=t.hasAccessibleAcr=t.saveAcrFor=t.getResourceInfoWithAccessDatasets=t.getFileWithAccessDatasets=t.getSolidDatasetWithAccessDatasets=t.getResourceInfoWithAcr=t.getFileWithAcr=t.getSolidDatasetWithAcr=void 0;const n=r(7955),i=r(6397),o=r(5475),a=r(2146),s=r(9009),l=r(3185),c=r(3844),u=r(3995),d=r(7158),f=r(1193),h=r(9251),g=r(9487);function p(e){return"object"==typeof e.internal_acp&&null!==e.internal_acp&&"object"==typeof e.internal_acp.acr&&null!==e.internal_acp.acr}async function b(e,t){let r,i;if((0,d.hasLinkedAcr)(e)){const{linkedResources:t}=e.internal_resourceInfo;[r]=t[n.acp.accessControl]}else if((0,l.hasAccessibleAcl)(e)){const n=await(0,s.getResourceInfo)(e.internal_resourceInfo.aclUrl,t);(0,g.isAcr)(n)&&(r=(0,s.getSourceUrl)(n))}if("string"!=typeof r)return{internal_acp:{acr:null}};try{i=await(0,u.getSolidDataset)(r,t)}catch(e){return{internal_acp:{acr:null}}}return{internal_acp:{acr:Object.assign(Object.assign({},i),{accessTo:(0,s.getSourceUrl)(e)})}}}t.getSolidDatasetWithAcr=async function(e,t=s.internal_defaultFetchOptions){const r=(0,o.internal_toIriString)(e),n=Object.assign(Object.assign({},s.internal_defaultFetchOptions),t),i=await(0,u.getSolidDataset)(r,n),a=await b(i,n);return Object.assign(Object.assign({},i),a)},t.getFileWithAcr=async function(e,t=s.internal_defaultFetchOptions){const r=(0,o.internal_toIriString)(e),n=Object.assign(Object.assign({},s.internal_defaultFetchOptions),t),i=await(0,a.getFile)(r,n),l=await b(i,n);return Object.assign(i,l)},t.getResourceInfoWithAcr=async function(e,t=s.internal_defaultFetchOptions){const r=(0,o.internal_toIriString)(e),n=Object.assign(Object.assign({},s.internal_defaultFetchOptions),t),i=await(0,s.getResourceInfo)(r,n),a=await b(i,n);return Object.assign(Object.assign({},i),a)},t.getSolidDatasetWithAccessDatasets=async function(e,t=s.internal_defaultFetchOptions){const r=(0,o.internal_toIriString)(e),n=Object.assign(Object.assign({},s.internal_defaultFetchOptions),t),i=await(0,u.getSolidDataset)(r,n);if((0,l.hasAccessibleAcl)(i)){const e=await(0,c.internal_fetchAcl)(i,n);return(0,c.internal_setAcl)(i,e)}const a=await b(i,n);return Object.assign(Object.assign({},i),a)},t.getFileWithAccessDatasets=async function(e,t=s.internal_defaultFetchOptions){const r=(0,o.internal_toIriString)(e),n=Object.assign(Object.assign({},s.internal_defaultFetchOptions),t),i=await(0,a.getFile)(r,n);if((0,l.hasAccessibleAcl)(i)){const e=await(0,c.internal_fetchAcl)(i,n);return(0,c.internal_setAcl)(i,e)}const u=await b(i,n);return Object.assign(i,u)},t.getResourceInfoWithAccessDatasets=async function(e,t=s.internal_defaultFetchOptions){const r=(0,o.internal_toIriString)(e),n=Object.assign(Object.assign({},s.internal_defaultFetchOptions),t),i=await(0,s.getResourceInfo)(r,n);if((0,l.hasAccessibleAcl)(i)){const e=await(0,c.internal_fetchAcl)(i,n);return(0,c.internal_setAcl)(i,e)}const a=await b(i,n);return Object.assign(Object.assign({},i),a)},t.saveAcrFor=async function(e,t=s.internal_defaultFetchOptions){const r=(0,f.internal_getAcr)(e),n=Object.assign(Object.assign({},s.internal_defaultFetchOptions),t),i=await(0,u.saveSolidDatasetAt)((0,s.getSourceUrl)(r),r,n);return(0,f.internal_setAcr)(e,i)},t.hasAccessibleAcr=p,t.getReferencedPolicyUrlAll=function(e){const t=(0,d.getPolicyUrlAll)(e).map(h.normalizeServerSideIri).concat((0,d.getMemberPolicyUrlAll)(e).map(h.normalizeServerSideIri)).concat((0,d.getAcrPolicyUrlAll)(e).map(h.normalizeServerSideIri)).concat((0,d.getMemberAcrPolicyUrlAll)(e).map(h.normalizeServerSideIri));return Array.from(new Set(t))},t.isAcpControlled=async function(e,t=s.internal_defaultFetchOptions){const r=(0,o.internal_toIriString)(e),n=Object.assign(Object.assign({},s.internal_defaultFetchOptions),t),i=await(0,s.getResourceInfo)(r,n);return p(await b(i,n))},t.getLinkedAcrUrl=function(e){if((0,i.hasServerResourceInfo)(e))return[n.acp.accessControl,"acl"].map((t=>{if(Array.isArray(e.internal_resourceInfo.linkedResources[t])&&1===e.internal_resourceInfo.linkedResources[t].length)return e.internal_resourceInfo.linkedResources[t][0]})).find((e=>void 0!==e))};var y=r(5398);Object.defineProperty(t,"getVcAccess",{enumerable:!0,get:function(){return y.getVcAccess}});var m=r(465);Object.defineProperty(t,"setVcAccess",{enumerable:!0,get:function(){return m.setVcAccess}})},8684:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VC_ACCESS_GRANT=t.ACL=t.ACL_NAMESPACE=t.ACP=t.ACP_NAMESPACE=void 0,t.ACP_NAMESPACE="http://www.w3.org/ns/solid/acp#",t.ACP={AccessControl:t.ACP_NAMESPACE.concat("AccessControl"),AccessControlResource:t.ACP_NAMESPACE.concat("AccessControlResource"),AuthenticatedAgent:t.ACP_NAMESPACE.concat("AuthenticatedAgent"),CreatorAgent:t.ACP_NAMESPACE.concat("CreatorAgent"),Matcher:t.ACP_NAMESPACE.concat("Matcher"),Policy:t.ACP_NAMESPACE.concat("Policy"),PublicAgent:t.ACP_NAMESPACE.concat("PublicAgent"),access:t.ACP_NAMESPACE.concat("access"),accessControl:t.ACP_NAMESPACE.concat("accessControl"),agent:t.ACP_NAMESPACE.concat("agent"),allOf:t.ACP_NAMESPACE.concat("allOf"),allow:t.ACP_NAMESPACE.concat("allow"),anyOf:t.ACP_NAMESPACE.concat("anyOf"),apply:t.ACP_NAMESPACE.concat("apply"),client:t.ACP_NAMESPACE.concat("client"),deny:t.ACP_NAMESPACE.concat("deny"),memberAccessControl:t.ACP_NAMESPACE.concat("memberAccessControl"),noneOf:t.ACP_NAMESPACE.concat("noneOf"),vc:t.ACP_NAMESPACE.concat("vc")},t.ACL_NAMESPACE="http://www.w3.org/ns/auth/acl#",t.ACL={Append:t.ACL_NAMESPACE.concat("Append"),Control:t.ACL_NAMESPACE.concat("Control"),Read:t.ACL_NAMESPACE.concat("Read"),Write:t.ACL_NAMESPACE.concat("Write")},t.VC_ACCESS_GRANT="http://www.w3.org/ns/solid/vc#SolidAccessGrant"},1193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.internal_getInitialisedControl=t.internal_removeMemberPolicyUrlAll=t.internal_removeMemberPolicyUrl=t.internal_getMemberPolicyUrlAll=t.internal_addMemberPolicyUrl=t.internal_removePolicyUrlAll=t.internal_removePolicyUrl=t.internal_getPolicyUrlAll=t.internal_addPolicyUrl=t.internal_setControl=t.internal_getControlAll=t.internal_getControl=t.internal_createControl=t.internal_setAcr=t.internal_getAcr=void 0;const n=r(7955),i=r(9009),o=r(5443),a=r(6796),s=r(1220),l=r(5205),c=r(7103),u=r(362),d=r(6885);function f(e){if(!(0,d.hasAccessibleAcr)(e))throw new Error(`An Access Control Resource for [${(0,i.getSourceUrl)(e)}] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources.`);return e.internal_acp.acr}function h(e,t){return Object.assign((0,o.internal_cloneResource)(e),{internal_acp:Object.assign(Object.assign({},e.internal_acp),{acr:t})})}function g(e){let t=(0,u.createThing)(e);return t=(0,c.setIri)(t,n.rdf.type,n.acp.AccessControl),t}function p(e,t){const r=f(e),i=(0,u.getThingAll)(r,t),o=i.filter((e=>(0,s.getIriAll)(e,n.rdf.type).includes(n.acp.AccessControl))),a=i.filter((e=>(0,s.getIriAll)(e,n.acp.accessControl).length>0)).map((e=>{const t=(0,s.getIriAll)(e,n.acp.accessControl)[0];return(0,u.createThing)({url:t})}));return o.concat(a)}t.internal_getAcr=f,t.internal_setAcr=h,t.internal_createControl=g,t.internal_getControl=function(e,t,r){const i=f(e),o=(0,u.getThing)(i,t,r);return null!==o&&(0,s.getIriAll)(o,n.rdf.type).includes(n.acp.AccessControl)?o:null},t.internal_getControlAll=p,t.internal_setControl=function(e,t){const r=f(e);return h(e,(0,u.setThing)(r,t))},t.internal_addPolicyUrl=function(e,t){return(0,a.addIri)(e,n.acp.apply,t)},t.internal_getPolicyUrlAll=function(e){return(0,s.getIriAll)(e,n.acp.apply)},t.internal_removePolicyUrl=function(e,t){return(0,l.removeIri)(e,n.acp.apply,t)},t.internal_removePolicyUrlAll=function(e){return(0,l.removeAll)(e,n.acp.apply)},t.internal_addMemberPolicyUrl=function(e,t){return(0,a.addIri)(e,n.acp.applyMembers,t)},t.internal_getMemberPolicyUrlAll=function(e){return(0,s.getIriAll)(e,n.acp.applyMembers)},t.internal_removeMemberPolicyUrl=function(e,t){return(0,l.removeIri)(e,n.acp.applyMembers,t)},t.internal_removeMemberPolicyUrlAll=function(e){return(0,l.removeAll)(e,n.acp.applyMembers)},t.internal_getInitialisedControl=function(e){const t=p(e);return 0===t.length?g():t[0]}},7158:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.acrAsMarkdown=t.removeMemberPolicyUrlAll=t.removePolicyUrlAll=t.removeMemberPolicyUrl=t.removePolicyUrl=t.getMemberPolicyUrlAll=t.getPolicyUrlAll=t.addMemberPolicyUrl=t.addPolicyUrl=t.removeMemberAcrPolicyUrlAll=t.removeAcrPolicyUrlAll=t.removeMemberAcrPolicyUrl=t.removeAcrPolicyUrl=t.getMemberAcrPolicyUrlAll=t.getAcrPolicyUrlAll=t.addMemberAcrPolicyUrl=t.addAcrPolicyUrl=t.hasLinkedAcr=void 0;const n=r(7955),i=r(6397),o=r(9009),a=r(6796),s=r(1220),l=r(5205),c=r(362),u=r(1193);function d(e){const t=(0,u.internal_getAcr)(e),r=(0,o.getSourceUrl)(t),i=(0,c.getThing)(t,r);return null===i?[]:(0,s.getIriAll)(i,n.acp.access)}function f(e){const t=(0,u.internal_getAcr)(e),r=(0,o.getSourceUrl)(t),i=(0,c.getThing)(t,r);return null===i?[]:(0,s.getIriAll)(i,n.acp.accessMembers)}function h(e){const t=(0,u.internal_getControlAll)(e).map((e=>(0,u.internal_getPolicyUrlAll)(e))),r=new Set;return t.forEach((e=>{e.forEach((e=>r.add(e)))})),Array.from(r)}function g(e){const t=(0,u.internal_getControlAll)(e).map((e=>(0,u.internal_getMemberPolicyUrlAll)(e))),r=new Set;return t.forEach((e=>{e.forEach((e=>r.add(e)))})),Array.from(r)}t.hasLinkedAcr=function(e){return(0,i.hasServerResourceInfo)(e)&&Array.isArray(e.internal_resourceInfo.linkedResources[n.acp.accessControl])&&1===e.internal_resourceInfo.linkedResources[n.acp.accessControl].length},t.addAcrPolicyUrl=function(e,t){var r;const i=(0,u.internal_getAcr)(e),s=(0,o.getSourceUrl)(i);let l=null!==(r=(0,c.getThing)(i,s))&&void 0!==r?r:(0,c.createThing)({url:s});l=(0,a.addIri)(l,n.acp.access,t);const d=(0,c.setThing)(i,l);return(0,u.internal_setAcr)(e,d)},t.addMemberAcrPolicyUrl=function(e,t){var r;const i=(0,u.internal_getAcr)(e),s=(0,o.getSourceUrl)(i);let l=null!==(r=(0,c.getThing)(i,s))&&void 0!==r?r:(0,c.createThing)({url:s});l=(0,a.addIri)(l,n.acp.accessMembers,t);const d=(0,c.setThing)(i,l);return(0,u.internal_setAcr)(e,d)},t.getAcrPolicyUrlAll=d,t.getMemberAcrPolicyUrlAll=f,t.removeAcrPolicyUrl=function(e,t){const r=(0,u.internal_getAcr)(e),i=(0,o.getSourceUrl)(r),a=(0,c.getThing)(r,i);if(null===a)return e;const s=(0,l.removeIri)(a,n.acp.access,t),d=(0,c.setThing)(r,s);return(0,u.internal_setAcr)(e,d)},t.removeMemberAcrPolicyUrl=function(e,t){const r=(0,u.internal_getAcr)(e),i=(0,o.getSourceUrl)(r),a=(0,c.getThing)(r,i);if(null===a)return e;const s=(0,l.removeIri)(a,n.acp.accessMembers,t),d=(0,c.setThing)(r,s);return(0,u.internal_setAcr)(e,d)},t.removeAcrPolicyUrlAll=function(e){const t=(0,u.internal_getAcr)(e),r=(0,o.getSourceUrl)(t),i=(0,c.getThing)(t,r);if(null===i)return e;const a=(0,l.removeAll)(i,n.acp.access),s=(0,c.setThing)(t,a);return(0,u.internal_setAcr)(e,s)},t.removeMemberAcrPolicyUrlAll=function(e){const t=(0,u.internal_getAcr)(e),r=(0,o.getSourceUrl)(t),i=(0,c.getThing)(t,r);if(null===i)return e;const a=(0,l.removeAll)(i,n.acp.accessMembers),s=(0,c.setThing)(t,a);return(0,u.internal_setAcr)(e,s)},t.addPolicyUrl=function(e,t){const r=(0,u.internal_getInitialisedControl)(e),n=(0,u.internal_addPolicyUrl)(r,t);return(0,u.internal_setControl)(e,n)},t.addMemberPolicyUrl=function(e,t){const r=(0,u.internal_getInitialisedControl)(e),n=(0,u.internal_addMemberPolicyUrl)(r,t);return(0,u.internal_setControl)(e,n)},t.getPolicyUrlAll=h,t.getMemberPolicyUrlAll=g,t.removePolicyUrl=function(e,t){return(0,u.internal_getControlAll)(e).map((e=>(0,u.internal_removePolicyUrl)(e,t))).reduce(u.internal_setControl,e)},t.removeMemberPolicyUrl=function(e,t){return(0,u.internal_getControlAll)(e).map((e=>(0,u.internal_removeMemberPolicyUrl)(e,t))).reduce(u.internal_setControl,e)},t.removePolicyUrlAll=function(e){return(0,u.internal_getControlAll)(e).map((e=>(0,u.internal_removePolicyUrlAll)(e))).reduce(u.internal_setControl,e)},t.removeMemberPolicyUrlAll=function(e){return(0,u.internal_getControlAll)(e).map((e=>(0,u.internal_removeMemberPolicyUrlAll)(e))).reduce(u.internal_setControl,e)},t.acrAsMarkdown=function(e){let t=`# Access controls for ${(0,o.getSourceUrl)(e)}\n`;const r=h(e),n=g(e),i=d(e),a=f(e);return 0===r.length&&0===n.length&&0===i.length&&0===a.length&&(t+="\n<no policies specified yet>\n"),r.length>0&&(t+="\nThe following policies apply to this resource:\n- ",t+=`${r.join("\n- ")}\n`),i.length>0&&(t+="\nThe following policies apply to the access control resource for this resource:\n- ",t+=`${i.join("\n- ")}\n`),n.length>0&&(t+="\nThe following policies apply to the children of this resource:\n- ",t+=`${n.join("\n- ")}\n`),a.length>0&&(t+="\nThe following policies apply to the access control resources for children of this resource:\n- ",t+=`${a.join("\n- ")}\n`),t}},6678:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNoneOfRuleUrl=t.addAgent=t.setResourcePolicy=t.setResourceAcrPolicy=t.removeResourcePolicy=t.removeResourceAcrPolicy=t.getResourcePolicyAll=t.getResourcePolicy=t.getResourceAcrPolicyAll=t.getResourceAcrPolicy=t.createResourcePolicyFor=t.setPolicy=t.setDenyModes=t.setAllowModes=t.removePolicy=t.policyAsMarkdown=t.getPolicyAll=t.getPolicy=t.getDenyModes=t.getAllowModes=t.createPolicy=t.removePolicyUrlAll=t.removePolicyUrl=t.removeMemberPolicyUrlAll=t.removeMemberPolicyUrl=t.removeMemberAcrPolicyUrlAll=t.removeMemberAcrPolicyUrl=t.removeAcrPolicyUrlAll=t.removeAcrPolicyUrl=t.hasLinkedAcr=t.getPolicyUrlAll=t.getMemberPolicyUrlAll=t.getMemberAcrPolicyUrlAll=t.getAcrPolicyUrlAll=t.addPolicyUrl=t.addMemberPolicyUrl=t.addMemberAcrPolicyUrl=t.addAcrPolicyUrl=t.acrAsMarkdown=t.isAcpControlled=t.saveAcrFor=t.hasAccessibleAcr=t.getSolidDatasetWithAcr=t.getSolidDatasetWithAccessDatasets=t.getResourceInfoWithAcr=t.getResourceInfoWithAccessDatasets=t.getReferencedPolicyUrlAll=t.getLinkedAcrUrl=t.getFileWithAcr=t.getFileWithAccessDatasets=void 0,t.mockAcrFor=t.addMockAcrTo=t.setResourceRule=t.removeResourceRule=t.getResourceRuleAll=t.getResourceRule=t.createResourceRuleFor=t.removePublic=t.removeCreator=t.removeAuthenticated=t.removeAnyClient=t.setClient=t.setAnyClient=t.removeClient=t.hasAnyClient=t.getClientAll=t.addClient=t.setRule=t.setAllOfRuleUrl=t.setPublic=t.setAnyOfRuleUrl=t.setGroup=t.setNoneOfRuleUrl=t.setCreator=t.setAuthenticated=t.setAgent=t.ruleAsMarkdown=t.removeRule=t.removeAllOfRuleUrl=t.removeAnyOfRuleUrl=t.removeGroup=t.removeNoneOfRuleUrl=t.removeAgent=t.hasPublic=t.hasCreator=t.hasAuthenticated=t.getRuleAll=t.getRule=t.getAllOfRuleUrlAll=t.getAnyOfRuleUrlAll=t.getGroupAll=t.getNoneOfRuleUrlAll=t.getAgentAll=t.createRule=t.addAllOfRuleUrl=t.addAnyOfRuleUrl=t.addGroup=void 0;var n=r(6885);Object.defineProperty(t,"getFileWithAccessDatasets",{enumerable:!0,get:function(){return n.getFileWithAccessDatasets}}),Object.defineProperty(t,"getFileWithAcr",{enumerable:!0,get:function(){return n.getFileWithAcr}}),Object.defineProperty(t,"getLinkedAcrUrl",{enumerable:!0,get:function(){return n.getLinkedAcrUrl}}),Object.defineProperty(t,"getReferencedPolicyUrlAll",{enumerable:!0,get:function(){return n.getReferencedPolicyUrlAll}}),Object.defineProperty(t,"getResourceInfoWithAccessDatasets",{enumerable:!0,get:function(){return n.getResourceInfoWithAccessDatasets}}),Object.defineProperty(t,"getResourceInfoWithAcr",{enumerable:!0,get:function(){return n.getResourceInfoWithAcr}}),Object.defineProperty(t,"getSolidDatasetWithAccessDatasets",{enumerable:!0,get:function(){return n.getSolidDatasetWithAccessDatasets}}),Object.defineProperty(t,"getSolidDatasetWithAcr",{enumerable:!0,get:function(){return n.getSolidDatasetWithAcr}}),Object.defineProperty(t,"hasAccessibleAcr",{enumerable:!0,get:function(){return n.hasAccessibleAcr}}),Object.defineProperty(t,"saveAcrFor",{enumerable:!0,get:function(){return n.saveAcrFor}}),Object.defineProperty(t,"isAcpControlled",{enumerable:!0,get:function(){return n.isAcpControlled}});var i=r(7158);Object.defineProperty(t,"acrAsMarkdown",{enumerable:!0,get:function(){return i.acrAsMarkdown}}),Object.defineProperty(t,"addAcrPolicyUrl",{enumerable:!0,get:function(){return i.addAcrPolicyUrl}}),Object.defineProperty(t,"addMemberAcrPolicyUrl",{enumerable:!0,get:function(){return i.addMemberAcrPolicyUrl}}),Object.defineProperty(t,"addMemberPolicyUrl",{enumerable:!0,get:function(){return i.addMemberPolicyUrl}}),Object.defineProperty(t,"addPolicyUrl",{enumerable:!0,get:function(){return i.addPolicyUrl}}),Object.defineProperty(t,"getAcrPolicyUrlAll",{enumerable:!0,get:function(){return i.getAcrPolicyUrlAll}}),Object.defineProperty(t,"getMemberAcrPolicyUrlAll",{enumerable:!0,get:function(){return i.getMemberAcrPolicyUrlAll}}),Object.defineProperty(t,"getMemberPolicyUrlAll",{enumerable:!0,get:function(){return i.getMemberPolicyUrlAll}}),Object.defineProperty(t,"getPolicyUrlAll",{enumerable:!0,get:function(){return i.getPolicyUrlAll}}),Object.defineProperty(t,"hasLinkedAcr",{enumerable:!0,get:function(){return i.hasLinkedAcr}}),Object.defineProperty(t,"removeAcrPolicyUrl",{enumerable:!0,get:function(){return i.removeAcrPolicyUrl}}),Object.defineProperty(t,"removeAcrPolicyUrlAll",{enumerable:!0,get:function(){return i.removeAcrPolicyUrlAll}}),Object.defineProperty(t,"removeMemberAcrPolicyUrl",{enumerable:!0,get:function(){return i.removeMemberAcrPolicyUrl}}),Object.defineProperty(t,"removeMemberAcrPolicyUrlAll",{enumerable:!0,get:function(){return i.removeMemberAcrPolicyUrlAll}}),Object.defineProperty(t,"removeMemberPolicyUrl",{enumerable:!0,get:function(){return i.removeMemberPolicyUrl}}),Object.defineProperty(t,"removeMemberPolicyUrlAll",{enumerable:!0,get:function(){return i.removeMemberPolicyUrlAll}}),Object.defineProperty(t,"removePolicyUrl",{enumerable:!0,get:function(){return i.removePolicyUrl}}),Object.defineProperty(t,"removePolicyUrlAll",{enumerable:!0,get:function(){return i.removePolicyUrlAll}});var o=r(3453);Object.defineProperty(t,"createPolicy",{enumerable:!0,get:function(){return o.createPolicy}}),Object.defineProperty(t,"getAllowModes",{enumerable:!0,get:function(){return o.getAllowModesV1}}),Object.defineProperty(t,"getDenyModes",{enumerable:!0,get:function(){return o.getDenyModesV1}}),Object.defineProperty(t,"getPolicy",{enumerable:!0,get:function(){return o.getPolicy}}),Object.defineProperty(t,"getPolicyAll",{enumerable:!0,get:function(){return o.getPolicyAll}}),Object.defineProperty(t,"policyAsMarkdown",{enumerable:!0,get:function(){return o.policyAsMarkdown}}),Object.defineProperty(t,"removePolicy",{enumerable:!0,get:function(){return o.removePolicy}}),Object.defineProperty(t,"setAllowModes",{enumerable:!0,get:function(){return o.setAllowModesV1}}),Object.defineProperty(t,"setDenyModes",{enumerable:!0,get:function(){return o.setDenyModesV1}}),Object.defineProperty(t,"setPolicy",{enumerable:!0,get:function(){return o.setPolicy}}),Object.defineProperty(t,"createResourcePolicyFor",{enumerable:!0,get:function(){return o.createResourcePolicyFor}}),Object.defineProperty(t,"getResourceAcrPolicy",{enumerable:!0,get:function(){return o.getResourceAcrPolicy}}),Object.defineProperty(t,"getResourceAcrPolicyAll",{enumerable:!0,get:function(){return o.getResourceAcrPolicyAll}}),Object.defineProperty(t,"getResourcePolicy",{enumerable:!0,get:function(){return o.getResourcePolicy}}),Object.defineProperty(t,"getResourcePolicyAll",{enumerable:!0,get:function(){return o.getResourcePolicyAll}}),Object.defineProperty(t,"removeResourceAcrPolicy",{enumerable:!0,get:function(){return o.removeResourceAcrPolicy}}),Object.defineProperty(t,"removeResourcePolicy",{enumerable:!0,get:function(){return o.removeResourcePolicy}}),Object.defineProperty(t,"setResourceAcrPolicy",{enumerable:!0,get:function(){return o.setResourceAcrPolicy}}),Object.defineProperty(t,"setResourcePolicy",{enumerable:!0,get:function(){return o.setResourcePolicy}});var a=r(4468);Object.defineProperty(t,"addAgent",{enumerable:!0,get:function(){return a.addAgent}}),Object.defineProperty(t,"addNoneOfRuleUrl",{enumerable:!0,get:function(){return a.addNoneOfRuleUrl}}),Object.defineProperty(t,"addGroup",{enumerable:!0,get:function(){return a.addGroup}}),Object.defineProperty(t,"addAnyOfRuleUrl",{enumerable:!0,get:function(){return a.addAnyOfRuleUrl}}),Object.defineProperty(t,"addAllOfRuleUrl",{enumerable:!0,get:function(){return a.addAllOfRuleUrl}}),Object.defineProperty(t,"createRule",{enumerable:!0,get:function(){return a.createRule}}),Object.defineProperty(t,"getAgentAll",{enumerable:!0,get:function(){return a.getAgentAll}}),Object.defineProperty(t,"getNoneOfRuleUrlAll",{enumerable:!0,get:function(){return a.getNoneOfRuleUrlAll}}),Object.defineProperty(t,"getGroupAll",{enumerable:!0,get:function(){return a.getGroupAll}}),Object.defineProperty(t,"getAnyOfRuleUrlAll",{enumerable:!0,get:function(){return a.getAnyOfRuleUrlAll}}),Object.defineProperty(t,"getAllOfRuleUrlAll",{enumerable:!0,get:function(){return a.getAllOfRuleUrlAll}}),Object.defineProperty(t,"getRule",{enumerable:!0,get:function(){return a.getRule}}),Object.defineProperty(t,"getRuleAll",{enumerable:!0,get:function(){return a.getRuleAll}}),Object.defineProperty(t,"hasAuthenticated",{enumerable:!0,get:function(){return a.hasAuthenticated}}),Object.defineProperty(t,"hasCreator",{enumerable:!0,get:function(){return a.hasCreator}}),Object.defineProperty(t,"hasPublic",{enumerable:!0,get:function(){return a.hasPublic}}),Object.defineProperty(t,"removeAgent",{enumerable:!0,get:function(){return a.removeAgent}}),Object.defineProperty(t,"removeNoneOfRuleUrl",{enumerable:!0,get:function(){return a.removeNoneOfRuleUrl}}),Object.defineProperty(t,"removeGroup",{enumerable:!0,get:function(){return a.removeGroup}}),Object.defineProperty(t,"removeAnyOfRuleUrl",{enumerable:!0,get:function(){return a.removeAnyOfRuleUrl}}),Object.defineProperty(t,"removeAllOfRuleUrl",{enumerable:!0,get:function(){return a.removeAllOfRuleUrl}}),Object.defineProperty(t,"removeRule",{enumerable:!0,get:function(){return a.removeRule}}),Object.defineProperty(t,"ruleAsMarkdown",{enumerable:!0,get:function(){return a.ruleAsMarkdown}}),Object.defineProperty(t,"setAgent",{enumerable:!0,get:function(){return a.setAgent}}),Object.defineProperty(t,"setAuthenticated",{enumerable:!0,get:function(){return a.setAuthenticated}}),Object.defineProperty(t,"setCreator",{enumerable:!0,get:function(){return a.setCreator}}),Object.defineProperty(t,"setNoneOfRuleUrl",{enumerable:!0,get:function(){return a.setNoneOfRuleUrl}}),Object.defineProperty(t,"setGroup",{enumerable:!0,get:function(){return a.setGroup}}),Object.defineProperty(t,"setAnyOfRuleUrl",{enumerable:!0,get:function(){return a.setAnyOfRuleUrl}}),Object.defineProperty(t,"setPublic",{enumerable:!0,get:function(){return a.setPublic}}),Object.defineProperty(t,"setAllOfRuleUrl",{enumerable:!0,get:function(){return a.setAllOfRuleUrl}}),Object.defineProperty(t,"setRule",{enumerable:!0,get:function(){return a.setRule}}),Object.defineProperty(t,"addClient",{enumerable:!0,get:function(){return a.addClient}}),Object.defineProperty(t,"getClientAll",{enumerable:!0,get:function(){return a.getClientAll}}),Object.defineProperty(t,"hasAnyClient",{enumerable:!0,get:function(){return a.hasAnyClient}}),Object.defineProperty(t,"removeClient",{enumerable:!0,get:function(){return a.removeClient}}),Object.defineProperty(t,"setAnyClient",{enumerable:!0,get:function(){return a.setAnyClient}}),Object.defineProperty(t,"setClient",{enumerable:!0,get:function(){return a.setClient}}),Object.defineProperty(t,"removeAnyClient",{enumerable:!0,get:function(){return a.removeAnyClient}}),Object.defineProperty(t,"removeAuthenticated",{enumerable:!0,get:function(){return a.removeAuthenticated}}),Object.defineProperty(t,"removeCreator",{enumerable:!0,get:function(){return a.removeCreator}}),Object.defineProperty(t,"removePublic",{enumerable:!0,get:function(){return a.removePublic}}),Object.defineProperty(t,"createResourceRuleFor",{enumerable:!0,get:function(){return a.createResourceRuleFor}}),Object.defineProperty(t,"getResourceRule",{enumerable:!0,get:function(){return a.getResourceRule}}),Object.defineProperty(t,"getResourceRuleAll",{enumerable:!0,get:function(){return a.getResourceRuleAll}}),Object.defineProperty(t,"removeResourceRule",{enumerable:!0,get:function(){return a.removeResourceRule}}),Object.defineProperty(t,"setResourceRule",{enumerable:!0,get:function(){return a.setResourceRule}});var s=r(6553);Object.defineProperty(t,"addMockAcrTo",{enumerable:!0,get:function(){return s.addMockAcrTo}}),Object.defineProperty(t,"mockAcrFor",{enumerable:!0,get:function(){return s.mockAcrFor}})},3300:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMatcher=t.addAllOfMatcherUrl=t.addAnyOfMatcherUrl=t.addNoneOfMatcherUrl=t.addAgent=t.setDenyModes=t.setAllowModes=t.getDenyModes=t.getAllowModes=t.removeResourcePolicy=t.removeResourceAcrPolicy=t.getResourcePolicyAll=t.getResourcePolicy=t.getResourceAcrPolicyAll=t.getResourceAcrPolicy=t.createResourcePolicyFor=t.setPolicy=t.removePolicy=t.getPolicyAll=t.getPolicy=t.createPolicy=t.setResourcePolicy=t.removePolicyUrl=t.removeMemberPolicyUrl=t.removeMemberAcrPolicyUrl=t.removeAcrPolicyUrl=t.getPolicyUrlAll=t.getMemberPolicyUrlAll=t.getMemberAcrPolicyUrlAll=t.getAcrPolicyUrlAll=t.addPolicyUrl=t.addMemberPolicyUrl=t.addMemberAcrPolicyUrl=t.addAcrPolicyUrl=t.removePolicyUrlAll=t.removeMemberPolicyUrlAll=t.removeMemberAcrPolicyUrlAll=t.removeAcrPolicyUrlAll=t.hasLinkedAcr=t.isAcpControlled=t.saveAcrFor=t.hasAccessibleAcr=t.getSolidDatasetWithAcr=t.getSolidDatasetWithAccessDatasets=t.getResourceInfoWithAcr=t.getResourceInfoWithAccessDatasets=t.getReferencedPolicyUrlAll=t.getLinkedAcrUrl=t.getFileWithAcr=t.getFileWithAccessDatasets=void 0,t.setVcAccess=t.getVcAccess=t.mockAcrFor=t.addMockAcrTo=t.setResourceMatcher=t.removeResourceMatcher=t.getResourceMatcherAll=t.getResourceMatcher=t.createResourceMatcherFor=t.removePublic=t.removeCreator=t.removeAuthenticated=t.removeClient=t.getClientAll=t.addClient=t.setMatcher=t.setAllOfMatcherUrl=t.setPublic=t.setAnyOfMatcherUrl=t.setNoneOfMatcherUrl=t.setCreator=t.setAuthenticated=t.setAgent=t.removeMatcher=t.removeAllOfMatcherUrl=t.removeAnyOfMatcherUrl=t.removeNoneOfMatcherUrl=t.removeAgent=t.hasPublic=t.hasCreator=t.hasAuthenticated=t.getMatcherAll=t.getMatcher=t.getAllOfMatcherUrlAll=t.getAnyOfMatcherUrlAll=t.getNoneOfMatcherUrlAll=t.getAgentAll=void 0;var n=r(6885);Object.defineProperty(t,"getFileWithAccessDatasets",{enumerable:!0,get:function(){return n.getFileWithAccessDatasets}}),Object.defineProperty(t,"getFileWithAcr",{enumerable:!0,get:function(){return n.getFileWithAcr}}),Object.defineProperty(t,"getLinkedAcrUrl",{enumerable:!0,get:function(){return n.getLinkedAcrUrl}}),Object.defineProperty(t,"getReferencedPolicyUrlAll",{enumerable:!0,get:function(){return n.getReferencedPolicyUrlAll}}),Object.defineProperty(t,"getResourceInfoWithAccessDatasets",{enumerable:!0,get:function(){return n.getResourceInfoWithAccessDatasets}}),Object.defineProperty(t,"getResourceInfoWithAcr",{enumerable:!0,get:function(){return n.getResourceInfoWithAcr}}),Object.defineProperty(t,"getSolidDatasetWithAccessDatasets",{enumerable:!0,get:function(){return n.getSolidDatasetWithAccessDatasets}}),Object.defineProperty(t,"getSolidDatasetWithAcr",{enumerable:!0,get:function(){return n.getSolidDatasetWithAcr}}),Object.defineProperty(t,"hasAccessibleAcr",{enumerable:!0,get:function(){return n.hasAccessibleAcr}}),Object.defineProperty(t,"saveAcrFor",{enumerable:!0,get:function(){return n.saveAcrFor}}),Object.defineProperty(t,"isAcpControlled",{enumerable:!0,get:function(){return n.isAcpControlled}});var i=r(7158);Object.defineProperty(t,"hasLinkedAcr",{enumerable:!0,get:function(){return i.hasLinkedAcr}}),Object.defineProperty(t,"removeAcrPolicyUrlAll",{enumerable:!0,get:function(){return i.removeAcrPolicyUrlAll}}),Object.defineProperty(t,"removeMemberAcrPolicyUrlAll",{enumerable:!0,get:function(){return i.removeMemberAcrPolicyUrlAll}}),Object.defineProperty(t,"removeMemberPolicyUrlAll",{enumerable:!0,get:function(){return i.removeMemberPolicyUrlAll}}),Object.defineProperty(t,"removePolicyUrlAll",{enumerable:!0,get:function(){return i.removePolicyUrlAll}});var o=r(2552);Object.defineProperty(t,"addAcrPolicyUrl",{enumerable:!0,get:function(){return o.addAcrPolicyUrl}});var a=r(9828);Object.defineProperty(t,"addMemberAcrPolicyUrl",{enumerable:!0,get:function(){return a.addMemberAcrPolicyUrl}});var s=r(1556);Object.defineProperty(t,"addMemberPolicyUrl",{enumerable:!0,get:function(){return s.addMemberPolicyUrl}});var l=r(9207);Object.defineProperty(t,"addPolicyUrl",{enumerable:!0,get:function(){return l.addPolicyUrl}});var c=r(7949);Object.defineProperty(t,"getAcrPolicyUrlAll",{enumerable:!0,get:function(){return c.getAcrPolicyUrlAll}});var u=r(8624);Object.defineProperty(t,"getMemberAcrPolicyUrlAll",{enumerable:!0,get:function(){return u.getMemberAcrPolicyUrlAll}});var d=r(2863);Object.defineProperty(t,"getMemberPolicyUrlAll",{enumerable:!0,get:function(){return d.getMemberPolicyUrlAll}});var f=r(6691);Object.defineProperty(t,"getPolicyUrlAll",{enumerable:!0,get:function(){return f.getPolicyUrlAll}});var h=r(5258);Object.defineProperty(t,"removeAcrPolicyUrl",{enumerable:!0,get:function(){return h.removeAcrPolicyUrl}});var g=r(6744);Object.defineProperty(t,"removeMemberAcrPolicyUrl",{enumerable:!0,get:function(){return g.removeMemberAcrPolicyUrl}});var p=r(4749);Object.defineProperty(t,"removeMemberPolicyUrl",{enumerable:!0,get:function(){return p.removeMemberPolicyUrl}});var b=r(8412);Object.defineProperty(t,"removePolicyUrl",{enumerable:!0,get:function(){return b.removePolicyUrl}});var y=r(4008);Object.defineProperty(t,"setResourcePolicy",{enumerable:!0,get:function(){return y.setResourcePolicy}});var m=r(3453);Object.defineProperty(t,"createPolicy",{enumerable:!0,get:function(){return m.createPolicy}}),Object.defineProperty(t,"getPolicy",{enumerable:!0,get:function(){return m.getPolicy}}),Object.defineProperty(t,"getPolicyAll",{enumerable:!0,get:function(){return m.getPolicyAll}}),Object.defineProperty(t,"removePolicy",{enumerable:!0,get:function(){return m.removePolicy}}),Object.defineProperty(t,"setPolicy",{enumerable:!0,get:function(){return m.setPolicy}}),Object.defineProperty(t,"createResourcePolicyFor",{enumerable:!0,get:function(){return m.createResourcePolicyFor}}),Object.defineProperty(t,"getResourceAcrPolicy",{enumerable:!0,get:function(){return m.getResourceAcrPolicy}}),Object.defineProperty(t,"getResourceAcrPolicyAll",{enumerable:!0,get:function(){return m.getResourceAcrPolicyAll}}),Object.defineProperty(t,"getResourcePolicy",{enumerable:!0,get:function(){return m.getResourcePolicy}}),Object.defineProperty(t,"getResourcePolicyAll",{enumerable:!0,get:function(){return m.getResourcePolicyAll}}),Object.defineProperty(t,"removeResourceAcrPolicy",{enumerable:!0,get:function(){return m.removeResourceAcrPolicy}}),Object.defineProperty(t,"removeResourcePolicy",{enumerable:!0,get:function(){return m.removeResourcePolicy}}),Object.defineProperty(t,"getAllowModes",{enumerable:!0,get:function(){return m.getAllowModesV2}}),Object.defineProperty(t,"getDenyModes",{enumerable:!0,get:function(){return m.getDenyModesV2}}),Object.defineProperty(t,"setAllowModes",{enumerable:!0,get:function(){return m.setAllowModesV2}}),Object.defineProperty(t,"setDenyModes",{enumerable:!0,get:function(){return m.setDenyModesV2}});var A=r(7648);Object.defineProperty(t,"addAgent",{enumerable:!0,get:function(){return A.addAgent}}),Object.defineProperty(t,"addNoneOfMatcherUrl",{enumerable:!0,get:function(){return A.addNoneOfMatcherUrl}}),Object.defineProperty(t,"addAnyOfMatcherUrl",{enumerable:!0,get:function(){return A.addAnyOfMatcherUrl}}),Object.defineProperty(t,"addAllOfMatcherUrl",{enumerable:!0,get:function(){return A.addAllOfMatcherUrl}}),Object.defineProperty(t,"createMatcher",{enumerable:!0,get:function(){return A.createMatcher}}),Object.defineProperty(t,"getAgentAll",{enumerable:!0,get:function(){return A.getAgentAll}}),Object.defineProperty(t,"getNoneOfMatcherUrlAll",{enumerable:!0,get:function(){return A.getNoneOfMatcherUrlAll}}),Object.defineProperty(t,"getAnyOfMatcherUrlAll",{enumerable:!0,get:function(){return A.getAnyOfMatcherUrlAll}}),Object.defineProperty(t,"getAllOfMatcherUrlAll",{enumerable:!0,get:function(){return A.getAllOfMatcherUrlAll}}),Object.defineProperty(t,"getMatcher",{enumerable:!0,get:function(){return A.getMatcher}}),Object.defineProperty(t,"getMatcherAll",{enumerable:!0,get:function(){return A.getMatcherAll}}),Object.defineProperty(t,"hasAuthenticated",{enumerable:!0,get:function(){return A.hasAuthenticated}}),Object.defineProperty(t,"hasCreator",{enumerable:!0,get:function(){return A.hasCreator}}),Object.defineProperty(t,"hasPublic",{enumerable:!0,get:function(){return A.hasPublic}}),Object.defineProperty(t,"removeAgent",{enumerable:!0,get:function(){return A.removeAgent}}),Object.defineProperty(t,"removeNoneOfMatcherUrl",{enumerable:!0,get:function(){return A.removeNoneOfMatcherUrl}}),Object.defineProperty(t,"removeAnyOfMatcherUrl",{enumerable:!0,get:function(){return A.removeAnyOfMatcherUrl}}),Object.defineProperty(t,"removeAllOfMatcherUrl",{enumerable:!0,get:function(){return A.removeAllOfMatcherUrl}}),Object.defineProperty(t,"removeMatcher",{enumerable:!0,get:function(){return A.removeMatcher}}),Object.defineProperty(t,"setAgent",{enumerable:!0,get:function(){return A.setAgent}}),Object.defineProperty(t,"setAuthenticated",{enumerable:!0,get:function(){return A.setAuthenticated}}),Object.defineProperty(t,"setCreator",{enumerable:!0,get:function(){return A.setCreator}}),Object.defineProperty(t,"setNoneOfMatcherUrl",{enumerable:!0,get:function(){return A.setNoneOfMatcherUrl}}),Object.defineProperty(t,"setAnyOfMatcherUrl",{enumerable:!0,get:function(){return A.setAnyOfMatcherUrl}}),Object.defineProperty(t,"setPublic",{enumerable:!0,get:function(){return A.setPublic}}),Object.defineProperty(t,"setAllOfMatcherUrl",{enumerable:!0,get:function(){return A.setAllOfMatcherUrl}}),Object.defineProperty(t,"setMatcher",{enumerable:!0,get:function(){return A.setMatcher}}),Object.defineProperty(t,"addClient",{enumerable:!0,get:function(){return A.addClient}}),Object.defineProperty(t,"getClientAll",{enumerable:!0,get:function(){return A.getClientAll}}),Object.defineProperty(t,"removeClient",{enumerable:!0,get:function(){return A.removeClient}}),Object.defineProperty(t,"removeAuthenticated",{enumerable:!0,get:function(){return A.removeAuthenticated}}),Object.defineProperty(t,"removeCreator",{enumerable:!0,get:function(){return A.removeCreator}}),Object.defineProperty(t,"removePublic",{enumerable:!0,get:function(){return A.removePublic}}),Object.defineProperty(t,"createResourceMatcherFor",{enumerable:!0,get:function(){return A.createResourceMatcherFor}}),Object.defineProperty(t,"getResourceMatcher",{enumerable:!0,get:function(){return A.getResourceMatcher}}),Object.defineProperty(t,"getResourceMatcherAll",{enumerable:!0,get:function(){return A.getResourceMatcherAll}}),Object.defineProperty(t,"removeResourceMatcher",{enumerable:!0,get:function(){return A.removeResourceMatcher}}),Object.defineProperty(t,"setResourceMatcher",{enumerable:!0,get:function(){return A.setResourceMatcher}});var v=r(6553);Object.defineProperty(t,"addMockAcrTo",{enumerable:!0,get:function(){return v.addMockAcrTo}}),Object.defineProperty(t,"mockAcrFor",{enumerable:!0,get:function(){return v.mockAcrFor}});var _=r(5398);Object.defineProperty(t,"getVcAccess",{enumerable:!0,get:function(){return _.getVcAccess}});var w=r(465);Object.defineProperty(t,"setVcAccess",{enumerable:!0,get:function(){return w.setVcAccess}})},616:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAccessControlResourceThing=void 0;const n=r(9009),i=r(362),o=r(1193);t.getAccessControlResourceThing=function(e){const t=(0,o.internal_getAcr)(e),r=(0,n.getSourceUrl)(t);return(0,i.getThing)(t,r)}},4067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultAccessControlThing=void 0;const n=r(5590),i=r(1193),o=r(9506);t.getDefaultAccessControlThing=function(e,t){const r=(0,i.internal_getAcr)(e),a=(0,o.getDefaultAccessControlUrl)(e,t),s=(0,n.getThing)(r,a);return null==s?(0,n.createThing)({url:a}):s}},9506:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultAccessControlUrl=t.DEFAULT_MEMBER_ACR_ACCESS_CONTROL=t.DEFAULT_MEMBER_ACCESS_CONTROL=t.DEFAULT_ACR_ACCESS_CONTROL=t.DEFAULT_ACCESS_CONTROL=void 0;const n=r(5590),i=r(1193);t.DEFAULT_ACCESS_CONTROL="defaultAccessControl",t.DEFAULT_ACR_ACCESS_CONTROL="defaultAcrAccessControl",t.DEFAULT_MEMBER_ACCESS_CONTROL="defaultMemberAccessControl",t.DEFAULT_MEMBER_ACR_ACCESS_CONTROL="defaultMemberAcrAccessControl",t.getDefaultAccessControlUrl=function(e,t){const r=(0,i.internal_getAcr)(e);return(0,n.getSourceUrl)(r).concat("#").concat(t)}},2575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultAgentMatcherPolicyMatcherUrl=void 0;const n=r(920);t.getDefaultAgentMatcherPolicyMatcherUrl=function(e,t,r){return(0,n.getDefaultAgentMatcherPolicyUrl)(e,t,r).concat("Matcher")}},920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultAgentMatcherPolicyUrl=void 0;const n=r(9506);t.getDefaultAgentMatcherPolicyUrl=function(e,t,r){return(0,n.getDefaultAccessControlUrl)(e,t).concat("AgentMatcher").concat(r.charAt(0).toUpperCase()+r.slice(1)).concat("Policy")}},5521:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModes=void 0;const n=r(8684),i=r(1220);t.getModes=function(e,t){const r=(0,i.getIriAll)(e,t);return{read:r.includes(n.ACL.Read),append:r.includes(n.ACL.Append),write:r.includes(n.ACL.Write),controlRead:!1,controlWrite:!1}}},2670:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPolicyUrls=void 0;const n=r(1220),i=r(362),o=r(1193);t.getPolicyUrls=function(e,t,r){const a=(0,o.internal_getAcr)(e);return Array.from(new Set(t.map((e=>{const t=(0,i.getThing)(a,e);return null!==t?(0,n.getIriAll)(t,r):[]})).reduce(((e,t)=>e.concat(t)),[])))}},7084:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAccessControlResourceThing=void 0;const n=r(5590),i=r(5443);t.setAccessControlResourceThing=function(e,t){return Object.assign((0,i.internal_cloneResource)(e),{internal_acp:Object.assign(Object.assign({},e.internal_acp),{acr:(0,n.setThing)(e.internal_acp.acr,t)})})}},3471:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAcr=void 0;const n=r(5443);t.setAcr=function(e,t){return Object.assign((0,n.internal_cloneResource)(e),{internal_acp:{acr:t}})}},9999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultAccessControlThingIfNotExist=void 0;const n=r(5590),i=r(8684),o=r(1193),a=r(616),s=r(9506),l=r(7084);function c(e){return e.includes("Member")?i.ACP.memberAccessControl:i.ACP.accessControl}t.setDefaultAccessControlThingIfNotExist=function(e,t){const r=(0,s.getDefaultAccessControlUrl)(e,t),i=(0,o.internal_getAcr)(e);let u=(0,a.getAccessControlResourceThing)(e);return null==u&&(u=(0,n.createThing)({url:(0,n.getSourceUrl)(i)})),(0,n.getIriAll)(u,c(t)).includes(r)?e:(u=(0,n.buildThing)(u).addUrl(c(t),r).build(),(0,l.setAccessControlResourceThing)(e,u))}},9530:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultAgentMatcherPolicyMatcherThingIfNotExist=t.DEFAULT_POLICY_MATCHER_PREDICATE=void 0;const n=r(5590),i=r(8684),o=r(1193),a=r(7084),s=r(920),l=r(258),c=r(2575),u=r(3388);t.DEFAULT_POLICY_MATCHER_PREDICATE=i.ACP.anyOf,t.setDefaultAgentMatcherPolicyMatcherThingIfNotExist=function(e,r,d){const f=(0,s.getDefaultAgentMatcherPolicyUrl)(e,r,d),h=(0,c.getDefaultAgentMatcherPolicyMatcherUrl)(e,r,d);let g=(0,n.getThing)((0,o.internal_getAcr)(e),f);return g||(e=(0,l.setDefaultAgentMatcherPolicyThingIfNotExist)(e,r,d),g=(0,n.createThing)({url:f}),g=(0,u.setModes)(g,{[d]:!0},i.ACP.allow)),(0,n.getIriAll)(g,t.DEFAULT_POLICY_MATCHER_PREDICATE).includes(h)?e:(g=(0,n.buildThing)(g).addUrl(t.DEFAULT_POLICY_MATCHER_PREDICATE,h).build(),(0,a.setAccessControlResourceThing)(e,g))}},258:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultAgentMatcherPolicyThingIfNotExist=void 0;const n=r(920),i=r(2552),o=r(9207);t.setDefaultAgentMatcherPolicyThingIfNotExist=function(e,t,r){const a=(0,n.getDefaultAgentMatcherPolicyUrl)(e,t,r);return a.includes("Acr")?(0,i.addAcrPolicyUrl)(e,a):(0,o.addPolicyUrl)(e,a)}},3388:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setModes=void 0;const n=r(5205),i=r(6796),o=r(8684);t.setModes=function(e,t,r){let a=(0,n.removeAll)(e,r);return(t.read||t.controlRead)&&(a=(0,i.addIri)(a,r,o.ACL.Read)),t.append&&(a=(0,i.addIri)(a,r,o.ACL.Append)),(t.write||t.controlWrite)&&(a=(0,i.addIri)(a,r,o.ACL.Write)),a}},7648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matcherAsMarkdown=t.removeAnyClient=t.setAnyClient=t.hasAnyClient=t.removeClient=t.addClient=t.setClient=t.getClientAll=t.removeCreator=t.setCreator=t.hasCreator=t.removeAuthenticated=t.setAuthenticated=t.hasAuthenticated=t.removePublic=t.setPublic=t.hasPublic=t.removeAgent=t.addAgent=t.setAgent=t.getAgentAll=t.setResourceMatcher=t.setMatcher=t.removeResourceMatcher=t.removeMatcher=t.getResourceMatcherAll=t.getMatcherAll=t.getResourceMatcher=t.getMatcher=t.createResourceMatcherFor=t.createMatcher=t.getNoneOfMatcherUrlAll=t.setNoneOfMatcherUrl=t.removeNoneOfMatcherUrl=t.addNoneOfMatcherUrl=t.getAnyOfMatcherUrlAll=t.setAnyOfMatcherUrl=t.removeAnyOfMatcherUrl=t.addAnyOfMatcherUrl=t.getAllOfMatcherUrlAll=t.setAllOfMatcherUrl=t.removeAllOfMatcherUrl=t.addAllOfMatcherUrl=void 0;const n=r(7955),i=r(2537),o=r(5475),a=r(9009),s=r(6796),l=r(1220),c=r(5205),u=r(7103),d=r(362),f=r(1193);function h(e){return(0,l.getIriAll)(e,n.rdf.type).includes(n.acp.Matcher)}function g(e,t){const r=(0,f.internal_getAcr)(e),n=(0,a.getSourceUrl)(r),i=new URL(n);i.hash=`#${t}`;const o=(0,d.getThing)(r,i.href);return null!==o&&h(o)?o:null}function p(e){return(0,l.getIriAll)(e,n.acp.agent).filter((e=>e!==n.acp.PublicAgent&&e!==n.acp.AuthenticatedAgent&&e!==n.acp.CreatorAgent))}function b(e){return(0,l.getIriAll)(e,n.acp.agent).filter((e=>e===n.acp.PublicAgent)).length>0}function y(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return(0,s.addIri)(e,n.acp.agent,n.acp.PublicAgent)}function m(e){return(0,l.getIriAll)(e,n.acp.agent).filter((e=>e===n.acp.AuthenticatedAgent)).length>0}function A(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return(0,s.addIri)(e,n.acp.agent,n.acp.AuthenticatedAgent)}function v(e){return(0,l.getIriAll)(e,n.acp.agent).filter((e=>e===n.acp.CreatorAgent)).length>0}function _(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return(0,s.addIri)(e,n.acp.agent,n.acp.CreatorAgent)}function w(e){return(0,l.getIriAll)(e,n.acp.client).filter((e=>e!==n.solid.PublicOidcClient)).concat((0,l.getStringNoLocaleAll)(e,n.acp.client))}function P(e){return(0,l.getIriAll)(e,n.acp.client).filter((e=>e===n.solid.PublicOidcClient)).length>0}function O(e){return(0,s.addIri)(e,n.acp.client,n.solid.PublicOidcClient)}t.addAllOfMatcherUrl=function(e,t){return(0,s.addIri)(e,n.acp.allOf,t)},t.removeAllOfMatcherUrl=function(e,t){return(0,c.removeIri)(e,n.acp.allOf,t)},t.setAllOfMatcherUrl=function(e,t){return(0,u.setIri)(e,n.acp.allOf,t)},t.getAllOfMatcherUrlAll=function(e){return(0,l.getIriAll)(e,n.acp.allOf)},t.addAnyOfMatcherUrl=function(e,t){return(0,s.addIri)(e,n.acp.anyOf,t)},t.removeAnyOfMatcherUrl=function(e,t){return(0,c.removeIri)(e,n.acp.anyOf,t)},t.setAnyOfMatcherUrl=function(e,t){return(0,u.setIri)(e,n.acp.anyOf,t)},t.getAnyOfMatcherUrlAll=function(e){return(0,l.getIriAll)(e,n.acp.anyOf)},t.addNoneOfMatcherUrl=function(e,t){return(0,s.addIri)(e,n.acp.noneOf,t)},t.removeNoneOfMatcherUrl=function(e,t){return(0,c.removeIri)(e,n.acp.noneOf,t)},t.setNoneOfMatcherUrl=function(e,t){return(0,u.setIri)(e,n.acp.noneOf,t)},t.getNoneOfMatcherUrlAll=function(e){return(0,l.getIriAll)(e,n.acp.noneOf)},t.createMatcher=function(e){const t=(0,o.internal_toIriString)(e);let r=(0,d.createThing)({url:t});return r=(0,u.setUrl)(r,n.rdf.type,n.acp.Matcher),r},t.createResourceMatcherFor=function(e,t){const r=(0,f.internal_getAcr)(e),i=new URL((0,a.getSourceUrl)(r));i.hash=`#${t}`;let o=(0,d.createThing)({url:i.href});return o=(0,u.setUrl)(o,n.rdf.type,n.acp.Matcher),o},t.getMatcher=function(e,t){const r=(0,d.getThing)(e,t);return null!==r&&h(r)?r:null},t.getResourceMatcher=g,t.getMatcherAll=function(e){return(0,d.getThingAll)(e).filter(h)},t.getResourceMatcherAll=function(e){const t=(0,f.internal_getAcr)(e);return(0,d.getThingAll)(t).filter(h)},t.removeMatcher=function(e,t){return(0,d.removeThing)(e,t)},t.removeResourceMatcher=function(e,t){const r=(0,f.internal_getAcr)(e);let n;if("string"==typeof t)if((0,i.internal_isValidUrl)(t))n=t;else{const e=new URL((0,a.getSourceUrl)(r));e.hash=`#${t}`,n=e.href}else n=(0,i.isNamedNode)(t)?(0,o.internal_toIriString)(t):(0,d.asUrl)(t);const s=g(e,new URL(n).hash.substring(1));if(null===s)return e;const l=(0,d.removeThing)(r,s);return(0,f.internal_setAcr)(e,l)},t.setMatcher=function(e,t){return(0,d.setThing)(e,t)},t.setResourceMatcher=function(e,t){const r=(0,f.internal_getAcr)(e),n=(0,d.setThing)(r,t);return(0,f.internal_setAcr)(e,n)},t.getAgentAll=p,t.setAgent=function(e,t){const r=b(e),i=m(e),o=v(e);let a=(0,u.setIri)(e,n.acp.agent,t);return r&&(a=y(a)),i&&(a=A(a)),o&&(a=_(a)),a},t.addAgent=function(e,t){return(0,s.addIri)(e,n.acp.agent,t)},t.removeAgent=function(e,t){return(0,c.removeIri)(e,n.acp.agent,t)},t.hasPublic=b,t.setPublic=y,t.removePublic=function(e){return(0,c.removeIri)(e,n.acp.agent,n.acp.PublicAgent)},t.hasAuthenticated=m,t.setAuthenticated=A,t.removeAuthenticated=function(e){return(0,c.removeIri)(e,n.acp.agent,n.acp.AuthenticatedAgent)},t.hasCreator=v,t.setCreator=_,t.removeCreator=function(e){return(0,c.removeIri)(e,n.acp.agent,n.acp.CreatorAgent)},t.getClientAll=w,t.setClient=function(e,t){const r=P(e);let i=(0,u.setIri)(e,n.acp.client,t);return r&&(i=O(i)),i},t.addClient=function(e,t){return(0,i.internal_isValidUrl)(t)?(0,s.addIri)(e,n.acp.client,t):(0,s.addStringNoLocale)(e,n.acp.client,t)},t.removeClient=function(e,t){return(0,i.internal_isValidUrl)(t)?(0,c.removeIri)(e,n.acp.client,t):(0,c.removeStringNoLocale)(e,n.acp.client,t)},t.hasAnyClient=P,t.setAnyClient=O,t.removeAnyClient=function(e){return(0,c.removeIri)(e,n.acp.client,n.solid.PublicOidcClient)},t.matcherAsMarkdown=function(e){let t=`## Matcher: ${(0,d.asUrl)(e)}\n\n`,r="";b(e)&&(r+="- Everyone\n"),m(e)&&(r+="- All authenticated agents\n"),v(e)&&(r+="- The creator of this resource\n"),P(e)&&(r+="- Users of any client application\n");const n=p(e);n.length>0&&(r+="- The following agents:\n  - ",r+=`${n.join("\n  - ")}\n`);const i=w(e);return i.length>0&&(r+="- Users of the following client applications:\n  - ",r+=`${i.join("\n  - ")}\n`),t+=r.length>0?`This Matcher matches:\n${r}`:"<empty>\n",t}},6553:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMockAcrTo=t.mockAcrFor=void 0;const n=r(2047),i=r(9009),o=r(5443);function a(e){const t=new URL("access-control-resource",e).href;return Object.assign(Object.assign({},(0,n.mockSolidDatasetFrom)(t)),{accessTo:e})}t.mockAcrFor=a,t.addMockAcrTo=function(e,t=a((0,i.getSourceUrl)(e))){return Object.assign((0,o.internal_cloneResource)(e),{internal_acp:{acr:t,aprs:{}}})}},3453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.policyAsMarkdown=t.setResourceAcrPolicy=t.setResourcePolicy=t.removeResourceAcrPolicy=t.removeResourcePolicy=t.getResourceAcrPolicyAll=t.getResourcePolicyAll=t.getResourceAcrPolicy=t.getResourcePolicy=t.createResourcePolicyFor=t.getDenyModes=t.getDenyModesV1=t.getDenyModesV2=t.setDenyModes=t.setDenyModesV1=t.setDenyModesV2=t.getAllowModes=t.getAllowModesV1=t.getAllowModesV2=t.setAllowModes=t.setAllowModesV1=t.setAllowModesV2=t.setPolicy=t.removePolicy=t.getPolicyAll=t.getPolicy=t.createPolicy=void 0;const n=r(3844),i=r(7955),o=r(2537),a=r(5475),s=r(9009),l=r(6796),c=r(1220),u=r(5205),d=r(7103),f=r(362),h=r(7158),g=r(1193),p=r(4468);function b(e){return(0,c.getIriAll)(e,i.rdf.type).includes(i.acp.Policy)}function y(e,t){let r=(0,u.removeAll)(e,i.acp.allow);return!0===t.read&&(r=(0,l.addIri)(r,i.acp.allow,i.acp.Read)),!0===t.append&&(r=(0,l.addIri)(r,i.acp.allow,i.acp.Append)),!0===t.write&&(r=(0,l.addIri)(r,i.acp.allow,i.acp.Write)),r}function m(e){const t=(0,c.getIriAll)(e,i.acp.allow);return{read:t.includes(i.acp.Read),append:t.includes(i.acp.Append),write:t.includes(i.acp.Write)}}function A(e,t){let r=(0,u.removeAll)(e,i.acp.deny);return!0===t.read&&(r=(0,l.addIri)(r,i.acp.deny,i.acp.Read)),!0===t.append&&(r=(0,l.addIri)(r,i.acp.deny,i.acp.Append)),!0===t.write&&(r=(0,l.addIri)(r,i.acp.deny,i.acp.Write)),r}function v(e){const t=(0,c.getIriAll)(e,i.acp.deny);return{read:t.includes(i.acp.Read),append:t.includes(i.acp.Append),write:t.includes(i.acp.Write)}}function _(e,t){const r=(0,g.internal_getAcr)(e),n=(0,s.getSourceUrl)(r),i=new URL(n);i.hash=`#${t}`;const o=(0,f.getThing)(r,i.href);return(0,h.getPolicyUrlAll)(e).includes(i.href)&&null!==o&&b(o)?o:null}function w(e,t){const r=(0,g.internal_getAcr)(e),n=(0,s.getSourceUrl)(r),i=new URL(n);i.hash=`#${t}`;const o=(0,f.getThing)(r,i.href);return(0,h.getAcrPolicyUrlAll)(e).includes(i.href)&&null!==o&&b(o)?o:null}t.createPolicy=function(e){const t=(0,a.internal_toIriString)(e);let r=(0,f.createThing)({url:t});return r=(0,d.setUrl)(r,i.rdf.type,i.acp.Policy),r},t.getPolicy=function(e,t){const r=(0,f.getThing)(e,t);return null!==r&&b(r)?r:null},t.getPolicyAll=function(e){return(0,f.getThingAll)(e).filter((e=>!(0,f.isThingLocal)(e)&&b(e)))},t.removePolicy=function(e,t){return(0,f.removeThing)(e,t)},t.setPolicy=function(e,t){return(0,f.setThing)(e,t)},t.setAllowModesV2=function(e,t){let r=(0,u.removeAll)(e,i.acp.allow);return!0===t.read&&(r=(0,l.addIri)(r,i.acp.allow,n.internal_accessModeIriStrings.read)),!0===t.append&&(r=(0,l.addIri)(r,i.acp.allow,n.internal_accessModeIriStrings.append)),!0===t.write&&(r=(0,l.addIri)(r,i.acp.allow,n.internal_accessModeIriStrings.write)),r},t.setAllowModesV1=y,t.setAllowModes=y,t.getAllowModesV2=function(e){const t=(0,c.getIriAll)(e,i.acp.allow);return{read:t.includes(n.internal_accessModeIriStrings.read),append:t.includes(n.internal_accessModeIriStrings.append),write:t.includes(n.internal_accessModeIriStrings.write)}},t.getAllowModesV1=m,t.getAllowModes=m,t.setDenyModesV2=function(e,t){let r=(0,u.removeAll)(e,i.acp.deny);return!0===t.read&&(r=(0,l.addIri)(r,i.acp.deny,n.internal_accessModeIriStrings.read)),!0===t.append&&(r=(0,l.addIri)(r,i.acp.deny,n.internal_accessModeIriStrings.append)),!0===t.write&&(r=(0,l.addIri)(r,i.acp.deny,n.internal_accessModeIriStrings.write)),r},t.setDenyModesV1=A,t.setDenyModes=A,t.getDenyModesV2=function(e){const t=(0,c.getIriAll)(e,i.acp.deny);return{read:t.includes(n.internal_accessModeIriStrings.read),append:t.includes(n.internal_accessModeIriStrings.append),write:t.includes(n.internal_accessModeIriStrings.write)}},t.getDenyModesV1=v,t.getDenyModes=v,t.createResourcePolicyFor=function(e,t){const r=(0,g.internal_getAcr)(e),n=new URL((0,s.getSourceUrl)(r));n.hash=`#${t}`;let o=(0,f.createThing)({url:n.href});return o=(0,d.setUrl)(o,i.rdf.type,i.acp.Policy),o},t.getResourcePolicy=_,t.getResourceAcrPolicy=w,t.getResourcePolicyAll=function(e){const t=(0,g.internal_getAcr)(e);return(0,h.getPolicyUrlAll)(e).map((e=>(0,f.getThing)(t,e))).filter((e=>null!==e&&b(e)))},t.getResourceAcrPolicyAll=function(e){const t=(0,g.internal_getAcr)(e);return(0,h.getAcrPolicyUrlAll)(e).map((e=>(0,f.getThing)(t,e))).filter((e=>null!==e&&b(e)))},t.removeResourcePolicy=function(e,t){const r=(0,g.internal_getAcr)(e);let n,i=t;if("string"==typeof i&&!1===(0,o.internal_isValidUrl)(i)){const e=new URL((0,s.getSourceUrl)(r));e.hash=`#${t}`,i=e.href}if(n="string"==typeof i?i:(0,o.isNamedNode)(i)?(0,a.internal_toIriString)(i):(0,f.asUrl)(i,(0,s.getSourceUrl)(r)),null===_(e,new URL(n).hash.substring(1)))return e;const l=(0,f.removeThing)(r,i),c=(0,g.internal_setAcr)(e,l);return(0,h.removePolicyUrl)(c,n)},t.removeResourceAcrPolicy=function(e,t){const r=(0,g.internal_getAcr)(e);let n,i=t;if("string"==typeof i&&!1===(0,o.internal_isValidUrl)(i)){const e=new URL((0,s.getSourceUrl)(r));e.hash=`#${t}`,i=e.href}if(n="string"==typeof i?i:(0,o.isNamedNode)(i)?(0,a.internal_toIriString)(i):(0,f.asUrl)(i,(0,s.getSourceUrl)(r)),null===w(e,new URL(n).hash.substring(1)))return e;const l=(0,f.removeThing)(r,i),c=(0,g.internal_setAcr)(e,l);return(0,h.removeAcrPolicyUrl)(c,n)},t.setResourcePolicy=function(e,t){const r=(0,g.internal_getAcr)(e),n=(0,f.setThing)(r,t),i=(0,g.internal_setAcr)(e,n),o=(0,f.asUrl)(t,(0,s.getSourceUrl)(r));return(0,h.addPolicyUrl)(i,o)},t.setResourceAcrPolicy=function(e,t){const r=(0,g.internal_getAcr)(e),n=(0,f.setThing)(r,t),i=(0,g.internal_setAcr)(e,n),o=(0,f.asUrl)(t,(0,s.getSourceUrl)(r));return(0,h.addAcrPolicyUrl)(i,o)},t.policyAsMarkdown=function(e){function t(e,t){return t?"denied":e?"allowed":"unspecified"}const r=m(e),n=v(e);let i=`## Policy: ${(0,f.asUrl)(e)}\n\n`;i+=`- Read: ${t(r.read,n.read)}\n`,i+=`- Append: ${t(r.append,n.append)}\n`,i+=`- Write: ${t(r.write,n.write)}\n`;const o=(0,p.getAllOfRuleUrlAll)(e),a=(0,p.getAnyOfRuleUrlAll)(e),s=(0,p.getNoneOfRuleUrlAll)(e);return 0===o.length&&0===a.length&&0===s.length&&(i+="\n<no rules specified yet>\n"),o.length>0&&(i+="\nAll of these rules should match:\n",i+=`- ${o.join("\n- ")}\n`),a.length>0&&(i+="\nAt least one of these rules should match:\n",i+=`- ${a.join("\n- ")}\n`),s.length>0&&(i+="\nNone of these rules should match:\n",i+=`- ${s.join("\n- ")}\n`),i}},2552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAcrPolicyUrl=void 0;const n=r(8684),i=r(7673),o=r(4067),a=r(9506),s=r(7084),l=r(9999);t.addAcrPolicyUrl=function(e,t){const r=(0,l.setDefaultAccessControlThingIfNotExist)(e,a.DEFAULT_ACR_ACCESS_CONTROL),c=(0,o.getDefaultAccessControlThing)(r,a.DEFAULT_ACR_ACCESS_CONTROL);return(0,s.setAccessControlResourceThing)(r,(0,i.buildThing)(c).addUrl(n.ACP.access,t).build())}},9828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMemberAcrPolicyUrl=void 0;const n=r(8684),i=r(7673),o=r(4067),a=r(9506),s=r(7084),l=r(9999);t.addMemberAcrPolicyUrl=function(e,t){const r=(0,l.setDefaultAccessControlThingIfNotExist)(e,a.DEFAULT_MEMBER_ACR_ACCESS_CONTROL),c=(0,o.getDefaultAccessControlThing)(r,a.DEFAULT_MEMBER_ACR_ACCESS_CONTROL);return(0,s.setAccessControlResourceThing)(r,(0,i.buildThing)(c).addUrl(n.ACP.access,t).build())}},1556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMemberPolicyUrl=void 0;const n=r(8684),i=r(7673),o=r(4067),a=r(9506),s=r(7084),l=r(9999);t.addMemberPolicyUrl=function(e,t){const r=(0,l.setDefaultAccessControlThingIfNotExist)(e,a.DEFAULT_MEMBER_ACCESS_CONTROL),c=(0,o.getDefaultAccessControlThing)(r,a.DEFAULT_MEMBER_ACCESS_CONTROL);return(0,s.setAccessControlResourceThing)(r,(0,i.buildThing)(c).addUrl(n.ACP.apply,t).build())}},9207:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPolicyUrl=void 0;const n=r(8684),i=r(7673),o=r(4067),a=r(9506),s=r(7084),l=r(9999);t.addPolicyUrl=function(e,t){const r=(0,l.setDefaultAccessControlThingIfNotExist)(e,a.DEFAULT_ACCESS_CONTROL),c=(0,o.getDefaultAccessControlThing)(r,a.DEFAULT_ACCESS_CONTROL);return(0,s.setAccessControlResourceThing)(r,(0,i.buildThing)(c).addUrl(n.ACP.apply,t).build())}},7949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAcrPolicyUrlAll=void 0;const n=r(8684),i=r(8795),o=r(2670);t.getAcrPolicyUrlAll=function(e){return(0,o.getPolicyUrls)(e,(0,i.getAccessControlUrlAll)(e),n.ACP.access)}},7454:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAllowModes=void 0;const n=r(8684),i=r(5521);t.getAllowModes=function(e){return(0,i.getModes)(e,n.ACP.allow)}},1182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDenyModes=void 0;const n=r(8684),i=r(5521);t.getDenyModes=function(e){return(0,i.getModes)(e,n.ACP.deny)}},8624:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMemberAcrPolicyUrlAll=void 0;const n=r(8684),i=r(2280),o=r(2670);t.getMemberAcrPolicyUrlAll=function(e){return(0,o.getPolicyUrls)(e,(0,i.getMemberAccessControlUrlAll)(e),n.ACP.access)}},2863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMemberPolicyUrlAll=void 0;const n=r(8684),i=r(2280),o=r(2670);t.getMemberPolicyUrlAll=function(e){return(0,o.getPolicyUrls)(e,(0,i.getMemberAccessControlUrlAll)(e),n.ACP.apply)}},6691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPolicyUrlAll=void 0;const n=r(8684),i=r(8795),o=r(2670);t.getPolicyUrlAll=function(e){return(0,o.getPolicyUrls)(e,(0,i.getAccessControlUrlAll)(e),n.ACP.apply)}},5258:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeAcrPolicyUrl=void 0;const n=r(8684),i=r(4067),o=r(9506),a=r(7084),s=r(5205);t.removeAcrPolicyUrl=function(e,t){const r=(0,i.getDefaultAccessControlThing)(e,o.DEFAULT_ACR_ACCESS_CONTROL);return(0,a.setAccessControlResourceThing)(e,(0,s.removeIri)(r,n.ACP.access,t))}},6744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeMemberAcrPolicyUrl=void 0;const n=r(8684),i=r(4067),o=r(9506),a=r(7084),s=r(5205);t.removeMemberAcrPolicyUrl=function(e,t){const r=(0,i.getDefaultAccessControlThing)(e,o.DEFAULT_MEMBER_ACR_ACCESS_CONTROL);return(0,a.setAccessControlResourceThing)(e,(0,s.removeIri)(r,n.ACP.access,t))}},4749:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeMemberPolicyUrl=void 0;const n=r(8684),i=r(4067),o=r(9506),a=r(7084),s=r(5205);t.removeMemberPolicyUrl=function(e,t){const r=(0,i.getDefaultAccessControlThing)(e,o.DEFAULT_MEMBER_ACCESS_CONTROL);return(0,a.setAccessControlResourceThing)(e,(0,s.removeIri)(r,n.ACP.apply,t))}},8412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removePolicyUrl=void 0;const n=r(8684),i=r(4067),o=r(9506),a=r(7084),s=r(5205);t.removePolicyUrl=function(e,t){const r=(0,i.getDefaultAccessControlThing)(e,o.DEFAULT_ACCESS_CONTROL);return(0,a.setAccessControlResourceThing)(e,(0,s.removeIri)(r,n.ACP.apply,t))}},4008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setResourcePolicy=void 0;const n=r(7084);t.setResourcePolicy=function(e,t){return(0,n.setAccessControlResourceThing)(e,t)}},4468:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ruleAsMarkdown=t.removeAnyClient=t.setAnyClient=t.hasAnyClient=t.removeClient=t.addClient=t.setClient=t.getClientAll=t.removeCreator=t.setCreator=t.hasCreator=t.removeAuthenticated=t.setAuthenticated=t.hasAuthenticated=t.removePublic=t.setPublic=t.hasPublic=t.removeGroup=t.addGroup=t.setGroup=t.getGroupAll=t.removeAgent=t.addAgent=t.setAgent=t.getAgentAll=t.setResourceRule=t.setRule=t.removeResourceRule=t.removeRule=t.getResourceRuleAll=t.getRuleAll=t.getResourceRule=t.getRule=t.createResourceRuleFor=t.createRule=t.getNoneOfRuleUrlAll=t.setNoneOfRuleUrl=t.removeNoneOfRuleUrl=t.addNoneOfRuleUrl=t.getAnyOfRuleUrlAll=t.setAnyOfRuleUrl=t.removeAnyOfRuleUrl=t.addAnyOfRuleUrl=t.getAllOfRuleUrlAll=t.setAllOfRuleUrl=t.removeAllOfRuleUrl=t.addAllOfRuleUrl=void 0;const n=r(7955),i=r(2537),o=r(5475),a=r(9009),s=r(6796),l=r(1220),c=r(5205),u=r(7103),d=r(362),f=r(1193);function h(e){return(0,l.getIriAll)(e,n.rdf.type).includes(n.acp.Rule)}function g(e,t){const r=(0,f.internal_getAcr)(e),n=(0,a.getSourceUrl)(r),i=new URL(n);i.hash=`#${t}`;const o=(0,d.getThing)(r,i.href);return null!==o&&h(o)?o:null}function p(e){return(0,l.getIriAll)(e,n.acp.agent).filter((e=>e!==n.acp.PublicAgent&&e!==n.acp.AuthenticatedAgent&&e!==n.acp.CreatorAgent))}function b(e){return(0,l.getIriAll)(e,n.acp.group)}function y(e){return(0,l.getIriAll)(e,n.acp.agent).filter((e=>e===n.acp.PublicAgent)).length>0}function m(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return(0,s.addIri)(e,n.acp.agent,n.acp.PublicAgent)}function A(e){return(0,l.getIriAll)(e,n.acp.agent).filter((e=>e===n.acp.AuthenticatedAgent)).length>0}function v(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return(0,s.addIri)(e,n.acp.agent,n.acp.AuthenticatedAgent)}function _(e){return(0,l.getIriAll)(e,n.acp.agent).filter((e=>e===n.acp.CreatorAgent)).length>0}function w(e){if("object"==typeof arguments&&"boolean"==typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return(0,s.addIri)(e,n.acp.agent,n.acp.CreatorAgent)}function P(e){return(0,l.getIriAll)(e,n.acp.client).filter((e=>e!==n.solid.PublicOidcClient))}function O(e){return(0,l.getIriAll)(e,n.acp.client).filter((e=>e===n.solid.PublicOidcClient)).length>0}function j(e){return(0,s.addIri)(e,n.acp.client,n.solid.PublicOidcClient)}t.addAllOfRuleUrl=function(e,t){return(0,s.addIri)(e,n.acp.allOf,t)},t.removeAllOfRuleUrl=function(e,t){return(0,c.removeIri)(e,n.acp.allOf,t)},t.setAllOfRuleUrl=function(e,t){return(0,u.setIri)(e,n.acp.allOf,t)},t.getAllOfRuleUrlAll=function(e){return(0,l.getIriAll)(e,n.acp.allOf)},t.addAnyOfRuleUrl=function(e,t){return(0,s.addIri)(e,n.acp.anyOf,t)},t.removeAnyOfRuleUrl=function(e,t){return(0,c.removeIri)(e,n.acp.anyOf,t)},t.setAnyOfRuleUrl=function(e,t){return(0,u.setIri)(e,n.acp.anyOf,t)},t.getAnyOfRuleUrlAll=function(e){return(0,l.getIriAll)(e,n.acp.anyOf)},t.addNoneOfRuleUrl=function(e,t){return(0,s.addIri)(e,n.acp.noneOf,t)},t.removeNoneOfRuleUrl=function(e,t){return(0,c.removeIri)(e,n.acp.noneOf,t)},t.setNoneOfRuleUrl=function(e,t){return(0,u.setIri)(e,n.acp.noneOf,t)},t.getNoneOfRuleUrlAll=function(e){return(0,l.getIriAll)(e,n.acp.noneOf)},t.createRule=function(e){const t=(0,o.internal_toIriString)(e);let r=(0,d.createThing)({url:t});return r=(0,u.setUrl)(r,n.rdf.type,n.acp.Rule),r},t.createResourceRuleFor=function(e,t){const r=(0,f.internal_getAcr)(e),i=new URL((0,a.getSourceUrl)(r));i.hash=`#${t}`;let o=(0,d.createThing)({url:i.href});return o=(0,u.setUrl)(o,n.rdf.type,n.acp.Rule),o},t.getRule=function(e,t){const r=(0,d.getThing)(e,t);return null===r||(0,l.getUrl)(r,n.rdf.type)!==n.acp.Rule?null:r},t.getResourceRule=g,t.getRuleAll=function(e){return(0,d.getThingAll)(e).filter(h)},t.getResourceRuleAll=function(e){const t=(0,f.internal_getAcr)(e);return(0,d.getThingAll)(t).filter(h)},t.removeRule=function(e,t){return(0,d.removeThing)(e,t)},t.removeResourceRule=function(e,t){const r=(0,f.internal_getAcr)(e);let n;if("string"==typeof t)if((0,i.internal_isValidUrl)(t))n=t;else{const e=new URL((0,a.getSourceUrl)(r));e.hash=`#${t}`,n=e.href}else n=(0,i.isNamedNode)(t)?(0,o.internal_toIriString)(t):(0,d.asUrl)(t);const s=g(e,new URL(n).hash.substring(1));if(null===s)return e;const l=(0,d.removeThing)(r,s);return(0,f.internal_setAcr)(e,l)},t.setRule=function(e,t){return(0,d.setThing)(e,t)},t.setResourceRule=function(e,t){const r=(0,f.internal_getAcr)(e),n=(0,d.setThing)(r,t);return(0,f.internal_setAcr)(e,n)},t.getAgentAll=p,t.setAgent=function(e,t){const r=y(e),i=A(e),o=_(e);let a=(0,u.setIri)(e,n.acp.agent,t);return r&&(a=m(a)),i&&(a=v(a)),o&&(a=w(a)),a},t.addAgent=function(e,t){return(0,s.addIri)(e,n.acp.agent,t)},t.removeAgent=function(e,t){return(0,c.removeIri)(e,n.acp.agent,t)},t.getGroupAll=b,t.setGroup=function(e,t){return(0,u.setIri)(e,n.acp.group,t)},t.addGroup=function(e,t){return(0,s.addIri)(e,n.acp.group,t)},t.removeGroup=function(e,t){return(0,c.removeIri)(e,n.acp.group,t)},t.hasPublic=y,t.setPublic=m,t.removePublic=function(e){return(0,c.removeIri)(e,n.acp.agent,n.acp.PublicAgent)},t.hasAuthenticated=A,t.setAuthenticated=v,t.removeAuthenticated=function(e){return(0,c.removeIri)(e,n.acp.agent,n.acp.AuthenticatedAgent)},t.hasCreator=_,t.setCreator=w,t.removeCreator=function(e){return(0,c.removeIri)(e,n.acp.agent,n.acp.CreatorAgent)},t.getClientAll=P,t.setClient=function(e,t){const r=O(e);let i=(0,u.setIri)(e,n.acp.client,t);return r&&(i=j(i)),i},t.addClient=function(e,t){return(0,s.addIri)(e,n.acp.client,t)},t.removeClient=function(e,t){return(0,c.removeIri)(e,n.acp.client,t)},t.hasAnyClient=O,t.setAnyClient=j,t.removeAnyClient=function(e){return(0,c.removeIri)(e,n.acp.client,n.solid.PublicOidcClient)},t.ruleAsMarkdown=function(e){let t=`## Rule: ${(0,d.asUrl)(e)}\n\n`,r="";y(e)&&(r+="- Everyone\n"),A(e)&&(r+="- All authenticated agents\n"),_(e)&&(r+="- The creator of this resource\n"),O(e)&&(r+="- Users of any client application\n");const n=p(e);n.length>0&&(r+="- The following agents:\n  - ",r+=`${n.join("\n  - ")}\n`);const i=b(e);i.length>0&&(r+="- Members of the following groups:\n  - ",r+=`${i.join("\n  - ")}\n`);const o=P(e);return o.length>0&&(r+="- Users of the following client applications:\n  - ",r+=`${o.join("\n  - ")}\n`),t+=r.length>0?`This rule applies to:\n${r}`:"<empty>\n",t}},3061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAcrUrl=void 0;const n=r(8684),i=r(9009),o=r(8576),a=r(5481);t.getAcrUrl=async function(e,t){const r=(0,a.getAcrUrl)(e);if(null!==r)return r;const s=await(0,o.getAclServerResourceInfo)(e,t);if(null===s)return null;const l=(0,i.getLinkedResourceUrlAll)(s).type;return Array.isArray(l)&&l.includes(n.ACP.AccessControlResource)?(0,i.getSourceUrl)(s):null}},5481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAcrUrl=void 0;const n=r(8684);t.getAcrUrl=function(e){const t=e.internal_resourceInfo.linkedResources[n.ACP.accessControl];return Array.isArray(t)&&1===t.length?t[0]:null}},6475:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAgentAccess=void 0;const n=r(6691),i=r(5590),o=r(1193),a=r(7949),s=r(8684),l=r(7454),c=r(1182);function u(e,t,r){const n=(0,i.getUrlAll)(t,s.ACP.allOf).map((t=>(0,i.getThing)((0,o.internal_getAcr)(e),t))).filter((e=>null!==e)),a=n.every((e=>(0,i.getUrlAll)(e,s.ACP.agent).includes(r))),l=(0,i.getUrlAll)(t,s.ACP.anyOf).map((t=>(0,i.getThing)((0,o.internal_getAcr)(e),t))).filter((e=>null!==e)),c=l.some((e=>(0,i.getUrlAll)(e,s.ACP.agent).includes(r))),u=(0,i.getUrlAll)(t,s.ACP.noneOf).map((t=>(0,i.getThing)((0,o.internal_getAcr)(e),t))).filter((e=>null!==e)),d=u.some((e=>(0,i.getUrlAll)(e,s.ACP.agent).includes(r)));return n.length+l.length>0&&(0===n.length||a)&&(0===l.length||c)&&(0===u.length||!d)}function d(e,t,r){const n=(0,l.getAllowModes)(e),i=(0,c.getDenyModes)(e);return"control"===r?{read:t.read,append:t.append,write:t.write,controlRead:(t.controlRead||n.read)&&!i.read,controlWrite:(t.controlWrite||n.write)&&!i.write}:{read:(t.read||n.read)&&!i.read,append:(t.append||n.append)&&!i.append,write:(t.write||n.write)&&!i.write,controlRead:t.controlRead,controlWrite:t.controlWrite}}t.getAgentAccess=async function(e,t){let r={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1};return(0,n.getPolicyUrlAll)(e).map((t=>(0,i.getThing)((0,o.internal_getAcr)(e),t))).filter((e=>null!==e)).forEach((n=>{u(e,n,t)&&(r=d(n,r,"resource"))})),(0,a.getAcrPolicyUrlAll)(e).map((t=>(0,i.getThing)((0,o.internal_getAcr)(e),t))).filter((e=>null!==e)).forEach((n=>{u(e,n,t)&&(r=d(n,r,"control"))})),r}},3660:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAgentAccessAll=void 0;const n=r(6475),i=r(7818);t.getAgentAccessAll=async function(e){return(await Promise.all((0,i.getAgentUrlAll)(e).map((async t=>({[t]:await(0,n.getAgentAccess)(e,t)}))))).reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})}},7818:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAgentUrlAll=void 0;const n=r(1193),i=r(8684),o=r(5590);t.getAgentUrlAll=function(e){return Array.from(new Set((0,o.getThingAll)((0,n.internal_getAcr)(e)).map((e=>(0,o.getUrlAll)(e,i.ACP.agent))).reduce(((e,t)=>e.concat(t)),[])))}},3350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPublicAccess=void 0;const n=r(8684),i=r(6475);t.getPublicAccess=async function(e){return(0,i.getAgentAccess)(e,n.ACP.PublicAgent)}},7224:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceAcr=void 0;const n=r(3061),i=r(3995),o=r(9009);t.getResourceAcr=async function(e,t){const r=await(0,n.getAcrUrl)(e,t);if(null===r)return null;let a;try{a=await(0,i.getSolidDataset)(r,t)}catch(e){return null}return Object.assign(Object.assign({},e),{internal_acp:{acr:Object.assign(Object.assign({},a),{accessTo:(0,o.getSourceUrl)(e)})}})}},5398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVcAccess=void 0;const n=r(9009),i=r(1220),o=r(362),a=r(8684),s=r(1193),l=r(616),c=r(4067),u=r(5521),d=r(465),f={read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1},h=(e,t,r)=>(0,i.getIriAll)(e,t).includes((0,o.asIri)(r));t.getVcAccess=function(e){const t=(0,s.internal_getAcr)(e),r=(0,c.getDefaultAccessControlThing)(e,"defaultAccessControl"),i=(0,l.getAccessControlResourceThing)(e);if(null===i||!h(i,a.ACP.accessControl,r))return f;const g=`${(0,n.getSourceIri)(t)}#${d.DEFAULT_VC_POLICY_NAME}`,p=(0,o.getThing)(t,g);if(null===p||!h(r,a.ACP.apply,p))return f;const b=`${(0,n.getSourceIri)(t)}#${d.DEFAULT_VC_MATCHER_NAME}`,y=(0,o.getThing)(t,b);return null!==y&&h(p,a.ACP.anyOf,y)?(0,u.getModes)(p,a.ACP.allow):f}},9093:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAgentAccess=void 0;const n=r(5590),i=r(1193),o=r(6475),a=r(9530),s=r(9506),l=r(2575),c=r(7648),u=r(7084);function d(e,t,r,o,s){var d;const f=(0,l.getDefaultAgentMatcherPolicyMatcherUrl)(e,r,o),h=(0,a.setDefaultAgentMatcherPolicyMatcherThingIfNotExist)(e,r,o),g=null!==(d=(0,n.getThing)((0,i.internal_getAcr)(h),f))&&void 0!==d?d:(0,n.createThing)({url:f});return(0,u.setAccessControlResourceThing)(h,"add"===s?(0,c.addAgent)(g,t):(0,c.removeAgent)(g,t))}t.setAgentAccess=async function(e,t,r){const n=await(0,o.getAgentAccess)(e,t);return"boolean"==typeof r.read&&n.read!==r.read&&(e=d(e,t,s.DEFAULT_ACCESS_CONTROL,"read",r.read?"add":"remove")),"boolean"==typeof r.append&&n.append!==r.append&&(e=d(e,t,s.DEFAULT_ACCESS_CONTROL,"append",r.append?"add":"remove")),"boolean"==typeof r.write&&n.write!==r.write&&(e=d(e,t,s.DEFAULT_ACCESS_CONTROL,"write",r.write?"add":"remove")),"boolean"==typeof r.controlRead&&n.controlRead!==r.controlRead&&(e=d(e,t,s.DEFAULT_ACR_ACCESS_CONTROL,"controlRead",r.controlRead?"add":"remove")),"boolean"==typeof r.controlWrite&&n.controlWrite!==r.controlWrite&&(e=d(e,t,s.DEFAULT_ACR_ACCESS_CONTROL,"controlWrite",r.controlWrite?"add":"remove")),e}},8739:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPublicAccess=void 0;const n=r(8684),i=r(9093);t.setPublicAccess=async function(e,t){return(0,i.setAgentAccess)(e,n.ACP.PublicAgent,t)}},465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setVcAccess=t.DEFAULT_VC_MATCHER_NAME=t.DEFAULT_VC_POLICY_NAME=void 0;const n=r(5590),i=r(7955),o=r(8684),a=r(1193),s=r(616),l=r(4067),c=r(5521),u=r(3471),d=r(3388);t.DEFAULT_VC_POLICY_NAME="defaultVcPolicy",t.DEFAULT_VC_MATCHER_NAME="defaultVcMatcher",t.setVcAccess=function(e,r){var f,h;let g=(0,a.internal_getAcr)(e);const p=`${(0,n.getSourceIri)(g)}#${t.DEFAULT_VC_POLICY_NAME}`,b=`${(0,n.getSourceIri)(g)}#${t.DEFAULT_VC_MATCHER_NAME}`;let y=(0,l.getDefaultAccessControlThing)(e,"defaultAccessControl"),m=null!==(f=(0,s.getAccessControlResourceThing)(e))&&void 0!==f?f:(0,n.buildThing)({url:(0,n.getSourceIri)(g)}).addIri(o.ACP.accessControl,y).build();(0,n.getIriAll)(m,o.ACP.accessControl).includes((0,n.asIri)(y))||(m=(0,n.addIri)(m,o.ACP.accessControl,y));let A=(0,n.getThing)(g,p);null===A&&(A=(0,n.buildThing)({url:p}).addIri(i.rdf.type,o.ACP.Policy).addIri(o.ACP.anyOf,b).build(),y=(0,n.addIri)(y,o.ACP.apply,A));const v=null!==(h=(0,n.getThing)(g,b))&&void 0!==h?h:(0,n.buildThing)({url:b}).addIri(i.rdf.type,o.ACP.Matcher).addIri(o.ACP.vc,o.VC_ACCESS_GRANT).build(),_=(0,c.getModes)(A,o.ACP.allow);return A=(0,d.setModes)(A,Object.assign(Object.assign({},_),r),o.ACP.allow),g=[m,y,A,v].reduce(n.setThing,g),(0,u.setAcr)(e,g)}},2348:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeControl=t.acp_v1=void 0;const n=r(6885),i=r(3453),o=r(4468),a=r(6553),s=r(7158),l=r(1193),c=r(362),u=r(6436),d={getFileWithAccessDatasets:n.getFileWithAccessDatasets,getFileWithAcr:n.getFileWithAcr,getReferencedPolicyUrlAll:n.getReferencedPolicyUrlAll,getResourceInfoWithAccessDatasets:n.getResourceInfoWithAccessDatasets,getResourceInfoWithAcr:n.getResourceInfoWithAcr,getSolidDatasetWithAccessDatasets:n.getSolidDatasetWithAccessDatasets,getSolidDatasetWithAcr:n.getSolidDatasetWithAcr,hasAccessibleAcr:n.hasAccessibleAcr,saveAcrFor:n.saveAcrFor},f={createPolicy:i.createPolicy,getAllowModes:i.getAllowModesV1,getDenyModes:i.getDenyModesV1,getPolicy:i.getPolicy,getPolicyAll:i.getPolicyAll,policyAsMarkdown:i.policyAsMarkdown,removePolicy:i.removePolicy,setAllowModes:i.setAllowModesV1,setDenyModes:i.setDenyModesV1,setPolicy:i.setPolicy},h={addAgent:o.addAgent,addForbiddenRuleUrl:o.addNoneOfRuleUrl,addGroup:o.addGroup,addOptionalRuleUrl:o.addAnyOfRuleUrl,addRequiredRuleUrl:o.addAllOfRuleUrl,createRule:o.createRule,getAgentAll:o.getAgentAll,getForbiddenRuleUrlAll:o.getNoneOfRuleUrlAll,getGroupAll:o.getGroupAll,getOptionalRuleUrlAll:o.getAnyOfRuleUrlAll,getRequiredRuleUrlAll:o.getAllOfRuleUrlAll,getRule:o.getRule,getRuleAll:o.getRuleAll,hasAuthenticated:o.hasAuthenticated,hasCreator:o.hasCreator,hasPublic:o.hasPublic,removeAgent:o.removeAgent,removeForbiddenRuleUrl:o.removeNoneOfRuleUrl,removeGroup:o.removeGroup,removeOptionalRuleUrl:o.removeAnyOfRuleUrl,removeRequiredRuleUrl:o.removeAllOfRuleUrl,removeRule:o.removeRule,ruleAsMarkdown:o.ruleAsMarkdown,setAgent:o.setAgent,setForbiddenRuleUrl:o.setNoneOfRuleUrl,setGroup:o.setGroup,setOptionalRuleUrl:o.setAnyOfRuleUrl,setRequiredRuleUrl:o.setAllOfRuleUrl,setRule:o.setRule},g={addMockAcrTo:a.addMockAcrTo,mockAcrFor:a.mockAcrFor},p={hasLinkedAcr:s.hasLinkedAcr,addAcrPolicyUrl:s.addAcrPolicyUrl,addMemberAcrPolicyUrl:s.addMemberAcrPolicyUrl,getAcrPolicyUrlAll:s.getAcrPolicyUrlAll,getMemberAcrPolicyUrlAll:s.getMemberAcrPolicyUrlAll,removeAcrPolicyUrl:s.removeAcrPolicyUrl,removeAcrPolicyUrlAll:s.removeAcrPolicyUrlAll,removeMemberAcrPolicyUrl:s.removeMemberAcrPolicyUrl,removeMemberAcrPolicyUrlAll:s.removeMemberAcrPolicyUrlAll},b={createControl:l.internal_createControl,getControl:l.internal_getControl,getAllControl:l.internal_getControlAll,getControlAll:l.internal_getControlAll,setControl:l.internal_setControl,removeControl:y,addPolicyUrl:l.internal_addPolicyUrl,getPolicyUrlAll:l.internal_getPolicyUrlAll,removePolicyUrl:l.internal_removePolicyUrl,removePolicyUrlAll:l.internal_removePolicyUrlAll,addMemberPolicyUrl:l.internal_addMemberPolicyUrl,getMemberPolicyUrlAll:l.internal_getMemberPolicyUrlAll,removeMemberPolicyUrl:l.internal_getMemberPolicyUrlAll,removeMemberPolicyUrlAll:l.internal_removeMemberPolicyUrlAll,getForbiddenRuleurlAll:o.getNoneOfRuleUrlAll,setPublic:u.previousSetPublicSignature,setAuthenticated:u.previousSetAuthenticatedSignature,setCreator:u.previousSetCreatorSignature};function y(e,t){const r=(0,l.internal_getAcr)(e),n=(0,c.removeThing)(r,t);return(0,l.internal_setAcr)(e,n)}t.acp_v1=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d),f),h),g),p),b),t.removeControl=y},6436:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.acp_v2=t.previousSetCreatorSignature=t.previousSetAuthenticatedSignature=t.previousSetPublicSignature=void 0;const n=r(6885),i=r(7158),o=r(3453),a=r(4468),s=r(6553),l={getFileWithAccessDatasets:n.getFileWithAccessDatasets,getFileWithAcr:n.getFileWithAcr,getReferencedPolicyUrlAll:n.getReferencedPolicyUrlAll,getResourceInfoWithAccessDatasets:n.getResourceInfoWithAccessDatasets,getResourceInfoWithAcr:n.getResourceInfoWithAcr,getSolidDatasetWithAccessDatasets:n.getSolidDatasetWithAccessDatasets,getSolidDatasetWithAcr:n.getSolidDatasetWithAcr,hasAccessibleAcr:n.hasAccessibleAcr,saveAcrFor:n.saveAcrFor},c={acrAsMarkdown:i.acrAsMarkdown,addAcrPolicyUrl:i.addAcrPolicyUrl,addMemberAcrPolicyUrl:i.addMemberAcrPolicyUrl,addMemberPolicyUrl:i.addMemberPolicyUrl,addPolicyUrl:i.addPolicyUrl,getAcrPolicyUrlAll:i.getAcrPolicyUrlAll,getMemberAcrPolicyUrlAll:i.getMemberAcrPolicyUrlAll,getMemberPolicyUrlAll:i.getMemberPolicyUrlAll,getPolicyUrlAll:i.getPolicyUrlAll,hasLinkedAcr:i.hasLinkedAcr,removeAcrPolicyUrl:i.removeAcrPolicyUrl,removeAcrPolicyUrlAll:i.removeAcrPolicyUrlAll,removeMemberAcrPolicyUrl:i.removeMemberAcrPolicyUrl,removeMemberAcrPolicyUrlAll:i.removeMemberAcrPolicyUrlAll,removeMemberPolicyUrl:i.removeMemberPolicyUrl,removeMemberPolicyUrlAll:i.removeMemberPolicyUrlAll,removePolicyUrl:i.removePolicyUrl,removePolicyUrlAll:i.removePolicyUrlAll},u={createPolicy:o.createPolicy,getAllowModes:o.getAllowModesV1,getDenyModes:o.getDenyModesV1,getPolicy:o.getPolicy,getPolicyAll:o.getPolicyAll,policyAsMarkdown:o.policyAsMarkdown,removePolicy:o.removePolicy,setAllowModes:o.setAllowModesV1,setDenyModes:o.setDenyModesV1,setPolicy:o.setPolicy},d={addAgent:a.addAgent,addForbiddenRuleUrl:a.addNoneOfRuleUrl,addGroup:a.addGroup,addOptionalRuleUrl:a.addAnyOfRuleUrl,addRequiredRuleUrl:a.addAllOfRuleUrl,createRule:a.createRule,getAgentAll:a.getAgentAll,getForbiddenRuleUrlAll:a.getNoneOfRuleUrlAll,getGroupAll:a.getGroupAll,getOptionalRuleUrlAll:a.getAnyOfRuleUrlAll,getRequiredRuleUrlAll:a.getAllOfRuleUrlAll,getRule:a.getRule,getRuleAll:a.getRuleAll,hasAuthenticated:a.hasAuthenticated,hasCreator:a.hasCreator,hasPublic:a.hasPublic,removeAgent:a.removeAgent,removeForbiddenRuleUrl:a.removeNoneOfRuleUrl,removeGroup:a.removeGroup,removeOptionalRuleUrl:a.removeAnyOfRuleUrl,removeRequiredRuleUrl:a.removeAllOfRuleUrl,removeRule:a.removeRule,ruleAsMarkdown:a.ruleAsMarkdown,setAgent:a.setAgent,setForbiddenRuleUrl:a.setNoneOfRuleUrl,setGroup:a.setGroup,setOptionalRuleUrl:a.setAnyOfRuleUrl,setRequiredRuleUrl:a.setAllOfRuleUrl,setRule:a.setRule},f={addMockAcrTo:s.addMockAcrTo,mockAcrFor:s.mockAcrFor};function h(e,t){return t?(0,a.setPublic)(e):(0,a.removePublic)(e)}function g(e,t){return t?(0,a.setAuthenticated)(e):(0,a.removeAuthenticated)(e)}function p(e,t){return t?(0,a.setCreator)(e):(0,a.removeCreator)(e)}t.previousSetPublicSignature=h,t.previousSetAuthenticatedSignature=g,t.previousSetCreatorSignature=p;const b={getForbiddenRuleurlAll:a.getNoneOfRuleUrlAll,setPublic:h,setAuthenticated:g,setCreator:p};t.acp_v2=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l),c),u),d),f),b)},4550:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.acp_v3=void 0;const n=r(6885),i=r(7158),o=r(3453),a=r(4468),s=r(6553),l={getFileWithAccessDatasets:n.getFileWithAccessDatasets,getFileWithAcr:n.getFileWithAcr,getLinkedAcrUrl:n.getLinkedAcrUrl,getReferencedPolicyUrlAll:n.getReferencedPolicyUrlAll,getResourceInfoWithAccessDatasets:n.getResourceInfoWithAccessDatasets,getResourceInfoWithAcr:n.getResourceInfoWithAcr,getSolidDatasetWithAccessDatasets:n.getSolidDatasetWithAccessDatasets,getSolidDatasetWithAcr:n.getSolidDatasetWithAcr,hasAccessibleAcr:n.hasAccessibleAcr,saveAcrFor:n.saveAcrFor,isAcpControlled:n.isAcpControlled},c={acrAsMarkdown:i.acrAsMarkdown,addAcrPolicyUrl:i.addAcrPolicyUrl,addMemberAcrPolicyUrl:i.addMemberAcrPolicyUrl,addMemberPolicyUrl:i.addMemberPolicyUrl,addPolicyUrl:i.addPolicyUrl,getAcrPolicyUrlAll:i.getAcrPolicyUrlAll,getMemberAcrPolicyUrlAll:i.getMemberAcrPolicyUrlAll,getMemberPolicyUrlAll:i.getMemberPolicyUrlAll,getPolicyUrlAll:i.getPolicyUrlAll,hasLinkedAcr:i.hasLinkedAcr,removeAcrPolicyUrl:i.removeAcrPolicyUrl,removeAcrPolicyUrlAll:i.removeAcrPolicyUrlAll,removeMemberAcrPolicyUrl:i.removeMemberAcrPolicyUrl,removeMemberAcrPolicyUrlAll:i.removeMemberAcrPolicyUrlAll,removeMemberPolicyUrl:i.removeMemberPolicyUrl,removeMemberPolicyUrlAll:i.removeMemberPolicyUrlAll,removePolicyUrl:i.removePolicyUrl,removePolicyUrlAll:i.removePolicyUrlAll},u={createPolicy:o.createPolicy,getAllowModes:o.getAllowModesV1,getDenyModes:o.getDenyModesV1,getPolicy:o.getPolicy,getPolicyAll:o.getPolicyAll,policyAsMarkdown:o.policyAsMarkdown,removePolicy:o.removePolicy,setAllowModes:o.setAllowModesV1,setDenyModes:o.setDenyModesV1,setPolicy:o.setPolicy,createResourcePolicyFor:o.createResourcePolicyFor,getResourceAcrPolicy:o.getResourceAcrPolicy,getResourceAcrPolicyAll:o.getResourceAcrPolicyAll,getResourcePolicy:o.getResourcePolicy,getResourcePolicyAll:o.getResourcePolicyAll,removeResourceAcrPolicy:o.removeResourceAcrPolicy,removeResourcePolicy:o.removeResourcePolicy,setResourceAcrPolicy:o.setResourceAcrPolicy,setResourcePolicy:o.setResourcePolicy},d={addAgent:a.addAgent,addGroup:a.addGroup,createRule:a.createRule,getAgentAll:a.getAgentAll,getGroupAll:a.getGroupAll,getRule:a.getRule,getRuleAll:a.getRuleAll,removeAgent:a.removeAgent,removeGroup:a.removeGroup,removeRule:a.removeRule,ruleAsMarkdown:a.ruleAsMarkdown,setAgent:a.setAgent,setGroup:a.setGroup,setRule:a.setRule,addClient:a.addClient,getClientAll:a.getClientAll,hasAnyClient:a.hasAnyClient,removeClient:a.removeClient,setAnyClient:a.setAnyClient,setClient:a.setClient,removeAnyClient:a.removeAnyClient,hasAuthenticated:a.hasAuthenticated,hasCreator:a.hasCreator,hasPublic:a.hasPublic,setAuthenticated:a.setAuthenticated,setCreator:a.setCreator,setPublic:a.setPublic,removeAuthenticated:a.removeAuthenticated,removeCreator:a.removeCreator,removePublic:a.removePublic,getAnyOfRuleUrlAll:a.getAnyOfRuleUrlAll,addAnyOfRuleUrl:a.addAnyOfRuleUrl,removeAnyOfRuleUrl:a.removeAnyOfRuleUrl,setAnyOfRuleUrl:a.setAnyOfRuleUrl,getAllOfRuleUrlAll:a.getAllOfRuleUrlAll,addAllOfRuleUrl:a.addAllOfRuleUrl,removeAllOfRuleUrl:a.removeAllOfRuleUrl,setAllOfRuleUrl:a.setAllOfRuleUrl,getNoneOfRuleUrlAll:a.getNoneOfRuleUrlAll,addNoneOfRuleUrl:a.addNoneOfRuleUrl,removeNoneOfRuleUrl:a.removeNoneOfRuleUrl,setNoneOfRuleUrl:a.setNoneOfRuleUrl,createResourceRuleFor:a.createResourceRuleFor,getResourceRule:a.getResourceRule,getResourceRuleAll:a.getResourceRuleAll,removeResourceRule:a.removeResourceRule,setResourceRule:a.setResourceRule},f={addMockAcrTo:s.addMockAcrTo,mockAcrFor:s.mockAcrFor};t.acp_v3=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l),c),u),d),f)},5589:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.acp_v4=void 0;const n=r(6885),i=r(7158),o=r(2552),a=r(9828),s=r(1556),l=r(9207),c=r(7949),u=r(8624),d=r(2863),f=r(6691),h=r(5258),g=r(6744),p=r(4749),b=r(8412),y=r(4008),m=r(3453),A=r(7648),v=r(6553),_=r(5398),w=r(465),P={getFileWithAccessDatasets:n.getFileWithAccessDatasets,getFileWithAcr:n.getFileWithAcr,getReferencedPolicyUrlAll:n.getReferencedPolicyUrlAll,getResourceInfoWithAccessDatasets:n.getResourceInfoWithAccessDatasets,getResourceInfoWithAcr:n.getResourceInfoWithAcr,getSolidDatasetWithAccessDatasets:n.getSolidDatasetWithAccessDatasets,getSolidDatasetWithAcr:n.getSolidDatasetWithAcr,hasAccessibleAcr:n.hasAccessibleAcr,saveAcrFor:n.saveAcrFor,isAcpControlled:n.isAcpControlled,getVcAccess:_.getVcAccess,setVcAccess:w.setVcAccess},O={addAcrPolicyUrl:o.addAcrPolicyUrl,addMemberAcrPolicyUrl:a.addMemberAcrPolicyUrl,addMemberPolicyUrl:s.addMemberPolicyUrl,addPolicyUrl:l.addPolicyUrl,getAcrPolicyUrlAll:c.getAcrPolicyUrlAll,getMemberAcrPolicyUrlAll:u.getMemberAcrPolicyUrlAll,getMemberPolicyUrlAll:d.getMemberPolicyUrlAll,getPolicyUrlAll:f.getPolicyUrlAll,hasLinkedAcr:i.hasLinkedAcr,removeAcrPolicyUrl:h.removeAcrPolicyUrl,removeAcrPolicyUrlAll:i.removeAcrPolicyUrlAll,removeMemberAcrPolicyUrl:g.removeMemberAcrPolicyUrl,removeMemberAcrPolicyUrlAll:i.removeMemberAcrPolicyUrlAll,removeMemberPolicyUrl:p.removeMemberPolicyUrl,removeMemberPolicyUrlAll:i.removeMemberPolicyUrlAll,removePolicyUrl:b.removePolicyUrl,removePolicyUrlAll:i.removePolicyUrlAll},j={createPolicy:m.createPolicy,getAllowModes:m.getAllowModesV2,getDenyModes:m.getDenyModesV2,getPolicy:m.getPolicy,getPolicyAll:m.getPolicyAll,removePolicy:m.removePolicy,setAllowModes:m.setAllowModesV2,setDenyModes:m.setDenyModesV2,setPolicy:m.setPolicy,createResourcePolicyFor:m.createResourcePolicyFor,getResourceAcrPolicy:m.getResourceAcrPolicy,getResourceAcrPolicyAll:m.getResourceAcrPolicyAll,getResourcePolicy:m.getResourcePolicy,getResourcePolicyAll:m.getResourcePolicyAll,removeResourceAcrPolicy:m.removeResourceAcrPolicy,removeResourcePolicy:m.removeResourcePolicy,setResourcePolicy:y.setResourcePolicy},R={addAgent:A.addAgent,createMatcher:A.createMatcher,getAgentAll:A.getAgentAll,getMatcher:A.getMatcher,getMatcherAll:A.getMatcherAll,removeAgent:A.removeAgent,removeMatcher:A.removeMatcher,setAgent:A.setAgent,setMatcher:A.setMatcher,addClient:A.addClient,getClientAll:A.getClientAll,hasAnyClient:A.hasAnyClient,removeClient:A.removeClient,setAnyClient:A.setAnyClient,setClient:A.setClient,removeAnyClient:A.removeAnyClient,hasAuthenticated:A.hasAuthenticated,hasCreator:A.hasCreator,hasPublic:A.hasPublic,setAuthenticated:A.setAuthenticated,setCreator:A.setCreator,setPublic:A.setPublic,removeAuthenticated:A.removeAuthenticated,removeCreator:A.removeCreator,removePublic:A.removePublic,getAnyOfMatcherUrlAll:A.getAnyOfMatcherUrlAll,addAnyOfMatcherUrl:A.addAnyOfMatcherUrl,removeAnyOfMatcherUrl:A.removeAnyOfMatcherUrl,setAnyOfMatcherUrl:A.setAnyOfMatcherUrl,getAllOfMatcherUrlAll:A.getAllOfMatcherUrlAll,addAllOfMatcherUrl:A.addAllOfMatcherUrl,removeAllOfMatcherUrl:A.removeAllOfMatcherUrl,setAllOfMatcherUrl:A.setAllOfMatcherUrl,getNoneOfMatcherUrlAll:A.getNoneOfMatcherUrlAll,addNoneOfMatcherUrl:A.addNoneOfMatcherUrl,removeNoneOfMatcherUrl:A.removeNoneOfMatcherUrl,setNoneOfMatcherUrl:A.setNoneOfMatcherUrl,createResourceMatcherFor:A.createResourceMatcherFor,getResourceMatcher:A.getResourceMatcher,getResourceMatcherAll:A.getResourceMatcherAll,removeResourceMatcher:A.removeResourceMatcher,setResourceMatcher:A.setResourceMatcher},x={addMockAcrTo:v.addMockAcrTo,mockAcrFor:v.mockAcrFor};t.acp_v4=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},P),O),j),R),x)},7955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pim=t.security=t.solid=t.acp=t.foaf=t.ldp=t.rdf=t.acl=void 0,t.acl={Authorization:"http://www.w3.org/ns/auth/acl#Authorization",AuthenticatedAgent:"http://www.w3.org/ns/auth/acl#AuthenticatedAgent",accessTo:"http://www.w3.org/ns/auth/acl#accessTo",agent:"http://www.w3.org/ns/auth/acl#agent",agentGroup:"http://www.w3.org/ns/auth/acl#agentGroup",agentClass:"http://www.w3.org/ns/auth/acl#agentClass",default:"http://www.w3.org/ns/auth/acl#default",defaultForNew:"http://www.w3.org/ns/auth/acl#defaultForNew",mode:"http://www.w3.org/ns/auth/acl#mode",origin:"http://www.w3.org/ns/auth/acl#origin"},t.rdf={type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},t.ldp={BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",Container:"http://www.w3.org/ns/ldp#Container",Resource:"http://www.w3.org/ns/ldp#Resource",contains:"http://www.w3.org/ns/ldp#contains"},t.foaf={Agent:"http://xmlns.com/foaf/0.1/Agent",primaryTopic:"http://xmlns.com/foaf/0.1/primaryTopic",isPrimaryTopicOf:"http://xmlns.com/foaf/0.1/isPrimaryTopicOf"},t.acp={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",Matcher:"http://www.w3.org/ns/solid/acp#Matcher",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",memberAccessControl:"http://www.w3.org/ns/solid/acp#memberAccessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},t.solid={PublicOidcClient:"http://www.w3.org/ns/solid/terms#PublicOidcClient"},t.security={publicKey:"https://w3id.org/security#publicKey"},t.pim={storage:"http://www.w3.org/ns/pim/space#storage"}},2537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidUrlExpectedError=t.resolveLocalIri=t.resolveIriForLocalNode=t.asNamedNode=t.internal_isValidUrl=t.isLocalNode=t.isTerm=t.isLiteral=t.isNamedNode=t.normalizeLocale=t.deserializeInteger=t.serializeInteger=t.deserializeDecimal=t.serializeDecimal=t.deserializeDate=t.serializeDate=t.deserializeDatetime=t.serializeDatetime=t.deserializeTime=t.serializeTime=t.deserializeBoolean=t.serializeBoolean=t.xmlSchemaTypes=void 0;const n=r(7089),i=r(6397),o=r(5475),a=r(4990);function s(e){if(e.endsWith("Z"))return[e.substring(0,e.length-1),"Z"];const t=e.split("+"),r=e.split("-");return 1===t.length&&1===r.length?[t[0],void 0]:t.length>r.length?[t[0],`+${t[1]}`]:[r[0],`-${r[1]}`]}function l(e){if("Z"===e)return[0,0];const t="+"===e.charAt(0)?1:-1,[r,n]=e.substring(1).split(":");return[Number.parseInt(r,10)*t,Number.parseInt(n,10)*t]}function c(e){return u(e)&&"NamedNode"===e.termType}function u(e){return null!==e&&"object"==typeof e&&"string"==typeof e.termType&&"string"==typeof e.value&&"function"==typeof e.equals}function d(e){const t=(0,o.internal_toIriString)(e);if("function"!=typeof URL)return!0;try{return new URL(t),!0}catch(e){return!1}}function f(e,t){if("function"!=typeof URL)throw new Error("The URL interface is not available, so an IRI cannot be determined.");const r=new URL(t);return r.hash=e,r.href}t.xmlSchemaTypes={boolean:"http://www.w3.org/2001/XMLSchema#boolean",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",date:"http://www.w3.org/2001/XMLSchema#date",time:"http://www.w3.org/2001/XMLSchema#time",decimal:"http://www.w3.org/2001/XMLSchema#decimal",integer:"http://www.w3.org/2001/XMLSchema#integer",string:"http://www.w3.org/2001/XMLSchema#string",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},t.serializeBoolean=function(e){return e?"true":"false"},t.deserializeBoolean=function(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&null},t.serializeTime=function(e){let t,r;if(e.millisecond&&(t=e.millisecond<10?`00${e.millisecond}`:e.millisecond<100?`0${e.millisecond}`:e.millisecond),"number"==typeof e.timezoneHourOffset){const t=Math.abs(e.timezoneHourOffset)<10?`0${Math.abs(e.timezoneHourOffset)}`:Math.abs(e.timezoneHourOffset);r=e.timezoneHourOffset>=0?`+${t}`:`-${t}`,e.timezoneMinuteOffset?r=`${r}:${e.timezoneMinuteOffset<10?`0${e.timezoneMinuteOffset}`:e.timezoneMinuteOffset}`:r+=":00"}return`${e.hour<10?`0${e.hour}`:e.hour}:${e.minute<10?`0${e.minute}`:e.minute}:${e.second<10?`0${e.second}`:e.second}${e.millisecond?`.${t}`:""}${r||""}`},t.deserializeTime=function(e){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const[t,r]=s(e),[n,i,o]=t.split(":");let a=Number.parseInt(n,10),c=Number.parseInt(i,10);const[u,d]=o.split("."),f=Number.parseInt(u,10),h=d?Number.parseInt(d,10):void 0;c>=60&&(a+=1,c-=60);const g={hour:a,minute:c,second:f};if("number"==typeof h&&(g.millisecond=h),"string"==typeof r){const[e,t]=l(r);if("number"!=typeof e||e>24||"number"!=typeof t||t>59)return null;g.timezoneHourOffset=e,g.timezoneMinuteOffset=t}return g},t.serializeDatetime=function(e){return e.toISOString()},t.deserializeDatetime=function(e){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const[t,r]=e.split("T"),[n,i]="-"===t.charAt(0)?[-1,t.substring(1)]:[1,t],[o,a,c]=i.split("-"),u=Number.parseInt(o,10)*n,d=Number.parseInt(a,10)-1,f=Number.parseInt(c,10),[h,g]=s(r),[p,b]="string"==typeof g?l(g):[0,0],[y,m,A]=h.split(":"),v=Number.parseInt(y,10)+p,_=Number.parseInt(m,10)+b,[w,P]=A.split("."),O=Number.parseInt(w,10),j=P?Number.parseInt(P,10):0,R=new Date(Date.UTC(u,d,f,v,_,O,j));return u>=0&&u<100&&R.setUTCFullYear(R.getUTCFullYear()-1900),R},t.serializeDate=function(e){const t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),[i,o]=s(e.toISOString());return`${t}-${String(r).padStart(2,"0")}-${String(n).padStart(2,"0")}${o}`},t.deserializeDate=function(e){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;const t=e,[r,n]="-"===t.charAt(0)?[-1,t.substring(1)]:[1,t],[i,o,a]=n.split("-"),s=a.length>2?a.substring(0,2):a,l=Number.parseInt(i,10)*r,c=Number.parseInt(o,10)-1,u=Number.parseInt(s,10),d=new Date(Date.UTC(l,c,u,12));return l>=0&&l<100&&d.setUTCFullYear(d.getUTCFullYear()-1900),d},t.serializeDecimal=function(e){return e.toString()},t.deserializeDecimal=function(e){const t=Number.parseFloat(e);return Number.isNaN(t)?null:t},t.serializeInteger=function(e){return e.toString()},t.deserializeInteger=function(e){const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t},t.normalizeLocale=function(e){return e.toLowerCase()},t.isNamedNode=c,t.isLiteral=function(e){return u(e)&&"Literal"===e.termType},t.isTerm=u,t.isLocalNode=function(e){return c(e)&&(0,a.isLocalNodeIri)(e.value)},t.internal_isValidUrl=d,t.asNamedNode=function(e){if(!d(e))throw new h(e);return c(e)?e:n.DataFactory.namedNode(e)},t.resolveIriForLocalNode=function(e,t){return n.DataFactory.namedNode(f((0,a.getLocalNodeName)(e.value),t))},t.resolveLocalIri=f;class h extends i.SolidClientError{constructor(e){const t=c(e)?e.value:e;super(`Expected a valid URL, but received: [${t}].`),this.receivedValue=t}}t.ValidUrlExpectedError=h},9473:function(e,t,r){"use strict";this&&this.__createBinding||Object.create,this&&this.__setModuleDefault||Object.create;this&&this.__importStar,Object.defineProperty(t,"__esModule",{value:!0}),t.fetch=void 0,t.fetch=async(e,t)=>r(4098)(e,t)},8971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.solidDatasetAsTurtle=t.getTurtleParser=t.getJsonLdParser=void 0;var n=r(5582);Object.defineProperty(t,"getJsonLdParser",{enumerable:!0,get:function(){return n.getJsonLdParser}});var i=r(5047);Object.defineProperty(t,"getTurtleParser",{enumerable:!0,get:function(){return i.getTurtleParser}});var o=r(6887);Object.defineProperty(t,"solidDatasetAsTurtle",{enumerable:!0,get:function(){return o.solidDatasetAsTurtle}})},5582:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonLdParser=void 0;const a=o(r(6805)),s=r(7089),l=r(9009),c=r(9473),u=async e=>{const t=await(0,c.fetch)(e);return{contextUrl:void 0,documentUrl:e,document:await t.json()}};function d(e){switch(e.termType){case"NamedNode":return s.DataFactory.namedNode(e.value);case"BlankNode":return s.DataFactory.blankNode(e.value.substr(2));case"Literal":return s.DataFactory.literal(e.value,e.language||e.datatype);case"DefaultGraph":return s.DataFactory.defaultGraph();default:throw Error(`unknown termType: ${e.termType}`)}}t.getJsonLdParser=()=>{const e=[],t=[],r=[];return{onQuad:t=>{e.push(t)},onError:e=>{r.push(e)},onComplete:e=>{t.push(e)},parse:async(n,i)=>{let o=[];try{o=(await a.toRDF(JSON.parse(n),{base:(0,l.getSourceUrl)(i),documentLoader:u})).map((e=>s.DataFactory.quad(d(e.subject),d(e.predicate),d(e.object),d(e.graph))))}catch(e){r.forEach((t=>t(e)))}o.forEach((t=>{e.forEach((e=>e(t)))})),t.forEach((e=>e()))}}}},40:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prefixes=void 0,t.prefixes={acl:"http://www.w3.org/ns/auth/acl#",acp:"http://www.w3.org/ns/solid/acp#",cc:"http://creativecommons.org/ns#",cert:"http://www.w3.org/ns/auth/cert#",csvw:"http://www.w3.org/ns/csvw#",current:"#",dc:"http://purl.org/dc/terms/",dcam:"http://purl.org/dc/dcam/",dcat:"http://www.w3.org/ns/dcat#",dctype:"http://purl.org/dc/dcmitype/",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",owl:"http://www.w3.org/2002/07/owl#",posixstat:"http://www.w3.org/ns/posix/stat#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",shacl:"http://www.w3.org/ns/shacl#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",solid:"http://www.w3.org/ns/solid/terms#",swapdoc:"http://www.w3.org/2000/10/swap/pim/doc#",ui:"http://www.w3.org/ns/ui#",vann:"http://purl.org/vocab/vann/",vcard:"http://www.w3.org/2006/vcard/ns#",ws:"http://www.w3.org/ns/pim/space#",xsd:"http://www.w3.org/2001/XMLSchema#"}},6887:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.solidDatasetAsTurtle=void 0;const n=r(1657),i=r(40),o=r(4721);t.solidDatasetAsTurtle=async function(e,t){const{prefixes:r=i.prefixes,thing:a}=Object.assign({},t),s=new n.Writer({format:"application/turtle",prefixes:r}),l=a?new n.NamedNode(a):void 0;for(const t of(0,o.toRdfJsDataset)(e).match(l))s.addQuad(t);return new Promise(((e,t)=>{s.end(((r,n)=>{r?t(r):e(n)}))}))}},5047:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triplesToTurtle=t.getTurtleParser=void 0;const n=r(1657),i=r(7089),o=r(9009);t.getTurtleParser=()=>{const e=[],t=[],r=[];return{onQuad:t=>{e.push(t)},onError:e=>{r.push(e)},onComplete:e=>{t.push(e)},parse:async(i,a)=>{(await async function(e){return new n.Parser({format:"text/turtle",baseIRI:e})}((0,o.getSourceUrl)(a))).parse(i,((n,i)=>{n?r.forEach((e=>e(n))):i?e.forEach((e=>e(i))):t.forEach((e=>e()))}))}}},t.triplesToTurtle=async function(e){const t=new n.Writer({format:"text/turtle"}),r=e.map((e=>i.DataFactory.quad(e.subject,e.predicate,e.object,void 0)));t.addQuads(r);const o=new Promise(((e,r)=>{t.end(((t,n)=>{t?r(t):e(n)}))}));return await o}},5590:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getDate=t.getDatetime=t.getBoolean=t.getIri=t.getUrl=t.getPropertyAll=t.ThingExpectedError=t.thingAsMarkdown=t.asIri=t.asUrl=t.isThingLocal=t.isThing=t.createThing=t.removeThing=t.setThing=t.getThingAll=t.getThing=t.mockFetchError=t.mockFileFrom=t.mockContainerFrom=t.mockSolidDatasetFrom=t.getWellKnownSolid=t.responseToSolidDataset=t.changeLogAsMarkdown=t.solidDatasetAsMarkdown=t.getContainedResourceUrlAll=t.deleteContainer=t.createContainerInContainer=t.saveSolidDatasetInContainer=t.createContainerAt=t.deleteSolidDataset=t.saveSolidDatasetAt=t.getSolidDataset=t.createSolidDataset=t.overwriteFile=t.saveFileInContainer=t.deleteFile=t.getFile=t.FetchError=t.responseToResourceInfo=t.getEffectiveAccess=t.getLinkedResourceUrlAll=t.isPodOwner=t.getPodOwner=t.getResourceInfo=t.getContentType=t.getSourceIri=t.getSourceUrl=t.isRawData=t.isContainer=void 0,t.setNamedNode=t.setLiteral=t.setStringNoLocale=t.setStringWithLocale=t.setInteger=t.setDecimal=t.setTime=t.setDate=t.setDatetime=t.setBoolean=t.setIri=t.setUrl=t.addTerm=t.addNamedNode=t.addLiteral=t.addStringNoLocale=t.addStringWithLocale=t.addStringEnglish=t.addInteger=t.addDecimal=t.addTime=t.addDate=t.addDatetime=t.addBoolean=t.addIri=t.addUrl=t.getTermAll=t.getNamedNodeAll=t.getLiteralAll=t.getTerm=t.getNamedNode=t.getLiteral=t.getStringNoLocaleAll=t.getStringByLocaleAll=t.getStringWithLocaleAll=t.getStringEnglishAll=t.getIntegerAll=t.getDecimalAll=t.getTimeAll=t.getDateAll=t.getDatetimeAll=t.getBooleanAll=t.getIriAll=t.getUrlAll=t.getStringNoLocale=t.getStringWithLocale=t.getStringEnglish=t.getInteger=t.getDecimal=t.getTime=void 0,t.setPublicResourceAccess=t.getPublicDefaultAccess=t.getPublicResourceAccess=t.getPublicAccess=t.setGroupResourceAccess=t.setGroupDefaultAccess=t.getGroupDefaultAccessAll=t.getGroupDefaultAccess=t.getGroupResourceAccessAll=t.getGroupResourceAccess=t.getGroupAccessAll=t.getGroupAccess=t.setAgentDefaultAccess=t.getAgentDefaultAccessAll=t.getAgentDefaultAccess=t.setAgentResourceAccess=t.getAgentResourceAccessAll=t.getAgentResourceAccess=t.getAgentAccessAll=t.getAgentAccess=t.hasAccessibleAcl=t.deleteAclFor=t.saveAclFor=t.createAclFromFallbackAcl=t.createAcl=t.getResourceInfoWithAcl=t.getFileWithAcl=t.getSolidDatasetWithAcl=t.getResourceAcl=t.hasResourceAcl=t.getFallbackAcl=t.hasFallbackAcl=t.hasAcl=t.mockThingFrom=t.buildThing=t.removeNamedNode=t.removeLiteral=t.removeStringNoLocale=t.removeStringWithLocale=t.removeStringEnglish=t.removeInteger=t.removeDecimal=t.removeTime=t.removeDate=t.removeDatetime=t.removeBoolean=t.removeIri=t.removeUrl=t.removeAll=t.setTerm=void 0,t.acp_ess_2=t.acp_ess_1=t.universalAccess=t.access=t.access_v2=t.access_v1=t.acp_v4=t.acp_v3=t.acp_v2=t.acp_v1=t.solidDatasetAsTurtle=t.getTurtleParser=t.getJsonLdParser=t.getAltProfileUrlAllFrom=t.getPodUrlAllFrom=t.getPodUrlAll=t.getProfileAll=t.setProfileJwks=t.getProfileJwksIri=t.addPublicKeyToProfileJwks=t.addJwkToJwks=t.toRdfJsDataset=t.fromRdfJsDataset=t.SolidClientError=t.hasServerResourceInfo=t.hasResourceInfo=t.addMockFallbackAclTo=t.addMockResourceAclTo=t.setPublicDefaultAccess=void 0;var a=r(9009);Object.defineProperty(t,"isContainer",{enumerable:!0,get:function(){return a.isContainer}}),Object.defineProperty(t,"isRawData",{enumerable:!0,get:function(){return a.isRawData}}),Object.defineProperty(t,"getSourceUrl",{enumerable:!0,get:function(){return a.getSourceUrl}}),Object.defineProperty(t,"getSourceIri",{enumerable:!0,get:function(){return a.getSourceIri}}),Object.defineProperty(t,"getContentType",{enumerable:!0,get:function(){return a.getContentType}}),Object.defineProperty(t,"getResourceInfo",{enumerable:!0,get:function(){return a.getResourceInfo}}),Object.defineProperty(t,"getPodOwner",{enumerable:!0,get:function(){return a.getPodOwner}}),Object.defineProperty(t,"isPodOwner",{enumerable:!0,get:function(){return a.isPodOwner}}),Object.defineProperty(t,"getLinkedResourceUrlAll",{enumerable:!0,get:function(){return a.getLinkedResourceUrlAll}}),Object.defineProperty(t,"getEffectiveAccess",{enumerable:!0,get:function(){return a.getEffectiveAccess}}),Object.defineProperty(t,"responseToResourceInfo",{enumerable:!0,get:function(){return a.responseToResourceInfo}}),Object.defineProperty(t,"FetchError",{enumerable:!0,get:function(){return a.FetchError}});var s=r(2146);Object.defineProperty(t,"getFile",{enumerable:!0,get:function(){return s.getFile}}),Object.defineProperty(t,"deleteFile",{enumerable:!0,get:function(){return s.deleteFile}}),Object.defineProperty(t,"saveFileInContainer",{enumerable:!0,get:function(){return s.saveFileInContainer}}),Object.defineProperty(t,"overwriteFile",{enumerable:!0,get:function(){return s.overwriteFile}});var l=r(3995);Object.defineProperty(t,"createSolidDataset",{enumerable:!0,get:function(){return l.createSolidDataset}}),Object.defineProperty(t,"getSolidDataset",{enumerable:!0,get:function(){return l.getSolidDataset}}),Object.defineProperty(t,"saveSolidDatasetAt",{enumerable:!0,get:function(){return l.saveSolidDatasetAt}}),Object.defineProperty(t,"deleteSolidDataset",{enumerable:!0,get:function(){return l.deleteSolidDataset}}),Object.defineProperty(t,"createContainerAt",{enumerable:!0,get:function(){return l.createContainerAt}}),Object.defineProperty(t,"saveSolidDatasetInContainer",{enumerable:!0,get:function(){return l.saveSolidDatasetInContainer}}),Object.defineProperty(t,"createContainerInContainer",{enumerable:!0,get:function(){return l.createContainerInContainer}}),Object.defineProperty(t,"deleteContainer",{enumerable:!0,get:function(){return l.deleteContainer}}),Object.defineProperty(t,"getContainedResourceUrlAll",{enumerable:!0,get:function(){return l.getContainedResourceUrlAll}}),Object.defineProperty(t,"solidDatasetAsMarkdown",{enumerable:!0,get:function(){return l.solidDatasetAsMarkdown}}),Object.defineProperty(t,"changeLogAsMarkdown",{enumerable:!0,get:function(){return l.changeLogAsMarkdown}}),Object.defineProperty(t,"responseToSolidDataset",{enumerable:!0,get:function(){return l.responseToSolidDataset}}),Object.defineProperty(t,"getWellKnownSolid",{enumerable:!0,get:function(){return l.getWellKnownSolid}});var c=r(2047);Object.defineProperty(t,"mockSolidDatasetFrom",{enumerable:!0,get:function(){return c.mockSolidDatasetFrom}}),Object.defineProperty(t,"mockContainerFrom",{enumerable:!0,get:function(){return c.mockContainerFrom}}),Object.defineProperty(t,"mockFileFrom",{enumerable:!0,get:function(){return c.mockFileFrom}}),Object.defineProperty(t,"mockFetchError",{enumerable:!0,get:function(){return c.mockFetchError}});var u=r(362);Object.defineProperty(t,"getThing",{enumerable:!0,get:function(){return u.getThing}}),Object.defineProperty(t,"getThingAll",{enumerable:!0,get:function(){return u.getThingAll}}),Object.defineProperty(t,"setThing",{enumerable:!0,get:function(){return u.setThing}}),Object.defineProperty(t,"removeThing",{enumerable:!0,get:function(){return u.removeThing}}),Object.defineProperty(t,"createThing",{enumerable:!0,get:function(){return u.createThing}}),Object.defineProperty(t,"isThing",{enumerable:!0,get:function(){return u.isThing}}),Object.defineProperty(t,"isThingLocal",{enumerable:!0,get:function(){return u.isThingLocal}}),Object.defineProperty(t,"asUrl",{enumerable:!0,get:function(){return u.asUrl}}),Object.defineProperty(t,"asIri",{enumerable:!0,get:function(){return u.asIri}}),Object.defineProperty(t,"thingAsMarkdown",{enumerable:!0,get:function(){return u.thingAsMarkdown}}),Object.defineProperty(t,"ThingExpectedError",{enumerable:!0,get:function(){return u.ThingExpectedError}});var d=r(1220);Object.defineProperty(t,"getPropertyAll",{enumerable:!0,get:function(){return d.getPropertyAll}}),Object.defineProperty(t,"getUrl",{enumerable:!0,get:function(){return d.getUrl}}),Object.defineProperty(t,"getIri",{enumerable:!0,get:function(){return d.getIri}}),Object.defineProperty(t,"getBoolean",{enumerable:!0,get:function(){return d.getBoolean}}),Object.defineProperty(t,"getDatetime",{enumerable:!0,get:function(){return d.getDatetime}}),Object.defineProperty(t,"getDate",{enumerable:!0,get:function(){return d.getDate}}),Object.defineProperty(t,"getTime",{enumerable:!0,get:function(){return d.getTime}}),Object.defineProperty(t,"getDecimal",{enumerable:!0,get:function(){return d.getDecimal}}),Object.defineProperty(t,"getInteger",{enumerable:!0,get:function(){return d.getInteger}}),Object.defineProperty(t,"getStringEnglish",{enumerable:!0,get:function(){return d.getStringEnglish}}),Object.defineProperty(t,"getStringWithLocale",{enumerable:!0,get:function(){return d.getStringWithLocale}}),Object.defineProperty(t,"getStringNoLocale",{enumerable:!0,get:function(){return d.getStringNoLocale}}),Object.defineProperty(t,"getUrlAll",{enumerable:!0,get:function(){return d.getUrlAll}}),Object.defineProperty(t,"getIriAll",{enumerable:!0,get:function(){return d.getIriAll}}),Object.defineProperty(t,"getBooleanAll",{enumerable:!0,get:function(){return d.getBooleanAll}}),Object.defineProperty(t,"getDatetimeAll",{enumerable:!0,get:function(){return d.getDatetimeAll}}),Object.defineProperty(t,"getDateAll",{enumerable:!0,get:function(){return d.getDateAll}}),Object.defineProperty(t,"getTimeAll",{enumerable:!0,get:function(){return d.getTimeAll}}),Object.defineProperty(t,"getDecimalAll",{enumerable:!0,get:function(){return d.getDecimalAll}}),Object.defineProperty(t,"getIntegerAll",{enumerable:!0,get:function(){return d.getIntegerAll}}),Object.defineProperty(t,"getStringEnglishAll",{enumerable:!0,get:function(){return d.getStringEnglishAll}}),Object.defineProperty(t,"getStringWithLocaleAll",{enumerable:!0,get:function(){return d.getStringWithLocaleAll}}),Object.defineProperty(t,"getStringByLocaleAll",{enumerable:!0,get:function(){return d.getStringByLocaleAll}}),Object.defineProperty(t,"getStringNoLocaleAll",{enumerable:!0,get:function(){return d.getStringNoLocaleAll}}),Object.defineProperty(t,"getLiteral",{enumerable:!0,get:function(){return d.getLiteral}}),Object.defineProperty(t,"getNamedNode",{enumerable:!0,get:function(){return d.getNamedNode}}),Object.defineProperty(t,"getTerm",{enumerable:!0,get:function(){return d.getTerm}}),Object.defineProperty(t,"getLiteralAll",{enumerable:!0,get:function(){return d.getLiteralAll}}),Object.defineProperty(t,"getNamedNodeAll",{enumerable:!0,get:function(){return d.getNamedNodeAll}}),Object.defineProperty(t,"getTermAll",{enumerable:!0,get:function(){return d.getTermAll}});var f=r(6796);Object.defineProperty(t,"addUrl",{enumerable:!0,get:function(){return f.addUrl}}),Object.defineProperty(t,"addIri",{enumerable:!0,get:function(){return f.addIri}}),Object.defineProperty(t,"addBoolean",{enumerable:!0,get:function(){return f.addBoolean}}),Object.defineProperty(t,"addDatetime",{enumerable:!0,get:function(){return f.addDatetime}}),Object.defineProperty(t,"addDate",{enumerable:!0,get:function(){return f.addDate}}),Object.defineProperty(t,"addTime",{enumerable:!0,get:function(){return f.addTime}}),Object.defineProperty(t,"addDecimal",{enumerable:!0,get:function(){return f.addDecimal}}),Object.defineProperty(t,"addInteger",{enumerable:!0,get:function(){return f.addInteger}}),Object.defineProperty(t,"addStringEnglish",{enumerable:!0,get:function(){return f.addStringEnglish}}),Object.defineProperty(t,"addStringWithLocale",{enumerable:!0,get:function(){return f.addStringWithLocale}}),Object.defineProperty(t,"addStringNoLocale",{enumerable:!0,get:function(){return f.addStringNoLocale}}),Object.defineProperty(t,"addLiteral",{enumerable:!0,get:function(){return f.addLiteral}}),Object.defineProperty(t,"addNamedNode",{enumerable:!0,get:function(){return f.addNamedNode}}),Object.defineProperty(t,"addTerm",{enumerable:!0,get:function(){return f.addTerm}});var h=r(7103);Object.defineProperty(t,"setUrl",{enumerable:!0,get:function(){return h.setUrl}}),Object.defineProperty(t,"setIri",{enumerable:!0,get:function(){return h.setIri}}),Object.defineProperty(t,"setBoolean",{enumerable:!0,get:function(){return h.setBoolean}}),Object.defineProperty(t,"setDatetime",{enumerable:!0,get:function(){return h.setDatetime}}),Object.defineProperty(t,"setDate",{enumerable:!0,get:function(){return h.setDate}}),Object.defineProperty(t,"setTime",{enumerable:!0,get:function(){return h.setTime}}),Object.defineProperty(t,"setDecimal",{enumerable:!0,get:function(){return h.setDecimal}}),Object.defineProperty(t,"setInteger",{enumerable:!0,get:function(){return h.setInteger}}),Object.defineProperty(t,"setStringWithLocale",{enumerable:!0,get:function(){return h.setStringWithLocale}}),Object.defineProperty(t,"setStringNoLocale",{enumerable:!0,get:function(){return h.setStringNoLocale}}),Object.defineProperty(t,"setLiteral",{enumerable:!0,get:function(){return h.setLiteral}}),Object.defineProperty(t,"setNamedNode",{enumerable:!0,get:function(){return h.setNamedNode}}),Object.defineProperty(t,"setTerm",{enumerable:!0,get:function(){return h.setTerm}});var g=r(5205);Object.defineProperty(t,"removeAll",{enumerable:!0,get:function(){return g.removeAll}}),Object.defineProperty(t,"removeUrl",{enumerable:!0,get:function(){return g.removeUrl}}),Object.defineProperty(t,"removeIri",{enumerable:!0,get:function(){return g.removeIri}}),Object.defineProperty(t,"removeBoolean",{enumerable:!0,get:function(){return g.removeBoolean}}),Object.defineProperty(t,"removeDatetime",{enumerable:!0,get:function(){return g.removeDatetime}}),Object.defineProperty(t,"removeDate",{enumerable:!0,get:function(){return g.removeDate}}),Object.defineProperty(t,"removeTime",{enumerable:!0,get:function(){return g.removeTime}}),Object.defineProperty(t,"removeDecimal",{enumerable:!0,get:function(){return g.removeDecimal}}),Object.defineProperty(t,"removeInteger",{enumerable:!0,get:function(){return g.removeInteger}}),Object.defineProperty(t,"removeStringEnglish",{enumerable:!0,get:function(){return g.removeStringEnglish}}),Object.defineProperty(t,"removeStringWithLocale",{enumerable:!0,get:function(){return g.removeStringWithLocale}}),Object.defineProperty(t,"removeStringNoLocale",{enumerable:!0,get:function(){return g.removeStringNoLocale}}),Object.defineProperty(t,"removeLiteral",{enumerable:!0,get:function(){return g.removeLiteral}}),Object.defineProperty(t,"removeNamedNode",{enumerable:!0,get:function(){return g.removeNamedNode}});var p=r(7673);Object.defineProperty(t,"buildThing",{enumerable:!0,get:function(){return p.buildThing}});var b=r(7682);Object.defineProperty(t,"mockThingFrom",{enumerable:!0,get:function(){return b.mockThingFrom}});var y=r(3185);Object.defineProperty(t,"hasAcl",{enumerable:!0,get:function(){return y.hasAcl}}),Object.defineProperty(t,"hasFallbackAcl",{enumerable:!0,get:function(){return y.hasFallbackAcl}}),Object.defineProperty(t,"getFallbackAcl",{enumerable:!0,get:function(){return y.getFallbackAcl}}),Object.defineProperty(t,"hasResourceAcl",{enumerable:!0,get:function(){return y.hasResourceAcl}}),Object.defineProperty(t,"getResourceAcl",{enumerable:!0,get:function(){return y.getResourceAcl}}),Object.defineProperty(t,"getSolidDatasetWithAcl",{enumerable:!0,get:function(){return y.getSolidDatasetWithAcl}}),Object.defineProperty(t,"getFileWithAcl",{enumerable:!0,get:function(){return y.getFileWithAcl}}),Object.defineProperty(t,"getResourceInfoWithAcl",{enumerable:!0,get:function(){return y.getResourceInfoWithAcl}}),Object.defineProperty(t,"createAcl",{enumerable:!0,get:function(){return y.createAcl}}),Object.defineProperty(t,"createAclFromFallbackAcl",{enumerable:!0,get:function(){return y.createAclFromFallbackAcl}}),Object.defineProperty(t,"saveAclFor",{enumerable:!0,get:function(){return y.saveAclFor}}),Object.defineProperty(t,"deleteAclFor",{enumerable:!0,get:function(){return y.deleteAclFor}}),Object.defineProperty(t,"hasAccessibleAcl",{enumerable:!0,get:function(){return y.hasAccessibleAcl}});var m=r(87);Object.defineProperty(t,"getAgentAccess",{enumerable:!0,get:function(){return m.getAgentAccess}}),Object.defineProperty(t,"getAgentAccessAll",{enumerable:!0,get:function(){return m.getAgentAccessAll}}),Object.defineProperty(t,"getAgentResourceAccess",{enumerable:!0,get:function(){return m.getAgentResourceAccess}}),Object.defineProperty(t,"getAgentResourceAccessAll",{enumerable:!0,get:function(){return m.getAgentResourceAccessAll}}),Object.defineProperty(t,"setAgentResourceAccess",{enumerable:!0,get:function(){return m.setAgentResourceAccess}}),Object.defineProperty(t,"getAgentDefaultAccess",{enumerable:!0,get:function(){return m.getAgentDefaultAccess}}),Object.defineProperty(t,"getAgentDefaultAccessAll",{enumerable:!0,get:function(){return m.getAgentDefaultAccessAll}}),Object.defineProperty(t,"setAgentDefaultAccess",{enumerable:!0,get:function(){return m.setAgentDefaultAccess}});var A=r(1005);Object.defineProperty(t,"getGroupAccess",{enumerable:!0,get:function(){return A.getGroupAccess}}),Object.defineProperty(t,"getGroupAccessAll",{enumerable:!0,get:function(){return A.getGroupAccessAll}}),Object.defineProperty(t,"getGroupResourceAccess",{enumerable:!0,get:function(){return A.getGroupResourceAccess}}),Object.defineProperty(t,"getGroupResourceAccessAll",{enumerable:!0,get:function(){return A.getGroupResourceAccessAll}}),Object.defineProperty(t,"getGroupDefaultAccess",{enumerable:!0,get:function(){return A.getGroupDefaultAccess}}),Object.defineProperty(t,"getGroupDefaultAccessAll",{enumerable:!0,get:function(){return A.getGroupDefaultAccessAll}}),Object.defineProperty(t,"setGroupDefaultAccess",{enumerable:!0,get:function(){return A.setGroupDefaultAccess}}),Object.defineProperty(t,"setGroupResourceAccess",{enumerable:!0,get:function(){return A.setGroupResourceAccess}});var v=r(7746);Object.defineProperty(t,"getPublicAccess",{enumerable:!0,get:function(){return v.getPublicAccess}}),Object.defineProperty(t,"getPublicResourceAccess",{enumerable:!0,get:function(){return v.getPublicResourceAccess}}),Object.defineProperty(t,"getPublicDefaultAccess",{enumerable:!0,get:function(){return v.getPublicDefaultAccess}}),Object.defineProperty(t,"setPublicResourceAccess",{enumerable:!0,get:function(){return v.setPublicResourceAccess}}),Object.defineProperty(t,"setPublicDefaultAccess",{enumerable:!0,get:function(){return v.setPublicDefaultAccess}});var _=r(4559);Object.defineProperty(t,"addMockResourceAclTo",{enumerable:!0,get:function(){return _.addMockResourceAclTo}}),Object.defineProperty(t,"addMockFallbackAclTo",{enumerable:!0,get:function(){return _.addMockFallbackAclTo}});var w=r(6397);Object.defineProperty(t,"hasResourceInfo",{enumerable:!0,get:function(){return w.hasResourceInfo}}),Object.defineProperty(t,"hasServerResourceInfo",{enumerable:!0,get:function(){return w.hasServerResourceInfo}}),Object.defineProperty(t,"SolidClientError",{enumerable:!0,get:function(){return w.SolidClientError}});var P=r(4721);Object.defineProperty(t,"fromRdfJsDataset",{enumerable:!0,get:function(){return P.fromRdfJsDataset}}),Object.defineProperty(t,"toRdfJsDataset",{enumerable:!0,get:function(){return P.toRdfJsDataset}});var O=r(5433);Object.defineProperty(t,"addJwkToJwks",{enumerable:!0,get:function(){return O.addJwkToJwks}}),Object.defineProperty(t,"addPublicKeyToProfileJwks",{enumerable:!0,get:function(){return O.addPublicKeyToProfileJwks}}),Object.defineProperty(t,"getProfileJwksIri",{enumerable:!0,get:function(){return O.getProfileJwksIri}}),Object.defineProperty(t,"setProfileJwks",{enumerable:!0,get:function(){return O.setProfileJwks}});var j=r(3148);Object.defineProperty(t,"getProfileAll",{enumerable:!0,get:function(){return j.getProfileAll}}),Object.defineProperty(t,"getPodUrlAll",{enumerable:!0,get:function(){return j.getPodUrlAll}}),Object.defineProperty(t,"getPodUrlAllFrom",{enumerable:!0,get:function(){return j.getPodUrlAllFrom}}),Object.defineProperty(t,"getAltProfileUrlAllFrom",{enumerable:!0,get:function(){return j.getAltProfileUrlAllFrom}});var R=r(8971);Object.defineProperty(t,"getJsonLdParser",{enumerable:!0,get:function(){return R.getJsonLdParser}}),Object.defineProperty(t,"getTurtleParser",{enumerable:!0,get:function(){return R.getTurtleParser}}),Object.defineProperty(t,"solidDatasetAsTurtle",{enumerable:!0,get:function(){return R.solidDatasetAsTurtle}});var x=r(2348);Object.defineProperty(t,"acp_v1",{enumerable:!0,get:function(){return x.acp_v1}});var I=r(6436);Object.defineProperty(t,"acp_v2",{enumerable:!0,get:function(){return I.acp_v2}});var S=r(4550);Object.defineProperty(t,"acp_v3",{enumerable:!0,get:function(){return S.acp_v3}});var T=r(5589);Object.defineProperty(t,"acp_v4",{enumerable:!0,get:function(){return T.acp_v4}}),t.access_v1=o(r(1456)),t.access_v2=o(r(3854)),t.access=o(r(8498)),t.universalAccess=o(r(2763)),t.acp_ess_1=o(r(6678)),t.acp_ess_2=o(r(3300))},5475:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.internal_toIriString=void 0,t.internal_toIriString=function(e){return"string"==typeof e?e:e.value}},6397:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SolidClientError=t.hasChangelog=t.hasServerResourceInfo=t.hasResourceInfo=void 0,t.hasResourceInfo=function(e){return"object"==typeof e&&"object"==typeof e.internal_resourceInfo},t.hasServerResourceInfo=function(e){const t=e;return"object"==typeof t&&"object"==typeof t.internal_resourceInfo&&"object"==typeof t.internal_resourceInfo.linkedResources},t.hasChangelog=function(e){const t=e;return"object"==typeof t.internal_changeLog&&Array.isArray(t.internal_changeLog.additions)&&Array.isArray(t.internal_changeLog.deletions)};class r extends Error{}t.SolidClientError=r},5433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addPublicKeyToProfileJwks=t.addJwkToJwks=t.getProfileJwksIri=t.setProfileJwks=void 0;const n=r(7955),i=r(2146),o=r(9009),a=r(3995),s=r(1220),l=r(7103),c=r(362);function u(e,t){const r=(0,c.getThing)(e,t);if(null===r)throw new Error(`Profile document [${(0,o.getSourceUrl)(e)}] does not include WebID [${t}]`);return r}function d(e,t){return(0,s.getUrl)(u(e,t),n.security.publicKey)}async function f(e,t,r=o.internal_defaultFetchOptions){const n=Object.assign(Object.assign({},o.internal_defaultFetchOptions),r),i=await n.fetch(t);if(!i.ok)throw new Error(`Fetching [${t}] returned an error: ${i.status} ${i.statusText}`);try{const r=await i.json();if(!(e=>void 0!==e.keys)(r))throw new Error(`[${t}] does not dereference to a valid JWKS: ${JSON.stringify(r)}`);return{keys:[...r.keys,e]}}catch(e){throw new Error(`Parsing the document at [${t}] failed: ${e}`)}}t.setProfileJwks=function(e,t,r){return(0,c.setThing)(e,(0,l.setIri)(u(e,t),n.security.publicKey,r))},t.getProfileJwksIri=d,t.addJwkToJwks=f,t.addPublicKeyToProfileJwks=async function(e,t,r=o.internal_defaultFetchOptions){const s=await(0,a.getSolidDataset)(t,{fetch:r.fetch});if(null===s)throw new Error(`The profile document associated with WebID [${t}] could not be retrieved.`);const l=d(s,t);if(null===l)throw new Error(`No key set is declared for the property [${n.security.publicKey}] in the profile of [${t}]`);const c=await f(e,l,r);return(0,i.overwriteFile)(l,new Blob([JSON.stringify(c)]),{contentType:"application/json",fetch:r.fetch})}},3148:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPodUrlAllFrom=t.getPodUrlAll=t.getProfileAll=t.getAltProfileUrlAllFrom=void 0;const n=r(4098),i=r(5590),o=r(7955),a=r(9009),s=r(9473);function l(e,t){const r=(0,i.getThing)(t,e),n=(0,i.getThingAll)(t).filter((e=>(0,i.getIriAll)(e,o.foaf.primaryTopic).length>0)).map(i.asIri).concat(r?(0,i.getIriAll)(r,o.foaf.isPrimaryTopicOf):[]).filter((e=>e!==(0,a.getSourceIri)(t)));return Array.from(new Set(n))}async function c(e,t=a.internal_defaultFetchOptions){var r,o;const c=null!==(r=t.fetch)&&void 0!==r?r:s.fetch,u=null!==(o=t.webIdProfile)&&void 0!==o?o:await(0,i.getSolidDataset)(e,{fetch:n.fetch});return{webIdProfile:u,altProfileAll:(await Promise.allSettled(l(e,u).map((e=>(0,i.getSolidDataset)(e,{fetch:c}))))).filter((e=>"fulfilled"===e.status)).map((e=>e.value))}}function u(e,t){const r=new Set;return[e.webIdProfile,...e.altProfileAll].forEach((e=>{const n=(0,i.getThing)(e,t);null!==n&&(0,i.getIriAll)(n,o.pim.storage).forEach((e=>r.add(e)))})),Array.from(r)}t.getAltProfileUrlAllFrom=l,t.getProfileAll=c,t.getPodUrlAll=async function(e,t=a.internal_defaultFetchOptions){return u(await c(e,t),e)},t.getPodUrlAllFrom=u},4990:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getBlankNodeId=t.getBlankNodeValue=t.isBlankNodeId=t.getLocalNodeIri=t.getLocalNodeName=t.isLocalNodeIri=t.freeze=t.localNodeSkolemPrefix=t.rdfJsDataset=void 0;const i=n(r(6521));t.rdfJsDataset=i.default.dataset,t.localNodeSkolemPrefix="https://inrupt.com/.well-known/sdk-local-node/",t.freeze=Object.freeze,t.isLocalNodeIri=function(e){return e.substring(0,t.localNodeSkolemPrefix.length)===t.localNodeSkolemPrefix},t.getLocalNodeName=function(e){return e.substring(t.localNodeSkolemPrefix.length)},t.getLocalNodeIri=function(e){return`${t.localNodeSkolemPrefix}${e}`},t.isBlankNodeId=function(e){return"string"==typeof e&&"_:"===e.substring(0,2)},t.getBlankNodeValue=function(e){return e.substring(2)},t.getBlankNodeId=function(e){return`_:${e.value}`}},7089:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.subjectToRdfJsQuads=t.toRdfJsQuads=t.getChainBlankNodes=t.addRdfJsQuadToDataset=t.DataFactory=void 0;const i=n(r(8825)),o=r(4990),a=r(2537);function s(e,t,r){var n;if(!["NamedNode","BlankNode"].includes(t.subject.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.subject.termType}] as their Subject node.`);const i="BlankNode"===t.subject.termType?`_:${t.subject.value}`:t.subject.value,a=null!==(n=e[i])&&void 0!==n?n:{type:"Subject",url:i,predicates:{}};return(0,o.freeze)(Object.assign(Object.assign({},e),{[i]:l(a,t,r)}))}function l(e,t,r){return(0,o.freeze)(Object.assign(Object.assign({},e),{predicates:c(e.predicates,t,r)}))}function c(e,t,r){var n;if(!["NamedNode"].includes(t.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.predicate.termType}] as their Predicate node.`);const i=t.predicate.value,a=null!==(n=e[i])&&void 0!==n?n:{};return(0,o.freeze)(Object.assign(Object.assign({},e),{[i]:u(a,t,r)}))}function u(e,t,r){var n,i,s,l,c,u,f,h;if("NamedNode"===t.object.termType){const r=(0,o.freeze)([...null!==(n=e.namedNodes)&&void 0!==n?n:[],t.object.value]);return(0,o.freeze)(Object.assign(Object.assign({},e),{namedNodes:r}))}if("Literal"===t.object.termType){if(t.object.datatype.value===a.xmlSchemaTypes.langString){const r=t.object.language.toLowerCase(),n=(0,o.freeze)([...null!==(s=null===(i=e.langStrings)||void 0===i?void 0:i[r])&&void 0!==s?s:[],t.object.value]),a=(0,o.freeze)(Object.assign(Object.assign({},null!==(l=e.langStrings)&&void 0!==l?l:{}),{[r]:n}));return(0,o.freeze)(Object.assign(Object.assign({},e),{langStrings:a}))}const r=(0,o.freeze)([...null!==(u=null===(c=e.literals)||void 0===c?void 0:c[t.object.datatype.value])&&void 0!==u?u:[],t.object.value]),n=(0,o.freeze)(Object.assign(Object.assign({},null!==(f=e.literals)&&void 0!==f?f:{}),{[t.object.datatype.value]:r}));return(0,o.freeze)(Object.assign(Object.assign({},e),{literals:n}))}if("BlankNode"===t.object.termType){const n=d(t.object,r),i=(0,o.freeze)([...null!==(h=e.blankNodes)&&void 0!==h?h:[],n]);return(0,o.freeze)(Object.assign(Object.assign({},e),{blankNodes:i}))}throw new Error(`Objects of type [${t.object.termType}] are not supported.`)}function d(e,t){var r,n;if(void 0===(null!==(r=t.chainBlankNodes)&&void 0!==r?r:[]).find((t=>t.equals(e))))return(0,o.getBlankNodeId)(e);const i=(null!==(n=t.otherQuads)&&void 0!==n?n:[]).filter((t=>t.subject.equals(e))),a=i.filter((e=>!g(e.object))).reduce(((e,r)=>{var n;if(!["NamedNode"].includes(r.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${r.predicate.termType}] as their Predicate node.`);const i=null!==(n=e[r.predicate.value])&&void 0!==n?n:{};return(0,o.freeze)(Object.assign(Object.assign({},e),{[r.predicate.value]:u(i,r,t)}))}),{});return i.filter((e=>g(e.object))).reduce(((e,r)=>{var n,i;if(!["NamedNode"].includes(r.predicate.termType))throw new Error(`Cannot parse Quads with nodes of type [${r.predicate.termType}] as their Predicate node.`);const a=null!==(n=e[r.predicate.value])&&void 0!==n?n:{},s=null!==(i=a.blankNodes)&&void 0!==i?i:[];return(0,o.freeze)(Object.assign(Object.assign({},e),{[r.predicate.value]:Object.assign(Object.assign({},a),{blankNodes:[...s,d(r.object,t)]})}))}),a)}function f(e,t,r,n={}){var a;const s=[],l=null!==(a=n.dataFactory)&&void 0!==a?a:i.default;return Object.keys(e).forEach((n=>{var i,a,c,u;const d=l.namedNode(n),h=null!==(i=e[n].langStrings)&&void 0!==i?i:{},g=null!==(a=e[n].namedNodes)&&void 0!==a?a:[],p=null!==(c=e[n].literals)&&void 0!==c?c:{},b=null!==(u=e[n].blankNodes)&&void 0!==u?u:[];Object.keys(p).forEach((e=>{const n=l.namedNode(e);p[e].forEach((e=>{const i=l.literal(e,n);s.push(l.quad(t,d,i,r))}))})),Object.keys(h).forEach((e=>{h[e].forEach((n=>{const i=l.literal(n,e);s.push(l.quad(t,d,i,r))}))})),g.forEach((e=>{const n=l.namedNode(e);s.push(l.quad(t,d,n,r))})),b.forEach((e=>{if((0,o.isBlankNodeId)(e)){const n=l.blankNode((0,o.getBlankNodeValue)(e));s.push(l.quad(t,d,n,r))}else{const n=l.blankNode(),i=l.quad(t,d,n,r),o=f(e,n,r);s.push(i),s.push(...o)}}))})),s}function h(e,t,r=[]){if(void 0!==r.find((t=>t.equals(e))))return r;const n=t.filter((t=>t.subject.equals(e)&&g(t.object))).map((e=>e.object));if(0===n.length)return[];const i=[...r,e],o=n.map((e=>h(e,t,i))),a=[];for(const e of o)a.push(...e);return a}function g(e){return"BlankNode"===e.termType}t.DataFactory=i.default,t.addRdfJsQuadToDataset=function(e,t,r={}){var n;if(!["NamedNode","DefaultGraph"].includes(t.graph.termType))throw new Error(`Cannot parse Quads with nodes of type [${t.graph.termType}] as their Graph node.`);const i="DefaultGraph"===t.graph.termType?"default":t.graph.value,a=null!==(n=e.graphs[i])&&void 0!==n?n:{};return(0,o.freeze)(Object.assign(Object.assign({},e),{graphs:(0,o.freeze)(Object.assign(Object.assign({},e.graphs),{[i]:s(a,t,r)}))}))},t.getChainBlankNodes=function(e){const t=e.map((e=>e.subject)).filter(g),r=e.map((e=>e.object)).filter(g),n=[];return r.forEach((t=>{n.push(...h(t,e))})),t.concat(r).filter((t=>{if(n.some((e=>e.equals(t))))return!1;const r=e.filter((e=>e.object.equals(t))).map((e=>e.subject));return r.length>0&&(i=r).every((e=>i.every((t=>e.equals(t)))));var i}))},t.toRdfJsQuads=function(e,t={}){var r;const n=[],a=null!==(r=t.dataFactory)&&void 0!==r?r:i.default;return Object.keys(e.graphs).forEach((r=>{const i=e.graphs[r],s="default"===r?a.defaultGraph():a.namedNode(r);Object.keys(i).forEach((e=>{const{predicates:r}=i[e],l=(0,o.isBlankNodeId)(e)?a.blankNode((0,o.getBlankNodeValue)(e)):a.namedNode(e);n.push(...f(r,l,s,t))}))})),n},t.subjectToRdfJsQuads=f},4721:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toRdfJsDataset=t.fromRdfJsDataset=void 0;const i=n(r(6521)),o=r(7089),a=i.default.dataset;t.fromRdfJsDataset=function(e){const t=Array.from(e),r=(0,o.getChainBlankNodes)(t);return t.filter((e=>r.every((t=>!t.equals(e.subject))))).reduce(((e,n)=>(0,o.addRdfJsQuadToDataset)(e,n,{otherQuads:t,chainBlankNodes:r})),{graphs:{default:{}},type:"Dataset"})},t.toRdfJsDataset=function(e,t={}){var r,n;return(null!==(n=null===(r=t.datasetFactory)||void 0===r?void 0:r.dataset)&&void 0!==n?n:a)((0,o.toRdfJsQuads)(e,t))}},2146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenHeaders=t.overwriteFile=t.saveFileInContainer=t.deleteFile=t.getFile=void 0;const n=r(9473),i=r(6397),o=r(5475),a=r(9009),s=r(5443),l={fetch:n.fetch},c=["Slug","If-None-Match","Content-Type"];function u(e){if(void 0===e)return{};let t={};var r;return r=e,Array.isArray(r)?e.forEach((([e,r])=>{t[e]=r})):function(e){return"function"==typeof e.forEach}(e)?e.forEach(((e,r)=>{t[r]=e})):t=e,t}async function d(e,t,r,n){var i,a;const s=Object.assign(Object.assign({},l),n),d=u(null!==(a=null===(i=s.init)||void 0===i?void 0:i.headers)&&void 0!==a?a:{});if(h=d,c.some((e=>void 0!==h[e])))throw new Error(`No reserved header (${c.join(", ")}) should be set in the optional RequestInit.`);var h;void 0!==s.slug&&(d.Slug=s.slug),d["Content-Type"]=f(t,n.contentType);const g=(0,o.internal_toIriString)(e);return s.fetch(g,Object.assign(Object.assign({},s.init),{headers:d,method:r,body:t}))}function f(e,t){if("string"==typeof t)return t;const r="object"==typeof e&&null!==e&&"string"==typeof e.type&&e.type.length>0?e.type:void 0;return null!=r?r:"application/octet-stream"}t.getFile=async function(e,t=l){const r=Object.assign(Object.assign({},l),t),n=(0,o.internal_toIriString)(e),i=await r.fetch(n,r.init);if((0,s.internal_isUnsuccessfulResponse)(i))throw new a.FetchError(`Fetching the File failed: [${i.status}] [${i.statusText}].`,i);const c=(0,s.internal_parseResourceInfo)(i),u=await i.blob();return Object.assign(u,{internal_resourceInfo:c})},t.deleteFile=async function(e,t=l){const r=Object.assign(Object.assign({},l),t),n=(0,i.hasResourceInfo)(e)?(0,o.internal_toIriString)((0,a.getSourceIri)(e)):(0,o.internal_toIriString)(e),c=await r.fetch(n,Object.assign(Object.assign({},r.init),{method:"DELETE"}));if((0,s.internal_isUnsuccessfulResponse)(c))throw new a.FetchError(`Deleting the file at [${n}] failed: [${c.status}] [${c.statusText}].`,c)},t.saveFileInContainer=async function(e,t,r=l){const n=(0,o.internal_toIriString)(e),i=await d(n,t,"POST",r);if((0,s.internal_isUnsuccessfulResponse)(i))throw new a.FetchError(`Saving the file in [${e}] failed: [${i.status}] [${i.statusText}].`,i);const c=i.headers.get("Location");if(null===c)throw new Error("Could not determine the location of the newly saved file.");const u=new URL(c,new URL(n).origin).href,h=(0,s.internal_cloneResource)(t),g={internal_resourceInfo:{isRawData:!0,sourceIri:u,contentType:f(t,r.contentType)}};return Object.assign(h,g)},t.overwriteFile=async function(e,t,r=l){const n=(0,o.internal_toIriString)(e),i=await d(n,t,"PUT",r);if((0,s.internal_isUnsuccessfulResponse)(i))throw new a.FetchError(`Overwriting the file at [${n}] failed: [${i.status}] [${i.statusText}].`,i);const c=(0,s.internal_cloneResource)(t),u=(0,s.internal_parseResourceInfo)(i);return u.sourceIri=n,u.isRawData=!0,Object.assign(c,{internal_resourceInfo:u})},t.flattenHeaders=u},9251:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeServerSideIri=void 0,t.normalizeServerSideIri=function(e){const t=new URL(e);return t.hash="",t.href}},2047:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.mockFetchError=t.mockFileFrom=t.mockContainerFrom=t.mockSolidDatasetFrom=void 0;const a=o(r(4098)),s=r(5475),l=r(3995),c=r(9009),{Response:u}=a;function d(e){const t=(0,l.createSolidDataset)();return Object.assign(Object.assign({},t),{internal_resourceInfo:{sourceIri:(0,s.internal_toIriString)(e),isRawData:!1,contentType:"text/turtle",linkedResources:{}}})}t.mockSolidDatasetFrom=d,t.mockContainerFrom=function(e){const t=(0,s.internal_toIriString)(e);if(!t.endsWith("/"))throw new Error("A Container's URL should end in a slash. Please update your tests.");return d(t)},t.mockFileFrom=function(e,t){const r=new Blob;return Object.assign(r,{internal_resourceInfo:{sourceIri:(0,s.internal_toIriString)(e),isRawData:!0,contentType:null==t?void 0:t.contentType,linkedResources:{}}})},t.mockFetchError=function(e,t=404){const r=new u(void 0,{status:t});return new c.FetchError(`Fetching the Resource at [${e}] failed: [${r.status}] [${r.statusText}].`,r)}},5443:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.internal_isAuthenticationFailureResponse=t.internal_isUnsuccessfulResponse=t.internal_cloneResource=t.internal_parseResourceInfo=void 0;const i=n(r(2475));t.internal_parseResourceInfo=function(e){var t,r,n,o,a;const s=null!==(r=null===(t=e.headers.get("Content-Type"))||void 0===t?void 0:t.split(";"))&&void 0!==r?r:[],l=s.length>0&&["text/turtle","application/ld+json"].includes(s[0]),c={sourceIri:e.url,isRawData:!l,contentLocation:null!==(n=e.headers.get("Content-Location"))&&void 0!==n?n:void 0,contentType:null!==(o=e.headers.get("Content-Type"))&&void 0!==o?o:void 0,linkedResources:{},location:null!==(a=e.headers.get("Location"))&&void 0!==a?a:void 0},u=e.headers.get("Link");if(u){const e=i.default.parse(u),t=e.get("rel","acl");1===t.length&&(c.aclUrl=new URL(t[0].uri,c.sourceIri).href),c.linkedResources=e.refs.reduce(((e,t)=>{var r,n;return null!==(r=e[n=t.rel])&&void 0!==r||(e[n]=[]),e[t.rel].push(new URL(t.uri,c.sourceIri).href),e}),c.linkedResources)}const d=e.headers.get("WAC-Allow");return d&&(c.permissions=function(e){function t(e){const t=e.split(" ");return t.includes("write")?{read:t.includes("read"),append:!0,write:!0,control:t.includes("control")}:{read:t.includes("read"),append:t.includes("append"),write:!1,control:t.includes("control")}}function r(e,t){const r=e.split(",").map((e=>e.split("="))).filter((e=>2===e.length&&e[0].trim()===t));if(1!==r.length)return"";const n=r[0][1].trim();return'"'!==n.charAt(0)||'"'!==n.charAt(n.length-1)?"":n.substring(1,n.length-1)}return{user:t(r(e,"user")),public:t(r(e,"public"))}}(d)),c},t.internal_cloneResource=function(e){let t;return t="function"==typeof e.slice?Object.assign(e.slice(),Object.assign({},e)):Object.assign({},e),t},t.internal_isUnsuccessfulResponse=function(e){return!e.ok},t.internal_isAuthenticationFailureResponse=function(e){return 401===e.status||403===e.status}},9009:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchError=t.getEffectiveAccess=t.getLinkedResourceUrlAll=t.isPodOwner=t.getPodOwner=t.getSourceIri=t.getSourceUrl=t.getContentType=t.isRawData=t.isContainer=t.responseToResourceInfo=t.getResourceInfo=t.internal_defaultFetchOptions=void 0;const n=r(6397),i=r(5475),o=r(9473),a=r(5443),s=r(7955);function l(e,t={ignoreAuthenticationErrors:!1}){if((0,a.internal_isUnsuccessfulResponse)(e)&&(!(0,a.internal_isAuthenticationFailureResponse)(e)||!t.ignoreAuthenticationErrors))throw new f(`Fetching the metadata of the Resource at [${e.url}] failed: [${e.status}] [${e.statusText}].`,e);return{internal_resourceInfo:(0,a.internal_parseResourceInfo)(e)}}function c(e){return(0,n.hasResourceInfo)(e)?e.internal_resourceInfo.sourceIri:null}function u(e){var t;if(!(0,n.hasServerResourceInfo)(e))return null;const r=null!==(t=d(e)["http://www.w3.org/ns/solid/terms#podOwner"])&&void 0!==t?t:[];return 1===r.length?r[0]:null}function d(e){return e.internal_resourceInfo.linkedResources}t.internal_defaultFetchOptions={fetch:o.fetch},t.getResourceInfo=async function(e,r=Object.assign(Object.assign({},t.internal_defaultFetchOptions),{ignoreAuthenticationErrors:!1})){var n;const i=Object.assign(Object.assign({},t.internal_defaultFetchOptions),r);return l(await i.fetch(e,{method:"HEAD"}),{ignoreAuthenticationErrors:null!==(n=r.ignoreAuthenticationErrors)&&void 0!==n&&n})},t.responseToResourceInfo=l,t.isContainer=function(e){return((0,n.hasResourceInfo)(e)?c(e):(0,i.internal_toIriString)(e)).endsWith("/")},t.isRawData=function(e){return e.internal_resourceInfo.isRawData},t.getContentType=function(e){var t;return null!==(t=e.internal_resourceInfo.contentType)&&void 0!==t?t:null},t.getSourceUrl=c,t.getSourceIri=c,t.getPodOwner=u,t.isPodOwner=function(e,t){const r=u(t);return"string"!=typeof r?null:r===e},t.getLinkedResourceUrlAll=d,t.getEffectiveAccess=function(e){var t,r,n,i,o,a,l;if("object"==typeof e.internal_resourceInfo.permissions)return{user:{read:e.internal_resourceInfo.permissions.user.read,append:e.internal_resourceInfo.permissions.user.append,write:e.internal_resourceInfo.permissions.user.write},public:{read:e.internal_resourceInfo.permissions.public.read,append:e.internal_resourceInfo.permissions.public.append,write:e.internal_resourceInfo.permissions.public.write}};const c=d(e);return{user:{read:null!==(r=null===(t=c[s.acp.allow])||void 0===t?void 0:t.includes(s.acp.Read))&&void 0!==r&&r,append:null!==(o=(null===(n=c[s.acp.allow])||void 0===n?void 0:n.includes(s.acp.Append))||(null===(i=c[s.acp.allow])||void 0===i?void 0:i.includes(s.acp.Write)))&&void 0!==o&&o,write:null!==(l=null===(a=c[s.acp.allow])||void 0===a?void 0:a.includes(s.acp.Write))&&void 0!==l&&l}}};class f extends n.SolidClientError{constructor(e,t){super(e),this.response=t}get statusCode(){return this.response.status}get statusText(){return this.response.statusText}}t.FetchError=f},3995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWellKnownSolid=t.changeLogAsMarkdown=t.solidDatasetAsMarkdown=t.getContainedResourceUrlAll=t.deleteContainer=t.createContainerInContainer=t.saveSolidDatasetInContainer=t.createContainerAt=t.deleteSolidDataset=t.saveSolidDatasetAt=t.getSolidDataset=t.responseToSolidDataset=t.createSolidDataset=void 0;const n=r(7089),i=r(7955),o=r(5582),a=r(5047),s=r(2537),l=r(6397),c=r(5475),u=r(9009),d=r(5443),f=r(362),h=r(7362),g=r(1220),p=r(9251),b=r(4990);function y(){return(0,b.freeze)({type:"Dataset",graphs:{default:{}}})}async function m(e,t={}){if((0,d.internal_isUnsuccessfulResponse)(e))throw new u.FetchError(`Fetching the SolidDataset at [${e.url}] failed: [${e.status}] [${e.statusText}].`,e);const r=(0,u.responseToResourceInfo)(e),i=Object.assign({"text/turtle":(0,a.getTurtleParser)()},t.parsers),o=(0,u.getContentType)(r);if(null===o)throw new Error(`Could not determine the content type of the Resource at [${(0,u.getSourceUrl)(r)}].`);const s=o.split(";")[0],l=i[s];if(void 0===l)throw new Error(`The Resource at [${(0,u.getSourceUrl)(r)}] has a MIME type of [${s}], but the only parsers available are for the following MIME types: [${Object.keys(i).join(", ")}].`);const c=await e.text();return new Promise(((e,t)=>{let i=(0,b.freeze)({graphs:(0,b.freeze)({default:(0,b.freeze)({})}),type:"Dataset"});const a=[],s=[];l.onError((e=>{t(new Error(`Encountered an error parsing the Resource at [${(0,u.getSourceUrl)(r)}] with content type [${o}]: ${e}`))})),l.onQuad((e=>{s.push(e),"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType?a.push(e):i=(0,n.addRdfJsQuadToDataset)(i,e)})),l.onComplete((async()=>{const t=a.length<=20?(0,n.getChainBlankNodes)(a):[],o=a.filter((e=>t.every((t=>!t.equals(e.subject)))));i=o.reduce(((e,r)=>(0,n.addRdfJsQuadToDataset)(e,r,{otherQuads:s,chainBlankNodes:t})),i);const l=(0,b.freeze)(Object.assign(Object.assign({},i),r));e(l)})),l.parse(c,r)}))}async function A(e,t=u.internal_defaultFetchOptions){var r;e=(0,c.internal_toIriString)(e);const n=Object.assign(Object.assign({},u.internal_defaultFetchOptions),t),i=Object.keys(null!==(r=t.parsers)&&void 0!==r?r:{}),o=i.length>0?i.join(", "):"text/turtle",a=await n.fetch(e,{headers:{Accept:o}});if((0,d.internal_isUnsuccessfulResponse)(a))throw new u.FetchError(`Fetching the Resource at [${e}] failed: [${a.status}] [${a.statusText}].`,a);return await m(a,t)}function v(e,t){return(0,l.hasChangelog)(e)&&(0,l.hasResourceInfo)(e)&&"string"==typeof e.internal_resourceInfo.sourceIri&&(r=e,n=t,(0,p.normalizeServerSideIri)(r.internal_resourceInfo.sourceIri)===(0,p.normalizeServerSideIri)(n));var r,n}function _(e){let t="";(0,l.hasResourceInfo)(e)?t+=`# SolidDataset: ${(0,u.getSourceUrl)(e)}\n`:t+="# SolidDataset (no URL yet)\n";const r=(0,f.getThingAll)(e);return 0===r.length?t+="\n<empty>\n":r.forEach((r=>{t+=`\n${(0,f.thingAsMarkdown)(r)}`,(0,l.hasChangelog)(e)&&(t+=`\n${function(e,t){const r=n.DataFactory.namedNode(t.url),i=e.internal_changeLog.additions.reduce(((e,t)=>t.subject.equals(r)?e+1:e),0),o=e.internal_changeLog.deletions.reduce(((e,t)=>t.subject.equals(r)?e+1:e),0);return`(${1===i?"1 new value added":`${i} new values added`} / ${1===o?"1 value removed":`${o} values removed`})`}(e,r)}\n`)})),t}function w(e){if(!(0,l.hasResourceInfo)(e))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!(0,l.hasChangelog)(e)||0===e.internal_changeLog.additions.length&&0===e.internal_changeLog.deletions.length)return`## Changes compared to ${(0,u.getSourceUrl)(e)}\n\nThis SolidDataset has not been modified since it was fetched from ${(0,u.getSourceUrl)(e)}.\n`;let t=`## Changes compared to ${(0,u.getSourceUrl)(e)}\n`;const r=function(e){const t={};return e.internal_changeLog.deletions.forEach((r=>{var n,i,o;const a=(0,s.isLocalNode)(r.subject)?(0,s.resolveIriForLocalNode)(r.subject,(0,u.getSourceUrl)(e)):r.subject;if(!(0,s.isNamedNode)(a)||!(0,s.isNamedNode)(r.predicate))return;const l=(0,c.internal_toIriString)(a),d=(0,c.internal_toIriString)(r.predicate);null!==(n=t[l])&&void 0!==n||(t[l]={}),null!==(i=(o=t[l])[d])&&void 0!==i||(o[d]={added:[],deleted:[]}),t[l][d].deleted.push(r.object)})),e.internal_changeLog.additions.forEach((r=>{var n,i,o;const a=(0,s.isLocalNode)(r.subject)?(0,s.resolveIriForLocalNode)(r.subject,(0,u.getSourceUrl)(e)):r.subject;if(!(0,s.isNamedNode)(a)||!(0,s.isNamedNode)(r.predicate))return;const l=(0,c.internal_toIriString)(a),d=(0,c.internal_toIriString)(r.predicate);null!==(n=t[l])&&void 0!==n||(t[l]={}),null!==(i=(o=t[l])[d])&&void 0!==i||(o[d]={added:[],deleted:[]}),t[l][d].added.push(r.object)})),t}(e);return Object.keys(r).forEach((e=>{t+=`\n### Thing: ${e}\n`;const n=r[e];Object.keys(n).forEach((e=>{t+=`\nProperty: ${e}\n`;const{deleted:r}=n[e],{added:i}=n[e];r.length>0&&(t+="- Removed:\n",t+=r.reduce(((e,t)=>`${e}  - ${(0,h.internal_getReadableValue)(t)}\n`),"")),i.length>0&&(t+="- Added:\n",t+=i.reduce(((e,t)=>`${e}  - ${(0,h.internal_getReadableValue)(t)}\n`),""))}))})),t}function P(e){const t=(0,s.isNamedNode)(e.subject)?O(e.subject):e.subject,r=(0,s.isNamedNode)(e.object)?O(e.object):e.object;return n.DataFactory.quad(t,e.predicate,r,e.graph)}function O(e){return(0,b.isLocalNodeIri)(e.value)?n.DataFactory.namedNode(`#${(0,b.getLocalNodeName)(e.value)}`):e}function j(e){const t=(0,u.getSourceUrl)(e),r=e.graphs.default,n=Object.keys(r).reduce(((e,r)=>{const n=function(e,t){const r=Object.keys(e.predicates).reduce(((e,r)=>{var n;const i=null!==(n=e[r].namedNodes)&&void 0!==n?n:[];if(i.every((e=>!(0,b.isLocalNodeIri)(e))))return e;const o=(0,b.freeze)(i.map((e=>(0,b.isLocalNodeIri)(e)?`${t}#${(0,b.getLocalNodeName)(e)}`:e))),a=(0,b.freeze)(Object.assign(Object.assign({},e[r]),{namedNodes:o}));return(0,b.freeze)(Object.assign(Object.assign({},e),{[r]:a}))}),e.predicates);return(0,b.freeze)(Object.assign(Object.assign({},e),{predicates:r,url:(0,b.isLocalNodeIri)(e.url)?`${t}#${(0,b.getLocalNodeName)(e.url)}`:e.url}))}(e[r],t),i=(0,b.isLocalNodeIri)(r)?`${t}#${(0,b.getLocalNodeName)(r)}`:r,o=Object.assign({},e);return delete o[r],o[i]=n,(0,b.freeze)(o)}),r),i=(0,b.freeze)(Object.assign(Object.assign({},e.graphs),{default:n}));return(0,b.freeze)(Object.assign(Object.assign({},e),{graphs:i}))}t.createSolidDataset=y,t.responseToSolidDataset=m,t.getSolidDataset=A,t.saveSolidDatasetAt=async function(e,t,r=u.internal_defaultFetchOptions){e=(0,c.internal_toIriString)(e);const o=Object.assign(Object.assign({},u.internal_defaultFetchOptions),r),s=(0,h.internal_withChangeLog)(t),l=v(s,e)?await async function(e){return{method:"PATCH",body:`${e.internal_changeLog.deletions.length>0?`DELETE DATA {${(await(0,a.triplesToTurtle)(e.internal_changeLog.deletions.map(P))).trim()}};`:""} ${e.internal_changeLog.additions.length>0?`INSERT DATA {${(await(0,a.triplesToTurtle)(e.internal_changeLog.additions.map(P))).trim()}};`:""}`,headers:{"Content-Type":"application/sparql-update"}}}(s):await async function(e){return{method:"PUT",body:await(0,a.triplesToTurtle)((0,n.toRdfJsQuads)(e).map(P)),headers:{"Content-Type":"text/turtle","If-None-Match":"*",Link:`<${i.ldp.Resource}>; rel="type"`}}}(s),f=await o.fetch(e,l);if((0,d.internal_isUnsuccessfulResponse)(f)){const t=v(s,e)?`The changes that were sent to the Pod are listed below.\n\n${w(s)}`:`The SolidDataset that was sent to the Pod is listed below.\n\n${_(s)}`;throw new u.FetchError(`Storing the Resource at [${e}] failed: [${f.status}] [${f.statusText}].\n\n${t}`,f)}const g=Object.assign(Object.assign({},(0,d.internal_parseResourceInfo)(f)),{isRawData:!1});return j((0,b.freeze)(Object.assign(Object.assign({},t),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:g})))},t.deleteSolidDataset=async function(e,t=u.internal_defaultFetchOptions){const r=Object.assign(Object.assign({},u.internal_defaultFetchOptions),t),n=(0,l.hasResourceInfo)(e)?(0,c.internal_toIriString)((0,u.getSourceUrl)(e)):(0,c.internal_toIriString)(e),i=await r.fetch(n,{method:"DELETE"});if((0,d.internal_isUnsuccessfulResponse)(i))throw new u.FetchError(`Deleting the SolidDataset at [${n}] failed: [${i.status}] [${i.statusText}].`,i)},t.createContainerAt=async function(e,t=u.internal_defaultFetchOptions){var r;e=(e=(0,c.internal_toIriString)(e)).endsWith("/")?e:`${e}/`;const o=Object.assign(Object.assign({},u.internal_defaultFetchOptions),t),s=await o.fetch(e,{method:"PUT",body:o.initialContent?await(0,a.triplesToTurtle)((0,n.toRdfJsQuads)(o.initialContent).map(P)):void 0,headers:{Accept:"text/turtle","Content-Type":"text/turtle","If-None-Match":"*",Link:`<${i.ldp.BasicContainer}>; rel="type"`}});if((0,d.internal_isUnsuccessfulResponse)(s)){const t=void 0===o.initialContent?"empty":"non-empty";throw new u.FetchError(`Creating the ${t} Container at [${e}] failed: [${s.status}] [${s.statusText}].`,s)}const l=(0,d.internal_parseResourceInfo)(s);return(0,b.freeze)(Object.assign(Object.assign({},null!==(r=t.initialContent)&&void 0!==r?r:y()),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:l}))},t.saveSolidDatasetInContainer=async function(e,t,r=u.internal_defaultFetchOptions){const o=Object.assign(Object.assign({},u.internal_defaultFetchOptions),r);e=(0,c.internal_toIriString)(e);const s=await(0,a.triplesToTurtle)((0,n.toRdfJsQuads)(t).map(P)),l={"Content-Type":"text/turtle",Link:`<${i.ldp.Resource}>; rel="type"`};r.slugSuggestion&&(l.slug=r.slugSuggestion);const f=await o.fetch(e,{method:"POST",body:s,headers:l});if((0,d.internal_isUnsuccessfulResponse)(f))throw new u.FetchError(`Storing the Resource in the Container at [${e}] failed: [${f.status}] [${f.statusText}].\n\nThe SolidDataset that was sent to the Pod is listed below.\n\n${_(t)}`,f);const h=(0,d.internal_parseResourceInfo)(f);if(!h.location)throw new Error("Could not determine the location of the newly saved SolidDataset.");let g;try{g=new URL(h.location).href}catch(e){g=new URL(h.location,f.url).href}const p={internal_resourceInfo:{isRawData:!1,sourceIri:g}};return j((0,b.freeze)(Object.assign(Object.assign({},t),p)))},t.createContainerInContainer=async function(e,t=u.internal_defaultFetchOptions){e=(0,c.internal_toIriString)(e);const r=Object.assign(Object.assign({},u.internal_defaultFetchOptions),t),n={"Content-Type":"text/turtle",Link:`<${i.ldp.BasicContainer}>; rel="type"`};t.slugSuggestion&&(n.slug=t.slugSuggestion);const o=await r.fetch(e,{method:"POST",headers:n});if((0,d.internal_isUnsuccessfulResponse)(o))throw new u.FetchError(`Creating an empty Container in the Container at [${e}] failed: [${o.status}] [${o.statusText}].`,o);const a=(0,d.internal_parseResourceInfo)(o);if(!a.location)throw new Error("Could not determine the location of the newly created Container.");try{const e=new URL(a.location).toString();return(0,b.freeze)(Object.assign(Object.assign({},y()),{internal_resourceInfo:Object.assign(Object.assign({},a),{sourceIri:e})}))}catch(e){}return(0,b.freeze)(Object.assign(Object.assign({},y()),{internal_resourceInfo:Object.assign(Object.assign({},a),{sourceIri:new URL(a.location,o.url).href})}))},t.deleteContainer=async function(e,t=u.internal_defaultFetchOptions){const r=(0,l.hasResourceInfo)(e)?(0,c.internal_toIriString)((0,u.getSourceUrl)(e)):(0,c.internal_toIriString)(e);if(!(0,u.isContainer)(e))throw new Error(`You're trying to delete the Container at [${r}], but Container URLs should end in a \`/\`. Are you sure this is a Container?`);const n=Object.assign(Object.assign({},u.internal_defaultFetchOptions),t),i=await n.fetch(r,{method:"DELETE"});if((0,d.internal_isUnsuccessfulResponse)(i))throw new u.FetchError(`Deleting the Container at [${r}] failed: [${i.status}] [${i.statusText}].`,i)},t.getContainedResourceUrlAll=function(e){const t=(0,f.getThing)(e,(0,u.getSourceUrl)(e));return null!==t?(0,g.getIriAll)(t,i.ldp.contains):[]},t.solidDatasetAsMarkdown=_,t.changeLogAsMarkdown=w,t.getWellKnownSolid=async function(e,t=u.internal_defaultFetchOptions){const r=(0,c.internal_toIriString)(e);try{const e=new URL("/.well-known/solid",new URL(r).origin).href;return await A(e,{fetch:t.fetch})}catch(e){}const n=await(0,u.getResourceInfo)(r,{fetch:t.fetch,ignoreAuthenticationErrors:!0}),a=(0,u.getLinkedResourceUrlAll)(n)[i.pim.storage],s=1===(null==a?void 0:a.length)?a[0]:null;if(null!==s)return A(new URL(".well-known/solid",s.endsWith("/")?s:`${s}/`).href,Object.assign(Object.assign({},t),{parsers:{"application/ld+json":(0,o.getJsonLdParser)()}}));throw new Error("Could not determine storage root or well-known solid resource.")}},6796:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTerm=t.addLiteral=t.addNamedNode=t.addStringNoLocale=t.addStringWithLocale=t.addStringEnglish=t.addInteger=t.addDecimal=t.addTime=t.addDate=t.addDatetime=t.addBoolean=t.addIri=t.addUrl=void 0;const n=r(7362),i=r(2537),o=r(362),a=r(5475),s=r(4990);function l(e,t,r,l){var c,u,d;if((0,n.internal_throwIfNotThing)(e),!(0,i.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const f=(0,a.internal_toIriString)(t),h=(0,i.normalizeLocale)(l),g=null!==(c=e.predicates[f])&&void 0!==c?c:{},p=null!==(u=g.langStrings)&&void 0!==u?u:{},b=null!==(d=p[h])&&void 0!==d?d:[],y=(0,s.freeze)(b.concat(r)),m=(0,s.freeze)(Object.assign(Object.assign({},p),{[h]:y})),A=(0,s.freeze)(Object.assign(Object.assign({},g),{langStrings:m})),v=(0,s.freeze)(Object.assign(Object.assign({},e.predicates),{[f]:A}));return(0,s.freeze)(Object.assign(Object.assign({},e),{predicates:v}))}function c(e,r,n){return(0,t.addUrl)(e,r,n.value)}function u(e,t,r){if((0,n.internal_throwIfNotThing)(e),!(0,i.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);return r.datatype.value===i.xmlSchemaTypes.langString?l(e,t,r.value,r.language):d(e,t,r.value,r.datatype.value)}function d(e,t,r,l){var c,u,d;if((0,n.internal_throwIfNotThing)(e),!(0,i.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const f=(0,a.internal_toIriString)(t),h=null!==(c=e.predicates[f])&&void 0!==c?c:{},g=null!==(u=h.literals)&&void 0!==u?u:{},p=null!==(d=g[l])&&void 0!==d?d:[],b=(0,s.freeze)(p.concat(r)),y=(0,s.freeze)(Object.assign(Object.assign({},g),{[l]:b})),m=(0,s.freeze)(Object.assign(Object.assign({},h),{literals:y})),A=(0,s.freeze)(Object.assign(Object.assign({},e.predicates),{[f]:m}));return(0,s.freeze)(Object.assign(Object.assign({},e),{predicates:A}))}t.addUrl=(e,t,r)=>{var l,c;if((0,n.internal_throwIfNotThing)(e),!(0,i.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);if(!(0,o.isThing)(r)&&!(0,i.internal_isValidUrl)(r))throw new o.ValidValueUrlExpectedError(r);const u=(0,a.internal_toIriString)(t),d=null!==(l=e.predicates[u])&&void 0!==l?l:{},f=null!==(c=d.namedNodes)&&void 0!==c?c:[];let h;h=(0,i.isNamedNode)(r)?r.value:"string"==typeof r?r:(0,o.isThingLocal)(r)?r.url:(0,o.asIri)(r);const g=(0,s.freeze)(f.concat((0,a.internal_toIriString)(h))),p=(0,s.freeze)(Object.assign(Object.assign({},d),{namedNodes:g})),b=(0,s.freeze)(Object.assign(Object.assign({},e.predicates),{[u]:p}));return(0,s.freeze)(Object.assign(Object.assign({},e),{predicates:b}))},t.addIri=t.addUrl,t.addBoolean=(e,t,r)=>((0,n.internal_throwIfNotThing)(e),d(e,t,(0,i.serializeBoolean)(r),i.xmlSchemaTypes.boolean)),t.addDatetime=(e,t,r)=>((0,n.internal_throwIfNotThing)(e),d(e,t,(0,i.serializeDatetime)(r),i.xmlSchemaTypes.dateTime)),t.addDate=(e,t,r)=>((0,n.internal_throwIfNotThing)(e),d(e,t,(0,i.serializeDate)(r),i.xmlSchemaTypes.date)),t.addTime=(e,t,r)=>((0,n.internal_throwIfNotThing)(e),d(e,t,(0,i.serializeTime)(r),i.xmlSchemaTypes.time)),t.addDecimal=(e,t,r)=>((0,n.internal_throwIfNotThing)(e),d(e,t,(0,i.serializeDecimal)(r),i.xmlSchemaTypes.decimal)),t.addInteger=(e,t,r)=>((0,n.internal_throwIfNotThing)(e),d(e,t,(0,i.serializeInteger)(r),i.xmlSchemaTypes.integer)),t.addStringEnglish=function(e,t,r){return l(e,t,r,"en")},t.addStringWithLocale=l,t.addStringNoLocale=(e,t,r)=>((0,n.internal_throwIfNotThing)(e),d(e,t,r,i.xmlSchemaTypes.string)),t.addNamedNode=c,t.addLiteral=u,t.addTerm=function(e,t,r){var l,d;if("NamedNode"===r.termType)return c(e,t,r);if("Literal"===r.termType)return u(e,t,r);if("BlankNode"===r.termType){if((0,n.internal_throwIfNotThing)(e),!(0,i.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const c=(0,a.internal_toIriString)(t),u=null!==(l=e.predicates[c])&&void 0!==l?l:{},f=null!==(d=u.blankNodes)&&void 0!==d?d:[],h=(0,s.freeze)(f.concat((0,s.getBlankNodeId)(r))),g=(0,s.freeze)(Object.assign(Object.assign({},u),{blankNodes:h})),p=(0,s.freeze)(Object.assign(Object.assign({},e.predicates),{[c]:g}));return(0,s.freeze)(Object.assign(Object.assign({},e),{predicates:p}))}throw new Error(`Term type [${r.termType}] is not supported by @inrupt/solid-client.`)}},7673:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildThing=void 0;const n=r(6796),i=r(5205),o=r(7103),a=r(362);t.buildThing=function e(t=(0,a.createThing)()){let r=(0,a.isThing)(t)?t:(0,a.createThing)(t);function s(e){return(t,n)=>(r=e(r,t,n),u)}function l(e){return(t,n)=>(r=e(r,t,n),u)}function c(e){return(t,n)=>(r=e(r,t,n),u)}const u={build:()=>r,addUrl:s(n.addUrl),addIri:s(n.addIri),addBoolean:s(n.addBoolean),addDatetime:s(n.addDatetime),addDate:s(n.addDate),addTime:s(n.addTime),addDecimal:s(n.addDecimal),addInteger:s(n.addInteger),addStringNoLocale:s(n.addStringNoLocale),addStringEnglish:(e,t)=>(r=(0,n.addStringWithLocale)(r,e,t,"en"),u),addStringWithLocale:(e,t,i)=>(r=(0,n.addStringWithLocale)(r,e,t,i),u),addNamedNode:s(n.addNamedNode),addLiteral:s(n.addLiteral),addTerm:s(n.addTerm),setUrl:l(o.setUrl),setIri:l(o.setIri),setBoolean:l(o.setBoolean),setDatetime:l(o.setDatetime),setDate:l(o.setDate),setTime:l(o.setTime),setDecimal:l(o.setDecimal),setInteger:l(o.setInteger),setStringNoLocale:l(o.setStringNoLocale),setStringEnglish:(e,t)=>(r=(0,o.setStringWithLocale)(r,e,t,"en"),u),setStringWithLocale:(e,t,n)=>(r=(0,o.setStringWithLocale)(r,e,t,n),u),setNamedNode:l(o.setNamedNode),setLiteral:l(o.setLiteral),setTerm:l(o.setTerm),removeAll:e=>(r=(0,i.removeAll)(r,e),u),removeUrl:c(i.removeUrl),removeIri:c(i.removeIri),removeBoolean:c(i.removeBoolean),removeDatetime:c(i.removeDatetime),removeDate:c(i.removeDate),removeTime:c(i.removeTime),removeDecimal:c(i.removeDecimal),removeInteger:c(i.removeInteger),removeStringNoLocale:c(i.removeStringNoLocale),removeStringEnglish:(t,n)=>e((0,i.removeStringWithLocale)(r,t,n,"en")),removeStringWithLocale:(t,n,o)=>e((0,i.removeStringWithLocale)(r,t,n,o)),removeNamedNode:c(i.removeNamedNode),removeLiteral:c(i.removeLiteral)};return u}},1220:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTermAll=t.getTerm=t.getLiteralAll=t.getLiteral=t.getNamedNodeAll=t.getNamedNode=t.getStringNoLocaleAll=t.getStringNoLocale=t.getStringByLocaleAll=t.getStringWithLocaleAll=t.getStringEnglishAll=t.getStringWithLocale=t.getStringEnglish=t.getIntegerAll=t.getInteger=t.getDecimalAll=t.getDecimal=t.getTimeAll=t.getTime=t.getDateAll=t.getDate=t.getDatetimeAll=t.getDatetime=t.getBooleanAll=t.getBoolean=t.getIriAll=t.getUrlAll=t.getIri=t.getUrl=t.getPropertyAll=void 0;const n=r(2537),i=r(7362),o=r(362),a=r(5475),s=r(4990),l=r(7089);function c(e,t){var r,l,c;if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const u=(0,a.internal_toIriString)(t),d=null!==(c=null===(l=null===(r=e.predicates[u])||void 0===r?void 0:r.namedNodes)||void 0===l?void 0:l[0])&&void 0!==c?c:null;return null===d?null:(0,s.isLocalNodeIri)(d)?`#${(0,s.getLocalNodeName)(d)}`:d}function u(e,t){var r,l,c;if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const u=(0,a.internal_toIriString)(t);return null!==(c=null===(l=null===(r=e.predicates[u])||void 0===r?void 0:r.namedNodes)||void 0===l?void 0:l.map((e=>(0,s.isLocalNodeIri)(e)?`#${(0,s.getLocalNodeName)(e)}`:e)))&&void 0!==c?c:[]}function d(e,t,r){var s,l;if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const c=(0,a.internal_toIriString)(t),u=null!==(l=null===(s=e.predicates[c])||void 0===s?void 0:s.langStrings)&&void 0!==l?l:{},d=Object.keys(u).find((e=>e.toLowerCase()===r.toLowerCase()&&Array.isArray(u[e])&&u[e].length>0));return"string"==typeof d?u[d][0]:null}function f(e,t,r){var s,l;if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const c=(0,a.internal_toIriString)(t),u=null!==(l=null===(s=e.predicates[c])||void 0===s?void 0:s.langStrings)&&void 0!==l?l:{},d=Object.keys(u).find((e=>e.toLowerCase()===r.toLowerCase()&&Array.isArray(u[e])&&u[e].length>0));return"string"==typeof d?[...u[d]]:[]}function h(e,r){const n=(0,t.getIri)(e,r);return null===n?null:l.DataFactory.namedNode(n)}function g(e,r){return(0,t.getIriAll)(e,r).map((e=>l.DataFactory.namedNode(e)))}function p(e,t){var r,s,c,u;if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const d=(0,a.internal_toIriString)(t),f=null!==(s=null===(r=e.predicates[d])||void 0===r?void 0:r.langStrings)&&void 0!==s?s:{},h=Object.keys(f);if(h.length>0){const e=h.find((e=>Array.isArray(f[e])&&f[e].length>0));if("string"==typeof e)return l.DataFactory.literal(f[e][0],e)}const g=null!==(u=null===(c=e.predicates[d])||void 0===c?void 0:c.literals)&&void 0!==u?u:{},p=Object.keys(g);if(p.length>0){const e=p.find((e=>Array.isArray(g[e])&&g[e].length>0));if("string"==typeof e)return l.DataFactory.literal(g[e][0],l.DataFactory.namedNode(e))}return null}function b(e,t){var r,s,c,u;if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const d=(0,a.internal_toIriString)(t);let f=[];const h=null!==(s=null===(r=e.predicates[d])||void 0===r?void 0:r.langStrings)&&void 0!==s?s:{},g=Object.keys(h);for(const e of g){const t=h[e].map((t=>l.DataFactory.literal(t,e)));f=f.concat(t)}const p=null!==(u=null===(c=e.predicates[d])||void 0===c?void 0:c.literals)&&void 0!==u?u:{},b=Object.keys(p);for(const e of b){const t=p[e],r=l.DataFactory.namedNode(e),n=t.map((e=>l.DataFactory.literal(e,r)));f=f.concat(n)}return f}function y(e,t){var r,n;(0,i.internal_throwIfNotThing)(e);const o=h(e,t);if(null!==o)return o;const c=p(e,t);if(null!==c)return c;const u=(0,a.internal_toIriString)(t),d=null!==(n=null===(r=e.predicates[u])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[];if(d.length>0){const e=(0,s.isBlankNodeId)(d[0])?(0,s.getBlankNodeValue)(d[0]):void 0;return l.DataFactory.blankNode(e)}return null}function m(e,t,r){var i,s,l,c;if(!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const u=(0,a.internal_toIriString)(t);return null!==(c=null===(l=null===(s=null===(i=e.predicates[u])||void 0===i?void 0:i.literals)||void 0===s?void 0:s[r])||void 0===l?void 0:l[0])&&void 0!==c?c:null}function A(e,t,r){var i,s,l;if(!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const c=(0,a.internal_toIriString)(t);return[...null!==(l=null===(s=null===(i=e.predicates[c])||void 0===i?void 0:i.literals)||void 0===s?void 0:s[r])&&void 0!==l?l:[]]}t.getPropertyAll=function(e){return Object.keys(e.predicates).filter((t=>null!==y(e,t)))},t.getUrl=c,t.getIri=c,t.getUrlAll=u,t.getIriAll=u,t.getBoolean=function(e,t){(0,i.internal_throwIfNotThing)(e);const r=m(e,t,n.xmlSchemaTypes.boolean);return null===r?null:(0,n.deserializeBoolean)(r)},t.getBooleanAll=function(e,t){return(0,i.internal_throwIfNotThing)(e),A(e,t,n.xmlSchemaTypes.boolean).map(n.deserializeBoolean).filter((e=>null!==e))},t.getDatetime=function(e,t){(0,i.internal_throwIfNotThing)(e);const r=m(e,t,n.xmlSchemaTypes.dateTime);return null===r?null:(0,n.deserializeDatetime)(r)},t.getDatetimeAll=function(e,t){return(0,i.internal_throwIfNotThing)(e),A(e,t,n.xmlSchemaTypes.dateTime).map(n.deserializeDatetime).filter((e=>null!==e))},t.getDate=function(e,t){(0,i.internal_throwIfNotThing)(e);const r=m(e,t,n.xmlSchemaTypes.date);return null===r?null:(0,n.deserializeDate)(r)},t.getDateAll=function(e,t){return(0,i.internal_throwIfNotThing)(e),A(e,t,n.xmlSchemaTypes.date).map(n.deserializeDate).filter((e=>null!==e))},t.getTime=function(e,t){(0,i.internal_throwIfNotThing)(e);const r=m(e,t,n.xmlSchemaTypes.time);return null===r?null:(0,n.deserializeTime)(r)},t.getTimeAll=function(e,t){return(0,i.internal_throwIfNotThing)(e),A(e,t,n.xmlSchemaTypes.time).map(n.deserializeTime).filter((e=>null!==e))},t.getDecimal=function(e,t){(0,i.internal_throwIfNotThing)(e);const r=m(e,t,n.xmlSchemaTypes.decimal);return null===r?null:(0,n.deserializeDecimal)(r)},t.getDecimalAll=function(e,t){return(0,i.internal_throwIfNotThing)(e),A(e,t,n.xmlSchemaTypes.decimal).map((e=>(0,n.deserializeDecimal)(e))).filter((e=>null!==e))},t.getInteger=function(e,t){(0,i.internal_throwIfNotThing)(e);const r=m(e,t,n.xmlSchemaTypes.integer);return null===r?null:(0,n.deserializeInteger)(r)},t.getIntegerAll=function(e,t){return(0,i.internal_throwIfNotThing)(e),A(e,t,n.xmlSchemaTypes.integer).map((e=>(0,n.deserializeInteger)(e))).filter((e=>null!==e))},t.getStringEnglish=function(e,t){return d(e,t,"en")},t.getStringWithLocale=d,t.getStringEnglishAll=function(e,t){return f(e,t,"en")},t.getStringWithLocaleAll=f,t.getStringByLocaleAll=function(e,t){var r,s;if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const l=(0,a.internal_toIriString)(t),c=null!==(s=null===(r=e.predicates[l])||void 0===r?void 0:r.langStrings)&&void 0!==s?s:{};return new Map(Object.entries(c).map((([e,t])=>[e,[...t]])))},t.getStringNoLocale=function(e,t){return(0,i.internal_throwIfNotThing)(e),m(e,t,n.xmlSchemaTypes.string)},t.getStringNoLocaleAll=function(e,t){return(0,i.internal_throwIfNotThing)(e),A(e,t,n.xmlSchemaTypes.string)},t.getNamedNode=h,t.getNamedNodeAll=g,t.getLiteral=p,t.getLiteralAll=b,t.getTerm=y,t.getTermAll=function(e,t){var r,n;(0,i.internal_throwIfNotThing)(e);const o=g(e,t),c=b(e,t),u=(0,a.internal_toIriString)(t),d=(null!==(n=null===(r=e.predicates[u])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[]).map((e=>{const t=(0,s.isBlankNodeId)(e)?(0,s.getBlankNodeValue)(e):void 0;return l.DataFactory.blankNode(t)}));return o.concat(c).concat(d)}},7682:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mockThingFrom=void 0;const n=r(5475);t.mockThingFrom=function(e){return{type:"Subject",predicates:{},url:(0,n.internal_toIriString)(e)}}},5205:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeLiteral=t.removeNamedNode=t.removeStringNoLocale=t.removeStringWithLocale=t.removeStringEnglish=t.removeInteger=t.removeDecimal=t.removeTime=t.removeDate=t.removeDatetime=t.removeBoolean=t.removeIri=t.removeUrl=t.removeAll=void 0;const n=r(2537),i=r(7362),o=r(362),a=r(5475),s=r(4990);function l(e,t,r,l){var c,u;if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const d=(0,a.internal_toIriString)(t),f=null!==(u=null===(c=e.predicates[d])||void 0===c?void 0:c.langStrings)&&void 0!==u?u:{},h=Object.keys(f).find((e=>(0,n.normalizeLocale)(e)===(0,n.normalizeLocale)(l)&&Array.isArray(f[e])&&f[e].length>0));if("string"!=typeof h)return e;const g=f[h],p=(0,s.freeze)(g.filter((e=>e!==r))),b=(0,s.freeze)(Object.assign(Object.assign({},f),{[h]:p})),y=(0,s.freeze)(Object.assign(Object.assign({},e.predicates[d]),{langStrings:b})),m=(0,s.freeze)(Object.assign(Object.assign({},e.predicates),{[d]:y}));return(0,s.freeze)(Object.assign(Object.assign({},e),{predicates:m}))}function c(e,t,r,i){var l,c,u;if(!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const d=(0,a.internal_toIriString)(t),f=null!==(l=e.predicates[d])&&void 0!==l?l:{},h=null!==(c=f.literals)&&void 0!==c?c:{},g=null!==(u=h[r])&&void 0!==u?u:[],p=(0,s.freeze)(g.filter((e=>!i(e)))),b=(0,s.freeze)(Object.assign(Object.assign({},h),{[r]:p})),y=(0,s.freeze)(Object.assign(Object.assign({},f),{literals:b})),m=(0,s.freeze)(Object.assign(Object.assign({},e.predicates),{[d]:y}));return(0,s.freeze)(Object.assign(Object.assign({},e),{predicates:m}))}t.removeAll=function(e,t){if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const r=(0,a.internal_toIriString)(t),l=Object.assign({},e.predicates);return delete l[r],(0,s.freeze)(Object.assign(Object.assign({},e),{predicates:(0,s.freeze)(l)}))},t.removeUrl=(e,t,r)=>{var l,c,u;if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const d=(0,a.internal_toIriString)(t);if(!(0,o.isThing)(r)&&!(0,n.internal_isValidUrl)(r))throw new o.ValidValueUrlExpectedError(r);const f=(0,o.isThing)(r)?(0,o.asIri)(r):(0,a.internal_toIriString)(r),h=(0,s.freeze)(null!==(u=null===(c=null===(l=e.predicates[d])||void 0===l?void 0:l.namedNodes)||void 0===c?void 0:c.filter((e=>e.toLowerCase()!==f.toLowerCase())))&&void 0!==u?u:[]),g=(0,s.freeze)(Object.assign(Object.assign({},e.predicates[d]),{namedNodes:h})),p=(0,s.freeze)(Object.assign(Object.assign({},e.predicates),{[d]:g}));return(0,s.freeze)(Object.assign(Object.assign({},e),{predicates:p}))},t.removeIri=t.removeUrl,t.removeBoolean=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),c(e,t,n.xmlSchemaTypes.boolean,(e=>(0,n.deserializeBoolean)(e)===r))),t.removeDatetime=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),c(e,t,n.xmlSchemaTypes.dateTime,(e=>{var t;return(null===(t=(0,n.deserializeDatetime)(e))||void 0===t?void 0:t.getTime())===r.getTime()}))),t.removeDate=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),c(e,t,n.xmlSchemaTypes.date,(function(e){const t=(0,n.deserializeDate)(e);return!!t&&t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate()}))),t.removeTime=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),c(e,t,n.xmlSchemaTypes.time,(function(e){const t=(0,n.deserializeTime)(e);return!!t&&t.hour===r.hour&&t.minute===r.minute&&t.second===r.second&&t.millisecond===r.millisecond&&t.timezoneHourOffset===r.timezoneHourOffset&&t.timezoneMinuteOffset===r.timezoneMinuteOffset}))),t.removeDecimal=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),c(e,t,n.xmlSchemaTypes.decimal,(e=>(0,n.deserializeDecimal)(e)===r))),t.removeInteger=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),c(e,t,n.xmlSchemaTypes.integer,(e=>(0,n.deserializeInteger)(e)===r))),t.removeStringEnglish=function(e,t,r){return l(e,t,r,"en")},t.removeStringWithLocale=l,t.removeStringNoLocale=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),c(e,t,n.xmlSchemaTypes.string,(e=>e===r))),t.removeNamedNode=function(e,r,n){return(0,t.removeUrl)(e,r,n.value)},t.removeLiteral=function(e,t,r){var c,u,d;if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new o.ValidPropertyUrlExpectedError(t);const f=r.datatype.value;if(f===n.xmlSchemaTypes.langString)return l(e,t,r.value,r.language);const h=(0,a.internal_toIriString)(t),g=null!==(c=e.predicates[h])&&void 0!==c?c:{},p=null!==(u=g.literals)&&void 0!==u?u:{},b=null!==(d=p[f])&&void 0!==d?d:[],y=(0,s.freeze)(b.filter((e=>e!==r.value))),m=(0,s.freeze)(Object.assign(Object.assign({},p),{[f]:y})),A=(0,s.freeze)(Object.assign(Object.assign({},g),{literals:m})),v=(0,s.freeze)(Object.assign(Object.assign({},e.predicates),{[h]:A}));return(0,s.freeze)(Object.assign(Object.assign({},e),{predicates:v}))}},7103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTerm=t.setLiteral=t.setNamedNode=t.setStringNoLocale=t.setStringWithLocale=t.setStringEnglish=t.setInteger=t.setDecimal=t.setTime=t.setDate=t.setDatetime=t.setBoolean=t.setIri=t.setUrl=void 0;const n=r(2537),i=r(7362),o=r(5205),a=r(362),s=r(6796);function l(e,t,r,n){return(0,i.internal_throwIfNotThing)(e),(0,s.addStringWithLocale)((0,o.removeAll)(e,t),t,r,n)}t.setUrl=(e,t,r)=>{if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new a.ValidPropertyUrlExpectedError(t);if(!(0,a.isThing)(r)&&!(0,n.internal_isValidUrl)(r))throw new a.ValidValueUrlExpectedError(r);return(0,s.addUrl)((0,o.removeAll)(e,t),t,r)},t.setIri=t.setUrl,t.setBoolean=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),(0,s.addBoolean)((0,o.removeAll)(e,t),t,r)),t.setDatetime=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),(0,s.addDatetime)((0,o.removeAll)(e,t),t,r)),t.setDate=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),(0,s.addDate)((0,o.removeAll)(e,t),t,r)),t.setTime=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),(0,s.addTime)((0,o.removeAll)(e,t),t,r)),t.setDecimal=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),(0,s.addDecimal)((0,o.removeAll)(e,t),t,r)),t.setInteger=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),(0,s.addInteger)((0,o.removeAll)(e,t),t,r)),t.setStringEnglish=function(e,t,r){return l(e,t,r,"en")},t.setStringWithLocale=l,t.setStringNoLocale=(e,t,r)=>((0,i.internal_throwIfNotThing)(e),(0,s.addStringNoLocale)((0,o.removeAll)(e,t),t,r)),t.setNamedNode=function(e,t,r){return(0,i.internal_throwIfNotThing)(e),(0,s.addNamedNode)((0,o.removeAll)(e,t),t,r)},t.setLiteral=function(e,t,r){return(0,i.internal_throwIfNotThing)(e),(0,s.addLiteral)((0,o.removeAll)(e,t),t,r)},t.setTerm=function(e,t,r){if((0,i.internal_throwIfNotThing)(e),!(0,n.internal_isValidUrl)(t))throw new a.ValidPropertyUrlExpectedError(t);return(0,s.addTerm)((0,o.removeAll)(e,t),t,r)}},7362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.internal_withChangeLog=t.internal_addDeletionsToChangeLog=t.internal_addAdditionsToChangeLog=t.internal_throwIfNotThing=t.internal_getReadableValue=void 0;const n=r(2537),i=r(6397),o=r(362),a=r(4990);function s(e){return"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType}t.internal_getReadableValue=function(e){var t,r,i,o,a,s,l,c;if((0,n.isNamedNode)(e))return`<${e.value}> (URL)`;if((0,n.isLiteral)(e)){if(!(0,n.isNamedNode)(e.datatype))return`[${e.value}] (RDF/JS Literal of unknown type)`;let u;switch(e.datatype.value){case n.xmlSchemaTypes.boolean:return u=null!==(r=null===(t=(0,n.deserializeBoolean)(e.value))||void 0===t?void 0:t.valueOf())&&void 0!==r?r:`Invalid data: \`${e.value}\``,`${u} (boolean)`;case n.xmlSchemaTypes.dateTime:return u=null!==(o=null===(i=(0,n.deserializeDatetime)(e.value))||void 0===i?void 0:i.toUTCString())&&void 0!==o?o:`Invalid data: \`${e.value}\``,`${u} (datetime)`;case n.xmlSchemaTypes.decimal:return u=null!==(s=null===(a=(0,n.deserializeDecimal)(e.value))||void 0===a?void 0:a.toString())&&void 0!==s?s:`Invalid data: \`${e.value}\``,`${u} (decimal)`;case n.xmlSchemaTypes.integer:return u=null!==(c=null===(l=(0,n.deserializeInteger)(e.value))||void 0===l?void 0:l.toString())&&void 0!==c?c:`Invalid data: \`${e.value}\``,`${u} (integer)`;case n.xmlSchemaTypes.langString:return`"${e.value}" (${e.language} string)`;case n.xmlSchemaTypes.string:return`"${e.value}" (string)`;default:return`[${e.value}] (RDF/JS Literal of type: \`${e.datatype.value}\`)`}}return"BlankNode"===e.termType?`[${e.value}] (RDF/JS BlankNode)`:"Quad"===e.termType?"??? (nested RDF* Quad)":"Variable"===e.termType?`?${e.value} (RDF/JS Variable)`:e},t.internal_throwIfNotThing=function(e){if(!(0,o.isThing)(e))throw new o.ThingExpectedError(e)},t.internal_addAdditionsToChangeLog=function(e,t){const r=(0,i.hasChangelog)(e)?e.internal_changeLog:{additions:[],deletions:[]},[n,o]=t.filter((e=>!s(e))).reduce((([e,t],r)=>void 0!==t.find((e=>e.equals(r)))?[e,t.filter((e=>!e.equals(r)))]:[e.concat(r),t]),[r.additions,r.deletions]);return(0,a.freeze)(Object.assign(Object.assign({},e),{internal_changeLog:{additions:n,deletions:o}}))},t.internal_addDeletionsToChangeLog=function(e,t){const r=(0,i.hasChangelog)(e)?e.internal_changeLog:{additions:[],deletions:[]},[n,o]=t.filter((e=>!s(e))).reduce((([e,t],r)=>void 0!==e.find((e=>e.equals(r)))?[e.filter((e=>!e.equals(r))),t]:[e,t.concat(r)]),[r.additions,r.deletions]);return(0,a.freeze)(Object.assign(Object.assign({},e),{internal_changeLog:{additions:n,deletions:o}}))},t.internal_withChangeLog=function(e){return(0,i.hasChangelog)(e)?e:(0,a.freeze)(Object.assign(Object.assign({},e),{internal_changeLog:{additions:[],deletions:[]}}))}},362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidThingUrlExpectedError=t.ValidValueUrlExpectedError=t.ValidPropertyUrlExpectedError=t.ThingExpectedError=t.isThingLocal=t.thingAsMarkdown=t.asIri=t.asUrl=t.isThing=t.createThing=t.removeThing=t.setThing=t.getThingAll=t.getThing=void 0;const n=r(2537),i=r(6397),o=r(7089),a=r(9009),s=r(7362),l=r(4990),c=r(5475),u=r(1220);function d(e,t){if(f(e)){if(void 0===t)throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return(0,n.resolveLocalIri)((0,l.getLocalNodeName)(e.url),t)}return e.url}function f(e){return(0,l.isLocalNodeIri)(e.url)}t.getThing=function(e,t,r={}){var o;if(!(0,n.internal_isValidUrl)(t))throw new b(t);const s=void 0!==r.scope?(0,c.internal_toIriString)(r.scope):"default",u=null!==(o=e.graphs[s])&&void 0!==o?o:{},d=(0,c.internal_toIriString)(t),f=u[(0,l.isLocalNodeIri)(d)&&(0,i.hasServerResourceInfo)(e)?(0,n.resolveLocalIri)((0,l.getLocalNodeName)(d),(0,a.getSourceUrl)(e)):d];return void 0===f?null:f},t.getThingAll=function(e,t={acceptBlankNodes:!1}){var r;const n=void 0!==t.scope?(0,c.internal_toIriString)(t.scope):"default",i=null!==(r=e.graphs[n])&&void 0!==r?r:{};return Object.values(i).filter((e=>!(0,l.isBlankNodeId)(e.url)||t.acceptBlankNodes))},t.setThing=function(e,t){var r;const c=f(t)&&(0,i.hasServerResourceInfo)(e)?(0,n.resolveLocalIri)((0,l.getLocalNodeName)(t.url),(0,a.getSourceUrl)(e)):t.url,u=e.graphs.default,d=(0,l.freeze)(Object.assign(Object.assign({},u),{[c]:(0,l.freeze)(Object.assign(Object.assign({},t),{url:c}))})),h=(0,l.freeze)(Object.assign(Object.assign({},e.graphs),{default:d})),g=o.DataFactory.namedNode(c),p=null===(r=e.graphs.default[c])||void 0===r?void 0:r.predicates,b=void 0!==p?(0,o.subjectToRdfJsQuads)(p,g,o.DataFactory.defaultGraph()):[],y=(0,o.subjectToRdfJsQuads)(t.predicates,g,o.DataFactory.defaultGraph());return(0,s.internal_addAdditionsToChangeLog)((0,s.internal_addDeletionsToChangeLog)((0,l.freeze)(Object.assign(Object.assign({},e),{graphs:h})),b),y)},t.removeThing=function(e,r){var c;let u;u=(0,n.isNamedNode)(r)?r.value:"string"==typeof r?(0,l.isLocalNodeIri)(r)&&(0,i.hasServerResourceInfo)(e)?(0,n.resolveLocalIri)((0,l.getLocalNodeName)(r),(0,a.getSourceUrl)(e)):r:f(r)?r.url:(0,t.asIri)(r);const d=e.graphs.default,h=Object.assign({},d);delete h[u];const g=(0,l.freeze)(Object.assign(Object.assign({},e.graphs),{default:(0,l.freeze)(h)})),p=o.DataFactory.namedNode(u),b=null===(c=e.graphs.default[u])||void 0===c?void 0:c.predicates,y=void 0!==b?(0,o.subjectToRdfJsQuads)(b,p,o.DataFactory.defaultGraph()):[];return(0,s.internal_addDeletionsToChangeLog)((0,l.freeze)(Object.assign(Object.assign({},e),{graphs:g})),y)},t.createThing=function(e={}){var t;if(void 0!==e.url){const{url:t}=e;if(!(0,n.internal_isValidUrl)(t))throw new b(t);return(0,l.freeze)({type:"Subject",predicates:(0,l.freeze)({}),url:t})}const r=null!==(t=e.name)&&void 0!==t?t:y(),i=(0,l.getLocalNodeIri)(r);return(0,l.freeze)({type:"Subject",predicates:(0,l.freeze)({}),url:i})},t.isThing=function(e){return"object"==typeof e&&null!==e&&"string"==typeof e.type&&"Subject"===e.type},t.asUrl=d,t.asIri=d,t.thingAsMarkdown=function(e){let t="";f(e)?t+=`## Thing (no URL yet — identifier: \`#${(0,l.getLocalNodeName)(e.url)}\`)\n`:t+=`## Thing: ${e.url}\n`;const r=Object.keys(e.predicates);if(0===r.length)t+="\n<empty>\n";else for(const n of r)t+=`\nProperty: ${n}\n`,t+=(0,u.getTermAll)(e,n).reduce(((e,t)=>`${e}- ${(0,s.internal_getReadableValue)(t)}\n`),"");return t},t.isThingLocal=f;class h extends i.SolidClientError{constructor(e){super(`Expected a Thing, but received: [${e}].`),this.receivedValue=e}}t.ThingExpectedError=h;class g extends i.SolidClientError{constructor(e){const t=(0,n.isNamedNode)(e)?e.value:e;super(`Expected a valid URL to identify a property, but received: [${t}].`),this.receivedProperty=t}}t.ValidPropertyUrlExpectedError=g;class p extends i.SolidClientError{constructor(e){const t=(0,n.isNamedNode)(e)?e.value:e;super(`Expected a valid URL value, but received: [${t}].`),this.receivedValue=t}}t.ValidValueUrlExpectedError=p;class b extends i.SolidClientError{constructor(e){const t=(0,n.isNamedNode)(e)?e.value:e;super(`Expected a valid URL to identify a Thing, but received: [${t}].`),this.receivedValue=t}}t.ValidThingUrlExpectedError=b;const y=()=>Date.now().toString()+Math.random().toString().substring("0.".length)},8576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAclServerResourceInfo=void 0;const n=r(9009);t.getAclServerResourceInfo=async function(e,t){return"string"==typeof e.internal_resourceInfo.aclUrl?(0,n.getResourceInfo)(e.internal_resourceInfo.aclUrl,t):null}},6201:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAgentAccess=void 0;const n=r(9009),i=r(6475),o=r(4145),a=r(7224);t.getAgentAccess=async function(e,t,r){const s=await(0,n.getResourceInfo)(e,r),l=await(0,a.getResourceAcr)(s,r);return null===l?(0,o.getAgentAccess)(s,t,r):(0,i.getAgentAccess)(l,t)}},7981:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAgentAccessAll=void 0;const n=r(9009),i=r(3660),o=r(4145),a=r(7224);t.getAgentAccessAll=async function(e,t){const r=await(0,n.getResourceInfo)(e,t),s=await(0,a.getResourceAcr)(r,t);return null===s?(0,o.getAgentAccessAll)(r,t):(0,i.getAgentAccessAll)(s)}},5546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPublicAccess=void 0;const n=r(9009),i=r(3350),o=r(4145),a=r(7224);t.getPublicAccess=async function(e,t){const r=await(0,n.getResourceInfo)(e,t),s=await(0,a.getResourceAcr)(r,t);return null===s?(0,o.getPublicAccess)(r,t):(0,i.getPublicAccess)(s)}},2763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPublicAccess=t.setAgentAccess=t.getPublicAccess=t.getAgentAccessAll=t.getAgentAccess=t.getAclServerResourceInfo=void 0;var n=r(8576);Object.defineProperty(t,"getAclServerResourceInfo",{enumerable:!0,get:function(){return n.getAclServerResourceInfo}});var i=r(6201);Object.defineProperty(t,"getAgentAccess",{enumerable:!0,get:function(){return i.getAgentAccess}});var o=r(7981);Object.defineProperty(t,"getAgentAccessAll",{enumerable:!0,get:function(){return o.getAgentAccessAll}});var a=r(5546);Object.defineProperty(t,"getPublicAccess",{enumerable:!0,get:function(){return a.getPublicAccess}});var s=r(4967);Object.defineProperty(t,"setAgentAccess",{enumerable:!0,get:function(){return s.setAgentAccess}});var l=r(1586);Object.defineProperty(t,"setPublicAccess",{enumerable:!0,get:function(){return l.setPublicAccess}})},4967:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAgentAccess=void 0;const n=r(9009),i=r(9093),o=r(4145),a=r(7224),s=r(6885),l=r(6201);t.setAgentAccess=async function(e,t,r,c){const u=await(0,n.getResourceInfo)(e,c),d=await(0,a.getResourceAcr)(u,c);if(null===d)return await(0,o.setAgentResourceAccess)(u,t,r,c),(0,o.getAgentAccess)(u,t,c);try{return await(0,s.saveAcrFor)(await(0,i.setAgentAccess)(d,t,r),c),await(0,l.getAgentAccess)(e,t,c)}catch(e){return null}}},1586:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPublicAccess=void 0;const n=r(9009),i=r(8739),o=r(4145),a=r(7224),s=r(6885),l=r(5546);t.setPublicAccess=async function(e,t,r){const c=await(0,n.getResourceInfo)(e,r),u=await(0,a.getResourceAcr)(c,r);if(null===u)return await(0,o.setPublicResourceAccess)(c,t,r),(0,o.getPublicAccess)(c,r);try{return await(0,s.saveAcrFor)(await(0,i.setPublicAccess)(u,t),r),await(0,l.getPublicAccess)(e,r)}catch(e){return null}}},8825:(e,t,r)=>{const n=r(8295);e.exports=n},2225:e=>{class t{constructor(e){this.value=e||"b"+ ++t.nextId}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}t.prototype.termType="BlankNode",t.nextId=0,e.exports=t},8295:(e,t,r)=>{const n=r(2225),i=r(5805),o=r(2542),a=r(1694),s=r(1358),l=r(8790),c=r(5895),u={namedNode:function(e){return new s(e)},blankNode:function(e){return new n(e)},literal:function(e,t){return"string"==typeof t?-1===t.indexOf(":")?new a(e,t):new a(e,null,u.namedNode(t)):new a(e,null,t)},variable:function(e){return new c(e)},defaultGraph:function(){return u.defaultGraphInstance},triple:function(e,t,r){return u.quad(e,t,r)},quad:function(e,t,r,n){return new l(e,t,r,n||u.defaultGraphInstance)},fromTerm:function(e){return o.call(u,e)},fromQuad:function(e){return o.call(u,e)},defaultGraphInstance:new i};e.exports=u},5805:e=>{class t{equals(e){return!!e&&e.termType===this.termType}}t.prototype.termType="DefaultGraph",t.prototype.value="",e.exports=t},1694:(e,t,r)=>{const n=r(1358);class i{constructor(e,t,r){this.value=e,this.datatype=i.stringDatatype,this.language="",t?(this.language=t,this.datatype=i.langStringDatatype):r&&(this.datatype=r)}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}i.prototype.termType="Literal",i.langStringDatatype=new n("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.stringDatatype=new n("http://www.w3.org/2001/XMLSchema#string"),e.exports=i},1358:e=>{class t{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}t.prototype.termType="NamedNode",e.exports=t},8790:(e,t,r)=>{const n=r(5805);class i{constructor(e,t,r,i){this.subject=e,this.predicate=t,this.object=r,this.graph=i||new n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}}i.prototype.termType="Quad",i.prototype.value="",e.exports=i},5895:e=>{class t{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}t.prototype.termType="Variable",e.exports=t},2542:e=>{e.exports=function(e){if(!e)return null;if("BlankNode"===e.termType)return this.blankNode(e.value);if("DefaultGraph"===e.termType)return this.defaultGraph();if("Literal"===e.termType)return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if("NamedNode"===e.termType)return this.namedNode(e.value);if("Quad"===e.termType){const t=this.fromTerm(e.subject),r=this.fromTerm(e.predicate),n=this.fromTerm(e.object),i=this.fromTerm(e.graph);return this.quad(t,r,n,i)}if("Variable"===e.termType)return this.variable(e.value);throw new Error(`unknown termType ${e.termType}`)}},1963:e=>{function t(e){return"string"==typeof e||e instanceof String}function r(e){if("string"==typeof e)return e;if(!e)return"";if(void 0!==e.id&&"Quad"!==e.termType)return e.id;let t,n,o,a;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return e.language?`"${e.value}"@${e.language}`:`"${e.value}"${e.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value?`^^${e.datatype.value}`:""}`;case"Quad":return t=i(r(e.subject)),n=i(r(e.predicate)),o=i(r(e.object)),a="DefaultGraph"===e.graph.termType?"":` ${r(e.graph)}`,`<<${t} ${n} ${o}${a}>>`;default:throw new Error(`Unexpected termType: ${e.termType}`)}}const n=/^"(.*".*)(?="[^"]*$)/;function i(e){return e.replace(n,((e,t)=>`"${t.replace(/"/g,'""')}`))}class o{constructor(e){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,e)for(const t of e)this.add(t)}get size(){let e=this._size;if(null!==e)return e;e=0;const t=this._graphs;let r,n;for(const i in t)for(const o in r=t[i].subjects)for(const t in n=r[o])e+=Object.keys(n[t]).length;return this._size=e,this._size}add(e){let t=r(e.subject),n=r(e.predicate),i=r(e.object);const o=r(e.graph);let a=this._graphs[o];a||(a=this._graphs[o]={subjects:{},predicates:{},objects:{}},Object.freeze(a));const s=this._ids,l=this._entities;return t=s[t]||(s[l[++this._id]=t]=this._id),n=s[n]||(s[l[++this._id]=n]=this._id),i=s[i]||(s[l[++this._id]=i]=this._id),this._addToIndex(a.subjects,t,n,i),this._addToIndex(a.predicates,n,i,t),this._addToIndex(a.objects,i,t,n),this._setQuad(t,n,i,o,e),this._size=null,this}delete(e){let t=r(e.subject),n=r(e.predicate),i=r(e.object);const o=r(e.graph),a=this._ids,s=this._graphs;let l,c,u;if(!((t=a[t])&&(n=a[n])&&(i=a[i])&&(l=s[o])&&(c=l.subjects[t])&&(u=c[n])&&i in u))return this;for(t in this._removeFromIndex(l.subjects,t,n,i),this._removeFromIndex(l.predicates,n,i,t),this._removeFromIndex(l.objects,i,t,n),null!==this._size&&this._size--,this._deleteQuad(t,n,i,o),l.subjects)return this;return delete s[o],this}has(e){const n=r(e.subject),i=r(e.predicate),o=r(e.object),a=r(e.graph),s=this._graphs[a];if(!s)return!1;const l=this._ids;let c,u,d;return!(t(n)&&!(c=l[n])||t(i)&&!(u=l[i])||t(o)&&!(d=l[o]))&&1===this._countInIndex(s.objects,d,c,u)}match(e,t,r,n){return this._createDataset(this._match(e,t,r,n))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(e,t,r,n){const i=e[t]||(e[t]={}),o=i[r]||(i[r]={}),a=n in o;return a||(o[n]=null),!a}_removeFromIndex(e,t,r,n){const i=e[t],o=i[r];delete o[n];for(const e in o)return;delete i[r];for(const e in i)return;delete e[t]}_findInIndex(e,t,r,n,i,o,a,s,l,c){let u,d,f;t&&((u=e,e={})[t]=u[t]);for(const t in e)if(d=e[t],d){r&&((u=d,d={})[r]=u[r]);for(const e in d)if(f=d[e],f){const r=n?n in f?[n]:[]:Object.keys(f);for(let n=0;n<r.length;n++){const u={[i]:t,[o]:e,[a]:r[n]},d=this._getQuad(u.subject,u.predicate,u.object,s);if(c)c.push(d);else if(l(d))return!0}}}return c}_countInIndex(e,t,r,n){let i,o,a,s=0;t&&((i=e,e={})[t]=i[t]);for(const t in e)if(o=e[t],o){r&&((i=o,o={})[r]=i[r]);for(const e in o)a=o[e],a&&(n?n in a&&s++:s+=Object.keys(a).length)}return s}_getGraphs(e){return t(e)?{[e]:this._graphs[e]}:this._graphs}_match(e,n,i,o){e=e&&r(e),n=n&&r(n),i=i&&r(i),o=o&&r(o);const a=[],s=this._getGraphs(o),l=this._ids;let c,u,d,f;if(t(e)&&!(u=l[e])||t(n)&&!(d=l[n])||t(i)&&!(f=l[i]))return a;for(const e in s)c=s[e],c&&(u?f?this._findInIndex(c.objects,f,u,d,"object","subject","predicate",e,null,a):this._findInIndex(c.subjects,u,d,null,"subject","predicate","object",e,null,a):d?this._findInIndex(c.predicates,d,f,null,"predicate","object","subject",e,null,a):f?this._findInIndex(c.objects,f,null,null,"object","subject","predicate",e,null,a):this._findInIndex(c.subjects,null,null,null,"subject","predicate","object",e,null,a));return a}_getQuad(e,t,r,n){return this._quads.get(this._toId(e,t,r,n))}_setQuad(e,t,r,n,i){this._quads.set(this._toId(e,t,r,n),i)}_deleteQuad(e,t,r,n){this._quads.delete(this._toId(e,t,r,n))}_createDataset(e){return new this.constructor(e)}_toId(e,t,r,n){return`${e}:${t}:${r}:${n}`}}e.exports=o},6521:(e,t,r)=>{const n=r(8825),i=r(1963);e.exports=Object.assign({dataset:function(e){return new i(e)}},n)},5456:e=>{"use strict";e.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,r,n)=>t+(0===n?"":",")+e(void 0===r||"symbol"==typeof r?null:r)),"")+"]":"{"+Object.keys(t).sort().reduce(((r,n,i)=>void 0===t[n]||"symbol"==typeof t[n]?r:r+(0===r.length?"":",")+e(n)+":"+e(t[n])),"")+"}"}},4098:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function p(e){var t=new FileReader,r=g(t);return t.readAsArrayBuffer(e),r}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=b(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,r,n=h(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=g(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=u(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(e,t){var r,n,i=(t=t||{}).body;if(e instanceof A){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},y.call(A.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];_.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function P(e,r){return new Promise((function(n,o){var a=new A(e,r);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new _(i,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",l)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}P.polyfill=!0,e.fetch||(e.fetch=P,e.Headers=f,e.Request=A,e.Response=_),t.Headers=f,t.Request=A,t.Response=_,t.fetch=P,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},7187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}p(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&p(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var i,o,a,c;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):g(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function p(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else{var c=l.length,u=g(l,c);for(r=0;r<c;++r)n(u[r],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2475:e=>{"use strict";var t=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,i=/\r?\n[\x20\x09]+/g,o=/[;,"]/,a=/[;,"]|\s/,s=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/;function l(e){return e.replace(r,"")}function c(e){return n.test(e)}function u(e,t){for(;c(e[t]);)t++;return t}function d(e){return a.test(e)||!s.test(e)}class f{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var t=[],r=e.toLowerCase(),n=0;n<this.refs.length;n++)this.refs[n].rel.toLowerCase()===r&&t.push(this.refs[n]);return t}get(e,t){e=e.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][e]===t&&r.push(this.refs[n]);return r}set(e){return this.refs.push(e),this}has(e,t){e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][e]===t)return!0;return!1}parse(e,t){for(var r=1,n=(e=l(e=(t=t||0)?e.slice(t):e).replace(i,"")).length,a=(t=0,null);t<n;)if(1===r){if(c(e[t])){t++;continue}if("<"!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);if(null!=a&&(null!=a.rel?this.refs.push(...f.expandRelations(a)):this.refs.push(a)),-1===(h=e.indexOf(">",t)))throw new Error("Expected end of URI delimiter at offset "+t);a={uri:e.slice(t+1,h)},t=h,r=2,t++}else if(2===r){if(c(e[t])){t++;continue}if(";"===e[t])r=4,t++;else{if(","!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);r=1,t++}}else{if(4!==r)throw new Error('Unknown parser state "'+r+'"');if(";"===e[t]||c(e[t])){t++;continue}if(-1===(h=e.indexOf("=",t)))throw new Error("Expected attribute delimiter at offset "+t);var s=l(e.slice(t,h)).toLowerCase(),d="";if('"'===e[t=u(e,t=h+1)])for(t++;t<n;){if('"'===e[t]){t++;break}"\\"===e[t]&&t++,d+=e[t],t++}else{for(var h=t+1;!o.test(e[h])&&h<n;)h++;d=e.slice(t,h),t=h}switch(a[s]&&f.isSingleOccurenceAttr(s)||("*"===s[s.length-1]?a[s]=f.parseExtendedValue(d):(d="type"===s?d.toLowerCase():d,null!=a[s]?Array.isArray(a[s])?a[s].push(d):a[s]=[a[s],d]:a[s]=d)),e[t]){case",":r=1;break;case";":r=4}t++}return null!=a&&(null!=a.rel?this.refs.push(...f.expandRelations(a)):this.refs.push(a)),a=null,this}toString(){for(var e=[],t="",r=null,n=0;n<this.refs.length;n++)r=this.refs[n],t=Object.keys(this.refs[n]).reduce((function(e,t){return"uri"===t?e:e+"; "+f.formatAttribute(t,r[t])}),"<"+r.uri+">"),e.push(t);return e.join(", ")}}f.isCompatibleEncoding=function(e){return t.test(e)},f.parse=function(e,t){return(new f).parse(e,t)},f.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},f.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},f.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},f.expandRelations=function(e){return e.rel.split(" ").map((function(t){var r=Object.assign({},e);return r.rel=t,r}))},f.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']*)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:f.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:f.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},f.formatExtendedAttribute=function(e,t){var r=(t.encoding||"utf-8").toUpperCase();return e+"="+r+"'"+(t.language||"en")+"'"+(Buffer.isBuffer(t.value)&&f.isCompatibleEncoding(r)?t.value.toString(r):Buffer.isBuffer(t.value)?t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(t.value))},f.formatAttribute=function(e,t){return Array.isArray(t)?t.map((t=>f.formatAttribute(e,t))).join("; "):"*"===e[e.length-1]||"string"!=typeof t?f.formatExtendedAttribute(e,t):(f.isTokenAttr(e)?t=d(t)?'"'+f.escapeQuotes(t)+'"':f.escapeQuotes(t):d(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=f},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},8058:(e,t,r)=>{"use strict";const{isArray:n,isObject:i,isString:o}=r(832),{asArray:a}=r(1055),{prependBase:s}=r(2278),l=r(4093),c=r(6767);function u(e){throw new l("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function d({context:e,base:t}){if(!e)return;const r=e["@context"];if(o(r))e["@context"]=s(t,r);else if(n(r))for(let e=0;e<r.length;++e){const n=r[e];o(n)?r[e]=s(t,n):i(n)&&d({context:{"@context":n},base:t})}else if(i(r))for(const e in r)d({context:r[e],base:t})}e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:r,base:s,cycles:l=new Set}){t&&i(t)&&t["@context"]&&(t=t["@context"]),t=a(t);const d=[];for(const a of t){if(o(a)){let t=this._get(a);t||(t=await this._resolveRemoteContext({activeCtx:e,url:a,documentLoader:r,base:s,cycles:l})),n(t)?d.push(...t):d.push(t);continue}if(null===a){d.push(new c({document:null}));continue}i(a)||u(t);const f=JSON.stringify(a);let h=this._get(f);h||(h=new c({document:a}),this._cacheResolvedContext({key:f,resolved:h,tag:"static"})),d.push(h)}return d}_get(e){let t=this.perOpCache.get(e);if(!t){const r=this.sharedCache.get(e);r&&(t=r.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:r}){if(this.perOpCache.set(e,t),void 0!==r){let n=this.sharedCache.get(e);n||(n=new Map,this.sharedCache.set(e,n)),n.set(r,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:r,base:n,cycles:i}){t=s(n,t);const{context:o,remoteDoc:a}=await this._fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:i});d({context:o,base:n=a.documentUrl||t});const l=await this.resolve({activeCtx:e,context:o,documentLoader:r,base:n,cycles:i});return this._cacheResolvedContext({key:t,resolved:l,tag:a.tag}),l}async _fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:a}){if(a.size>10)throw new l("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:10});if(a.has(t))throw new l("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let s,c;a.add(t);try{c=await r(t),s=c.document||null,o(s)&&(s=JSON.parse(s))}catch(e){throw new l("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:e})}if(!i(s))throw new l("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},c.contextUrl&&(n(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(c.contextUrl)),{context:s,remoteDoc:c}}}},4093:e=>{"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}}},731:e=>{"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},9048:(e,t,r)=>{"use strict";e.exports=r(7055).NQuads},533:e=>{"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},6767:(e,t,r)=>{"use strict";const n=r(9593);e.exports=class{constructor({document:e}){this.document=e,this.cache=new n({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},3251:(e,t,r)=>{"use strict";const n=r(4093),{isArray:i,isObject:o,isString:a,isUndefined:s}=r(832),{isList:l,isValue:c,isGraph:u,isSimpleGraph:d,isSubjectReference:f}=r(8463),{expandIri:h,getContextValue:g,isKeyword:p,process:b,processingMode:y}=r(4131),{removeBase:m,prependBase:A}=r(2278),{addValue:v,asArray:_,compareShortestLeast:w}=r(1055),P={};function O(e,t,r){if("@nest"!==h(e,t,{vocab:!0},r))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=P,P.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:h={},compactionMap:m=(()=>{})})=>{if(i(r)){let n=[];for(let i=0;i<r.length;++i){let o=await P.compact({activeCtx:e,activeProperty:t,element:r[i],options:h,compactionMap:m});null===o&&(o=await m({unmappedValue:r[i],activeCtx:e,activeProperty:t,parent:r,index:i,options:h}),void 0===o)||n.push(o)}return h.compactArrays&&1===n.length&&0===(g(e,t,"@container")||[]).length&&(n=n[0]),n}const A=g(e,t,"@context");if(s(A)||(e=await b({activeCtx:e,localCtx:A,propagate:!0,overrideProtected:!0,options:h})),o(r)){if(h.link&&"@id"in r&&h.link.hasOwnProperty(r["@id"])){const e=h.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(c(r)||f(r)){const n=P.compactValue({activeCtx:e,activeProperty:t,value:r,options:h});return h.link&&f(r)&&(h.link.hasOwnProperty(r["@id"])||(h.link[r["@id"]]=[]),h.link[r["@id"]].push({expanded:r,compacted:n})),n}if(l(r)&&(g(e,t,"@container")||[]).includes("@list"))return P.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:h,compactionMap:m});const A="@reverse"===t,w={},j=e;c(r)||f(r)||(e=e.revertToPreviousContext());const R=g(j,t,"@context");s(R)||(e=await b({activeCtx:e,localCtx:R,propagate:!0,overrideProtected:!0,options:h})),h.link&&"@id"in r&&(h.link.hasOwnProperty(r["@id"])||(h.link[r["@id"]]=[]),h.link[r["@id"]].push({expanded:r,compacted:w}));let x=r["@type"]||[];x.length>1&&(x=Array.from(x).sort());const I=e;for(const t of x){const r=P.compactIri({activeCtx:I,iri:t,relativeTo:{vocab:!0}}),n=g(j,r,"@context");s(n)||(e=await b({activeCtx:e,localCtx:n,options:h,propagate:!1}))}const S=Object.keys(r).sort();for(const s of S){const f=r[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&p(s)){const t=P.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});v(w,t,f)}else{if(!i(f))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===f.length){const t=P.compactIri({activeCtx:e,iri:s,value:f,relativeTo:{vocab:!0},reverse:A}),r=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let n=w;r&&(O(e,r,h),o(w[r])||(w[r]={}),n=w[r]),v(n,t,f,{propertyIsArray:!0})}for(const t of f){const r=P.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:A}),n=e.mappings.has(r)?e.mappings.get(r)["@nest"]:null;let f=w;n&&(O(e,n,h),o(w[n])||(w[n]={}),f=w[n]);const p=g(e,r,"@container")||[],b=u(t),y=l(t);let j;y?j=t["@list"]:b&&(j=t["@graph"]);let R=await P.compact({activeCtx:e,activeProperty:r,element:y||b?j:t,options:h,compactionMap:m});if(y){if(i(R)||(R=[R]),p.includes("@list")){v(f,r,R,{valueIsArray:!0,allowDuplicate:!0});continue}R={[P.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:R},"@index"in t&&(R[P.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(b)if(p.includes("@graph")&&(p.includes("@id")||p.includes("@index")&&d(t))){let n;f.hasOwnProperty(r)?n=f[r]:f[r]=n={};const i=(p.includes("@id")?t["@id"]:t["@index"])||P.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});v(n,i,R,{propertyIsArray:!h.compactArrays||p.includes("@set")})}else p.includes("@graph")&&d(t)?(i(R)&&R.length>1&&(R={"@included":R}),v(f,r,R,{propertyIsArray:!h.compactArrays||p.includes("@set")})):(i(R)&&1===R.length&&h.compactArrays&&(R=R[0]),R={[P.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:R},"@id"in t&&(R[P.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(R[P.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),v(f,r,R,{propertyIsArray:!h.compactArrays||p.includes("@set")}));else if(p.includes("@language")||p.includes("@index")||p.includes("@id")||p.includes("@type")){let n,i;if(f.hasOwnProperty(r)?n=f[r]:f[r]=n={},p.includes("@language"))c(R)&&(R=R["@value"]),i=t["@language"];else if(p.includes("@index")){const n=g(e,r,"@index")||"@index",o=P.compactIri({activeCtx:e,iri:n,relativeTo:{vocab:!0}});if("@index"===n)i=t["@index"],delete R[o];else{let e;if([i,...e]=_(R[n]||[]),a(i))switch(e.length){case 0:delete R[n];break;case 1:R[n]=e[0];break;default:R[n]=e}else i=null}}else if(p.includes("@id")){const t=P.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});i=R[t],delete R[t]}else if(p.includes("@type")){const n=P.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let o;switch([i,...o]=_(R[n]||[]),o.length){case 0:delete R[n];break;case 1:R[n]=o[0];break;default:R[n]=o}1===Object.keys(R).length&&"@id"in t&&(R=await P.compact({activeCtx:e,activeProperty:r,element:{"@id":t["@id"]},options:h,compactionMap:m}))}i||(i=P.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),v(n,i,R,{propertyIsArray:p.includes("@set")})}else{const e=!h.compactArrays||p.includes("@set")||p.includes("@list")||i(R)&&0===R.length||"@list"===s||"@graph"===s;v(f,r,R,{propertyIsArray:e})}}}else{if((g(e,t,"@container")||[]).includes("@index"))continue;const r=P.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});v(w,r,f)}else{const r=await P.compact({activeCtx:e,activeProperty:t,element:f,options:h,compactionMap:m});i(r)&&0===r.length||v(w,s,r)}else{const t=await P.compact({activeCtx:e,activeProperty:"@reverse",element:f,options:h,compactionMap:m});for(const r in t)if(e.mappings.has(r)&&e.mappings.get(r).reverse){const n=t[r],i=(g(e,r,"@container")||[]).includes("@set")||!h.compactArrays;v(w,r,n,{propertyIsArray:i}),delete t[r]}if(Object.keys(t).length>0){const r=P.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});v(w,r,t)}}else{let t=_(f).map((e=>P.compactIri({activeCtx:j,iri:e,relativeTo:{vocab:!0}})));1===t.length&&(t=t[0]);const r=P.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),n=(g(e,r,"@container")||[]).includes("@set")&&y(e,1.1)||i(t)&&0===f.length;v(w,r,t,{propertyIsArray:n})}else{let t=_(f).map((t=>P.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:h.base})));1===t.length&&(t=t[0]),w[P.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t}}return w}return r},P.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:i={vocab:!1},reverse:a=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const d=e.getInverse();if(p(t)&&t in d&&"@none"in d[t]&&"@type"in d[t]["@none"]&&"@none"in d[t]["@none"]["@type"])return d[t]["@none"]["@type"]["@none"];if(i.vocab&&t in d){const n=e["@language"]||"@none",i=[];o(r)&&"@index"in r&&!("@graph"in r)&&i.push("@index","@index@set"),o(r)&&"@preserve"in r&&(r=r["@preserve"][0]),u(r)?("@index"in r&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in r||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||i.push("@graph@id","@graph@id@set")):o(r)&&!c(r)&&i.push("@id","@id@set","@type","@set@type");let s="@language",d="@null";if(a)s="@type",d="@reverse",i.push("@set");else if(l(r)){"@index"in r||i.push("@list");const e=r["@list"];if(0===e.length)s="@any",d="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){const i=e[n];let o="@none",a="@none";if(c(i)?"@direction"in i?o=`${(i["@language"]||"").toLowerCase()}_${i["@direction"]}`:"@language"in i?o=i["@language"].toLowerCase():"@type"in i?a=i["@type"]:o="@null":a="@id",null===t?t=o:o!==t&&c(i)&&(t="@none"),null===r?r=a:a!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none",r=r||"@none","@none"!==r?(s="@type",d=r):d=t}}else{if(c(r))if("@language"in r&&!("@index"in r)){i.push("@language","@language@set"),d=r["@language"];const e=r["@direction"];e&&(d=`${d}_${e}`)}else"@direction"in r&&!("@index"in r)?d=`_${r["@direction"]}`:"@type"in r&&(s="@type",d=r["@type"]);else s="@type",d="@id";i.push("@set")}i.push("@none"),o(r)&&!("@index"in r)&&i.push("@index","@index@set"),c(r)&&1===Object.keys(r).length&&i.push("@language","@language@set");const f=function(e,t,r,n,i,a){null===a&&(a="@null");const s=[];if(("@id"===a||"@reverse"===a)&&o(r)&&"@id"in r){"@reverse"===a&&s.push("@reverse");const t=P.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);const e=s.find((e=>e.includes("_")));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const l=e.inverse[t];for(const e of n){if(!(e in l))continue;const t=l[e][i];for(const e of s)if(e in t)return t[e]}return null}(e,t,r,i,s,d);if(null!==f)return f}if(i.vocab&&"@vocab"in e){const r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){const n=t.substr(r.length);if(!e.mappings.has(n))return n}}let f=null;const h=[];let g=e.fastCurieMap;const b=t.length-1;for(let e=0;e<b&&t[e]in g;++e)g=g[t[e]],""in g&&h.push(g[""][0]);for(let n=h.length-1;n>=0;--n){const i=h[n],o=i.terms;for(const n of o){const o=n+":"+t.substr(i.iri.length);e.mappings.get(n)._prefix&&(!e.mappings.has(o)||null===r&&e.mappings.get(o)["@id"]===t)&&(null===f||w(o,f)<0)&&(f=o)}}if(null!==f)return f;for(const[r,i]of e.mappings)if(i&&i._prefix&&t.startsWith(r+":"))throw new n(`Absolute IRI "${t}" confused with prefix "${r}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return i.vocab?t:"@base"in e?e["@base"]?m(A(s,e["@base"]),t):t:m(s,t)},P.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(c(r)){const n=g(e,t,"@type"),i=g(e,t,"@language"),o=g(e,t,"@direction"),s=g(e,t,"@container")||[],l="@index"in r&&!s.includes("@index");if(!l&&"@none"!==n){if(r["@type"]===n)return r["@value"];if("@language"in r&&r["@language"]===i&&"@direction"in r&&r["@direction"]===o)return r["@value"];if("@language"in r&&r["@language"]===i)return r["@value"];if("@direction"in r&&r["@direction"]===o)return r["@value"]}const c=Object.keys(r).length,u=1===c||2===c&&"@index"in r&&!l,d="@language"in e,f=a(r["@value"]),h=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==n&&(!d||!f||h))return r["@value"];const p={};return l&&(p[P.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?p[P.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=P.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(p[P.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(p[P.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),p[P.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],p}const i=h(e,t,{vocab:!0},n),o=g(e,t,"@type"),s=P.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===o},base:n.base});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[P.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},3770:e=>{"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:r,XSD_BOOLEAN:r+"boolean",XSD_DOUBLE:r+"double",XSD_INTEGER:r+"integer",XSD_STRING:r+"string"}},4131:(e,t,r)=>{"use strict";const n=r(1055),i=r(4093),{isArray:o,isObject:a,isString:s,isUndefined:l}=r(832),{isAbsolute:c,isRelative:u,prependBase:d}=r(2278),{asArray:f,compareShortestLeast:h}=r(1055),g=new Map,p=/^@[a-zA-Z]+$/,b={};function y(e,t,r,n,i,o){if(null===t||!s(t)||b.isKeyword(t))return t;if(t.match(p))return null;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&b.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),(r=r||{}).vocab){const r=e.mappings.get(t);if(null===r)return null;if(a(r)&&"@id"in r)return r["@id"]}const l=t.indexOf(":");if(l>0){const r=t.substr(0,l),a=t.substr(l+1);if("_"===r||0===a.indexOf("//"))return t;n&&n.hasOwnProperty(r)&&b.createTermDefinition({activeCtx:e,localCtx:n,term:r,defined:i,options:o});const s=e.mappings.get(r);if(s&&s._prefix)return s["@id"]+a;if(c(t))return t}if(r.vocab&&"@vocab"in e)return e["@vocab"]+t;if(r.base&&"@base"in e){if(e["@base"])return d(d(o.base,e["@base"]),t)}else if(r.base)return d(o.base,t);return t}function m(e,t){if(!e||"object"!=typeof e||!t||"object"!=typeof t)return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!m(e[r],t[r]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const r in e){let n=e[r],i=t[r];if("@container"===r&&Array.isArray(n)&&Array.isArray(i)&&(n=n.slice().sort(),i=i.slice().sort()),!m(n,i))return!1}return!0}e.exports=b,b.process=async({activeCtx:e,localCtx:t,options:r,propagate:l=!0,overrideProtected:h=!1,cycles:g=new Set})=>{if(a(t)&&"@context"in t&&o(t["@context"])&&(t=t["@context"]),0===f(t).length)return e;const p=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});a(p[0].document)&&"boolean"==typeof p[0].document["@propagate"]&&(l=p[0].document["@propagate"]);let m=e;l||m.previousContext||(m=m.clone(),m.previousContext=e);for(const o of p){let{document:l}=o;if(e=m,null===l){if(!h&&0!==Object.keys(e.protected).length){const a=r&&r.protectedMode||"error";if("error"===a)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===a){console.warn("WARNING: invalid context nullification");const t=o.getProcessed(e);if(t){m=e=t;continue}const i=e;m=e=b.getInitialContext(r).clone();for(const[t,r]of Object.entries(i.protected))r&&(e.mappings[t]=n.clone(i.mappings[t]));e.protected=n.clone(i.protected),o.setProcessed(i,m);continue}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:a})}m=e=b.getInitialContext(r).clone();continue}const f=o.getProcessed(e);if(f){m=e=f;continue}if(a(l)&&"@context"in l&&(l=l["@context"]),!a(l))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:l});m=m.clone();const p=new Map;if("@version"in l){if(1.1!==l["@version"])throw new i("Unsupported JSON-LD version: "+l["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:l});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new i("@version: "+l["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:l});m.processingMode="json-ld-1.1",m["@version"]=l["@version"],p.set("@version",!0)}if(m.processingMode=m.processingMode||e.processingMode,"@base"in l){let e=l["@base"];if(null===e||c(e));else{if(!u(e))throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:l});e=d(m["@base"],e)}m["@base"]=e,p.set("@base",!0)}if("@vocab"in l){const e=l["@vocab"];if(null===e)delete m["@vocab"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:l});if(!c(e)&&b.processingMode(m,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:l});m["@vocab"]=y(m,e,{vocab:!0,base:!0},void 0,void 0,r)}p.set("@vocab",!0)}if("@language"in l){const e=l["@language"];if(null===e)delete m["@language"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:l});m["@language"]=e.toLowerCase()}p.set("@language",!0)}if("@direction"in l){const t=l["@direction"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:l});if(null===t)delete m["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:l});m["@direction"]=t}p.set("@direction",!0)}if("@propagate"in l){const r=l["@propagate"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:l});if("boolean"!=typeof r)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});p.set("@propagate",!0)}if("@import"in l){const n=l["@import"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:l});if(!s(n))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const o=await r.contextResolver.resolve({activeCtx:e,context:n,documentLoader:r.documentLoader,base:r.base});if(1!==o.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const a=o[0].getProcessed(e);if(a)l=a;else{const r=o[0].document;if("@import"in r)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in r)l.hasOwnProperty(e)||(l[e]=r[e]);o[0].setProcessed(e,l)}p.set("@import",!0)}p.set("@protected",l["@protected"]||!1);for(const e in l)if(b.createTermDefinition({activeCtx:m,localCtx:l,term:e,defined:p,options:r,overrideProtected:h}),a(l[e])&&"@context"in l[e]){const t=l[e]["@context"];let n=!0;if(s(t)){const e=d(r.base,t);g.has(e)?n=!1:g.add(e)}if(n)try{await b.process({activeCtx:m.clone(),localCtx:l[e]["@context"],overrideProtected:!0,options:r,cycles:g})}catch(t){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:l[e]["@context"],term:e})}}o.setProcessed(e,m)}return m},b.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:l,overrideProtected:u=!1})=>{if(n.has(r)){if(n.get(r))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}let d;if(n.set(r,!1),t.hasOwnProperty(r)&&(d=t[r]),"@type"===r&&a(d)&&"@set"===(d["@container"]||"@set")&&b.processingMode(e,1.1)){const e=["@container","@id","@protected"],n=Object.keys(d);if(0===n.length||n.some((t=>!e.includes(t))))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(b.isKeyword(r))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(p))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:r});if(""===r)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const f=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let h=!1;if((s(d)||null===d)&&(h=!0,d={"@id":d}),!a(d))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const g={};e.mappings.set(r,g),g.reverse=!1;const A=["@container","@id","@language","@reverse","@type"];b.processingMode(e,1.1)&&A.push("@context","@direction","@index","@nest","@prefix","@protected");for(const e in d)if(!A.includes(e))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const v=r.indexOf(":");if(g._termHasColon=v>0,"@reverse"in d){if("@id"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const o=d["@reverse"];if(!s(o))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!b.isKeyword(o)&&o.match(p))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:o}),void(f?e.mappings.set(r,f):e.mappings.delete(r));const a=y(e,o,{vocab:!0,base:!1},t,n,l);if(!c(a))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});g["@id"]=a,g.reverse=!0}else if("@id"in d){let o=d["@id"];if(o&&!s(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===o)g["@id"]=null;else{if(!b.isKeyword(o)&&o.match(p))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:o}),void(f?e.mappings.set(r,f):e.mappings.delete(r));if(o!==r){if(o=y(e,o,{vocab:!0,base:!1},t,n,l),!c(o)&&!b.isKeyword(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)&&y(e,r,{vocab:!0,base:!1},t,new Map(n).set(r,!0),l)!==o)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});g["@id"]=o,g._prefix=h&&!g._termHasColon&&o.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in g))if(g._termHasColon){const i=r.substr(0,v);if(t.hasOwnProperty(i)&&b.createTermDefinition({activeCtx:e,localCtx:t,term:i,defined:n,options:l}),e.mappings.has(i)){const t=r.substr(v+1);g["@id"]=e.mappings.get(i)["@id"]+t}else g["@id"]=r}else if("@type"===r)g["@id"]=r;else{if(!("@vocab"in e))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});g["@id"]=e["@vocab"]+r}if((!0===d["@protected"]||!0===n.get("@protected")&&!1!==d["@protected"])&&(e.protected[r]=!0,g.protected=!0),n.set(r,!0),"@type"in d){let r=d["@type"];if(!s(r))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===r||"@none"===r){if(b.processingMode(e,1))throw new i(`Invalid JSON-LD syntax; an @context @type value must not be "${r}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==r&&"@vocab"!==r){if(r=y(e,r,{vocab:!0,base:!1},t,n,l),!c(r))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}g["@type"]=r}if("@container"in d){const r=s(d["@container"])?[d["@container"]]:d["@container"]||[],n=["@list","@set","@index","@language"];let a=!0;const l=r.includes("@set");if(b.processingMode(e,1.1)){if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else a&=r.length<=(l?2:1);if(r.includes("@type")&&(g["@type"]=g["@type"]||"@id",!["@id","@vocab"].includes(g["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else a&=!o(d["@container"]),a&=r.length<=1;if(a&=r.every((e=>n.includes(e))),a&=!(l&&r.includes("@list")),!a)throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(g.reverse&&!r.every((e=>["@index","@set"].includes(e))))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});g["@container"]=r}if("@index"in d){if(!("@container"in d)||!g["@container"].includes("@index"))throw new i(`Invalid JSON-LD syntax; @index without @index in @container: "${d["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!s(d["@index"])||0===d["@index"].indexOf("@"))throw new i(`Invalid JSON-LD syntax; @index must expand to an IRI: "${d["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});g["@index"]=d["@index"]}if("@context"in d&&(g["@context"]=d["@context"]),"@language"in d&&!("@type"in d)){let e=d["@language"];if(null!==e&&!s(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),g["@language"]=e}if("@prefix"in d){if(r.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(b.isKeyword(g["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof d["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});g._prefix=!0===d["@prefix"]}if("@direction"in d){const e=d["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});g["@direction"]=e}if("@nest"in d){const e=d["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});g["@nest"]=e}const _=g["@id"];if("@context"===_||"@preserve"===_)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(f&&f.protected&&!u&&(e.protected[r]=!0,g.protected=!0,!m(f,g))){const e=l&&l.protectedMode||"error";if("error"===e)throw new i(`Invalid JSON-LD syntax; tried to redefine "${r}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:r});throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:e})}},b.expandIri=(e,t,r,n)=>y(e,t,r,void 0,void 0,n),b.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=g.get(t);if(r)return r;const i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},r=e.fastCurieMap={},n={},i=(e["@language"]||"@none").toLowerCase(),s=e["@direction"],l=e.mappings,c=[...l.keys()].sort(h);for(const e of c){const o=l.get(e);if(null===o)continue;let c=o["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===o["@id"])continue;const u=f(o["@id"]);for(const l of u){let u=t[l];const d=b.isKeyword(l);if(u)d||o._termHasColon||n[l].push(e);else if(t[l]=u={},!d&&!o._termHasColon){n[l]=[e];const t={iri:l,terms:n[l]};l[0]in r?r[l[0]].push(t):r[l[0]]=[t]}if(u[c]||(u[c]={"@language":{},"@type":{},"@any":{}}),u=u[c],a(e,u["@any"],"@none"),o.reverse)a(e,u["@type"],"@reverse");else if("@none"===o["@type"])a(e,u["@any"],"@none"),a(e,u["@language"],"@none"),a(e,u["@type"],"@none");else if("@type"in o)a(e,u["@type"],o["@type"]);else if("@language"in o&&"@direction"in o){const t=o["@language"],r=o["@direction"];a(e,u["@language"],t&&r?`${t}_${r}`.toLowerCase():t?t.toLowerCase():r?`_${r}`:"@null")}else"@language"in o?a(e,u["@language"],(o["@language"]||"@null").toLowerCase()):"@direction"in o?o["@direction"]?a(e,u["@language"],`_${o["@direction"]}`):a(e,u["@language"],"@none"):s?(a(e,u["@language"],`_${s}`),a(e,u["@language"],"@none"),a(e,u["@type"],"@none")):(a(e,u["@language"],i),a(e,u["@language"],"@none"),a(e,u["@type"],"@none"))}}for(const e in r)o(r,e,1);return t},clone:function(){const e={};return e.mappings=n.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=n.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===g.size&&g.clear(),g.set(t,i),i;function o(e,t,r){const n=e[t],i=e[t]={};let a,s;for(const e of n)a=e.iri,s=r>=a.length?"":a[r],s in i?i[s].push(e):i[s]=[e];for(const e in i)""!==e&&o(i,e,r+1)}function a(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},b.getContextValue=(e,t,r)=>{if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){const n=e.mappings.get(t);if(l(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in e||"@direction"===r&&r in e?e[r]:"@context"!==r?null:void 0},b.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,b.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},8831:(e,t,r)=>{"use strict";const{parseLinkHeader:n,buildHeaders:i}=r(1055),{LINK_HEADER_CONTEXT:o}=r(3770),a=r(4093),s=r(533),{prependBase:l}=r(2278),c=/(^|(\r\n))link:/i;e.exports=({secure:e,headers:t={},xhr:r}={headers:{}})=>(t=i(t),(new s).wrapLoader((async function i(s){if(0!==s.indexOf("http:")&&0!==s.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:s});if(e&&0!==s.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:s});let u;try{u=await function(e,t,r){const n=new(e=e||XMLHttpRequest);return new Promise(((e,i)=>{n.onload=()=>e(n),n.onerror=e=>i(e),n.open("GET",t,!0);for(const e in r)n.setRequestHeader(e,r[e]);n.send()}))}(r,s,t)}catch(e){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:s,cause:e})}if(u.status>=400)throw new a("URL could not be dereferenced: "+u.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:s,httpStatusCode:u.status});let d={contextUrl:null,documentUrl:s,document:u.response},f=null;const h=u.getResponseHeader("Content-Type");let g;if(c.test(u.getAllResponseHeaders())&&(g=u.getResponseHeader("Link")),g&&"application/ld+json"!==h){const e=n(g),t=e[o];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:s});t&&(d.contextUrl=t.target),f=e.alternate,f&&"application/ld+json"==f.type&&!(h||"").match(/^application\/(\w*\+)?json$/)&&(d=await i(l(s,f.target)))}return d})))},2759:(e,t,r)=>{"use strict";const n=r(4093),{isArray:i,isObject:o,isEmptyObject:a,isString:s,isUndefined:l}=r(832),{isList:c,isValue:u,isGraph:d,isSubject:f}=r(8463),{expandIri:h,getContextValue:g,isKeyword:p,process:b,processingMode:y}=r(4131),{isAbsolute:m}=r(2278),{addValue:A,asArray:v,getValues:_,validateTypeValue:w}=r(1055),P={};e.exports=P;const O=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function j({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:d,expandedParent:_,options:R={},insideList:S,typeKey:T,typeScopedContext:U,expansionMap:C}){const M=Object.keys(d).sort(),N=[];let E;const D=d[T]&&"@json"===h(e,i(d[T])?d[T][0]:d[T],{vocab:!0},R);for(const j of M){let T,M=d[j];if("@context"===j)continue;let k=h(e,j,{vocab:!0},R);if((null===k||!m(k)&&!p(k))&&(k=C({unmappedProperty:j,activeCtx:e,activeProperty:t,parent:d,options:R,insideList:S,value:M,expandedParent:_}),void 0===k))continue;if(p(k)){if("@reverse"===r)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:M});if(k in _&&"@included"!==k&&"@type"!==k)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:k})}if("@id"===k){if(!s(M)){if(!R.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:M});if(o(M)){if(!a(M))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:M})}else{if(!i(M))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:M});if(!M.every((e=>s(e))))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:M})}}A(_,"@id",v(M).map((t=>s(t)?h(e,t,{base:!0},R):t)),{propertyIsArray:R.isFrame});continue}if("@type"===k){o(M)&&(M=Object.fromEntries(Object.entries(M).map((([e,t])=>[h(U,e,{vocab:!0}),v(t).map((e=>h(U,e,{base:!0,vocab:!0})))])))),w(M,R.isFrame),A(_,"@type",v(M).map((e=>s(e)?h(U,e,{base:!0,vocab:!0},R):e)),{propertyIsArray:R.isFrame});continue}if("@included"===k&&y(e,1.1)){const r=v(await P.expand({activeCtx:e,activeProperty:t,element:M,options:R,expansionMap:C}));if(!r.every((e=>f(e))))throw new n("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:M});A(_,"@included",r,{propertyIsArray:!0});continue}if("@graph"===k&&!o(M)&&!i(M))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:M});if("@value"===k){E=M,D&&y(e,1.1)?_["@value"]=M:A(_,"@value",M,{propertyIsArray:R.isFrame});continue}if("@language"===k){if(null===M)continue;if(!s(M)&&!R.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:M});M=v(M).map((e=>s(e)?e.toLowerCase():e));for(const e of M)s(e)&&!e.match(O)&&console.warn(`@language must be valid BCP47: ${e}`);A(_,"@language",M,{propertyIsArray:R.isFrame});continue}if("@direction"===k){if(!s(M)&&!R.isFrame)throw new n('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:M});M=v(M);for(const e of M)if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new n('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:M});A(_,"@direction",M,{propertyIsArray:R.isFrame});continue}if("@index"===k){if(!s(M))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:M});A(_,"@index",M);continue}if("@reverse"===k){if(!o(M))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:M});if(T=await P.expand({activeCtx:e,activeProperty:"@reverse",element:M,options:R,expansionMap:C}),"@reverse"in T)for(const e in T["@reverse"])A(_,e,T["@reverse"][e],{propertyIsArray:!0});let t=_["@reverse"]||null;for(const e in T){if("@reverse"===e)continue;null===t&&(t=_["@reverse"]={}),A(t,e,[],{propertyIsArray:!0});const r=T[e];for(let i=0;i<r.length;++i){const o=r[i];if(u(o)||c(o))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:T});A(t,e,o,{propertyIsArray:!0})}}continue}if("@nest"===k){N.push(j);continue}let L=e;const F=g(e,j,"@context");l(F)||(L=await b({activeCtx:e,localCtx:F,propagate:!0,overrideProtected:!0,options:R}));const $=g(L,j,"@container")||[];if($.includes("@language")&&o(M))T=x(L,M,g(L,j,"@direction"),R);else if($.includes("@index")&&o(M)){const t=$.includes("@graph"),r=g(L,j,"@index")||"@index",n="@index"!==r&&h(e,r,{vocab:!0},R);T=await I({activeCtx:L,options:R,activeProperty:j,value:M,expansionMap:C,asGraph:t,indexKey:r,propertyIndex:n})}else if($.includes("@id")&&o(M)){const e=$.includes("@graph");T=await I({activeCtx:L,options:R,activeProperty:j,value:M,expansionMap:C,asGraph:e,indexKey:"@id"})}else if($.includes("@type")&&o(M))T=await I({activeCtx:L.revertToPreviousContext(),options:R,activeProperty:j,value:M,expansionMap:C,asGraph:!1,indexKey:"@type"});else{const n="@list"===k;if(n||"@set"===k){let e=t;n&&"@graph"===r&&(e=null),T=await P.expand({activeCtx:L,activeProperty:e,element:M,options:R,insideList:n,expansionMap:C})}else T="@json"===g(e,j,"@type")?{"@type":"@json","@value":M}:await P.expand({activeCtx:L,activeProperty:j,element:M,options:R,insideList:!1,expansionMap:C})}if(null!==T||"@value"===k||(T=C({unmappedValue:M,expandedProperty:k,activeCtx:L,activeProperty:t,parent:d,options:R,insideList:S,key:j,expandedParent:_}),void 0!==T))if("@list"!==k&&!c(T)&&$.includes("@list")&&(T={"@list":v(T)}),$.includes("@graph")&&!$.some((e=>"@id"===e||"@index"===e))&&(T=v(T).map((e=>({"@graph":v(e)})))),L.mappings.has(j)&&L.mappings.get(j).reverse){const e=_["@reverse"]=_["@reverse"]||{};T=v(T);for(let t=0;t<T.length;++t){const r=T[t];if(u(r)||c(r))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:T});A(e,k,r,{propertyIsArray:!0})}}else A(_,k,T,{propertyIsArray:!0})}if("@value"in _)if("@json"===_["@type"]&&y(e,1.1));else if((o(E)||i(E))&&!R.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:E});for(const a of N){const s=i(d[a])?d[a]:[d[a]];for(const i of s){if(!o(i)||Object.keys(i).some((t=>"@value"===h(e,t,{vocab:!0},R))))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await j({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:i,expandedParent:_,options:R,insideList:S,typeScopedContext:U,typeKey:T,expansionMap:C})}}}function R({activeCtx:e,activeProperty:t,value:r,options:n}){if(null==r)return null;const i=h(e,t,{vocab:!0},n);if("@id"===i)return h(e,r,{base:!0},n);if("@type"===i)return h(e,r,{vocab:!0,base:!0},n);const o=g(e,t,"@type");if(("@id"===o||"@graph"===i)&&s(r))return{"@id":h(e,r,{base:!0},n)};if("@vocab"===o&&s(r))return{"@id":h(e,r,{vocab:!0,base:!0},n)};if(p(i))return r;const a={};if(o&&!["@id","@vocab","@none"].includes(o))a["@type"]=o;else if(s(r)){const r=g(e,t,"@language");null!==r&&(a["@language"]=r);const n=g(e,t,"@direction");null!==n&&(a["@direction"]=n)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),a["@value"]=r,a}function x(e,t,r,o){const a=[],l=Object.keys(t).sort();for(const c of l){const l=h(e,c,{vocab:!0},o);let u=t[c];i(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!s(e))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==l&&(i["@language"]=c.toLowerCase()),r&&(i["@direction"]=r),a.push(i)}}return a}async function I({activeCtx:e,options:t,activeProperty:r,value:o,expansionMap:a,asGraph:s,indexKey:c,propertyIndex:f}){const p=[],y=Object.keys(o).sort(),m="@type"===c;for(let v of y){if(m){const r=g(e,v,"@context");l(r)||(e=await b({activeCtx:e,localCtx:r,propagate:!1,options:t}))}let y,_=o[v];i(_)||(_=[_]),_=await P.expand({activeCtx:e,activeProperty:r,element:_,options:t,insideList:!1,insideIndex:!0,expansionMap:a}),y=f?"@none"===v?"@none":R({activeCtx:e,activeProperty:c,value:v,options:t}):h(e,v,{vocab:!0},t),"@id"===c?v=h(e,v,{base:!0},t):m&&(v=y);for(let e of _){if(s&&!d(e)&&(e={"@graph":[e]}),"@type"===c)"@none"===y||(e["@type"]?e["@type"]=[v].concat(e["@type"]):e["@type"]=[v]);else{if(u(e)&&!["@language","@type","@index"].includes(c))throw new n(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${c}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});f?"@none"!==y&&A(e,f,y,{propertyIsArray:!0,prependValue:!0}):"@none"===y||c in e||(e[c]=v)}p.push(e)}}return p}P.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:c={},insideList:u=!1,insideIndex:d=!1,typeScopedContext:f=null,expansionMap:p=(()=>{})})=>{if(null==r)return null;if("@default"===t&&(c=Object.assign({},c,{isFrame:!1})),!i(r)&&!o(r)){if(!u&&(null===t||"@graph"===h(e,t,{vocab:!0},c))){const n=await p({unmappedValue:r,activeCtx:e,activeProperty:t,options:c,insideList:u});return void 0===n?null:n}return R({activeCtx:e,activeProperty:t,value:r,options:c})}if(i(r)){let n=[];const o=g(e,t,"@container")||[];u=u||o.includes("@list");for(let o=0;o<r.length;++o){let a=await P.expand({activeCtx:e,activeProperty:t,element:r[o],options:c,expansionMap:p,insideIndex:d,typeScopedContext:f});u&&i(a)&&(a={"@list":a}),null===a&&(a=await p({unmappedValue:r[o],activeCtx:e,activeProperty:t,parent:r,index:o,options:c,expandedParent:n,insideList:u}),void 0===a)||(i(a)?n=n.concat(a):n.push(a))}return n}const A=h(e,t,{vocab:!0},c),w=g(e,t,"@context");f=f||(e.previousContext?e:null);let O=Object.keys(r).sort(),x=!d;if(x&&f&&O.length<=2&&!O.includes("@context"))for(const t of O){const r=h(f,t,{vocab:!0},c);if("@value"===r){x=!1,e=f;break}if("@id"===r&&1===O.length){x=!1;break}}x&&(e=e.revertToPreviousContext()),l(w)||(e=await b({activeCtx:e,localCtx:w,propagate:!0,overrideProtected:!0,options:c})),"@context"in r&&(e=await b({activeCtx:e,localCtx:r["@context"],options:c})),f=e;let I=null;for(const t of O)if("@type"===h(e,t,{vocab:!0},c)){I=I||t;const n=r[t],i=Array.isArray(n)?n.length>1?n.slice().sort():n:[n];for(const t of i){const r=g(f,t,"@context");l(r)||(e=await b({activeCtx:e,localCtx:r,options:c,propagate:!1}))}}let S={};await j({activeCtx:e,activeProperty:t,expandedActiveProperty:A,element:r,expandedParent:S,options:c,insideList:u,typeKey:I,typeScopedContext:f,expansionMap:p}),O=Object.keys(S);let T=O.length;if("@value"in S){if("@type"in S&&("@language"in S||"@direction"in S))throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:S});let i=T-1;if("@type"in S&&(i-=1),"@index"in S&&(i-=1),"@language"in S&&(i-=1),"@direction"in S&&(i-=1),0!==i)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:S});const o=null===S["@value"]?[]:v(S["@value"]),l=_(S,"@type");if(y(e,1.1)&&l.includes("@json")&&1===l.length);else if(0===o.length){const n=await p({unmappedValue:S,activeCtx:e,activeProperty:t,element:r,options:c,insideList:u});S=void 0!==n?n:null}else{if(!o.every((e=>s(e)||a(e)))&&"@language"in S)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:S});if(!l.every((e=>m(e)&&!(s(e)&&0===e.indexOf("_:"))||a(e))))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:S})}}else if("@type"in S&&!i(S["@type"]))S["@type"]=[S["@type"]];else if("@set"in S||"@list"in S){if(T>1&&(2!==T||!("@index"in S)))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:S});"@set"in S&&(S=S["@set"],O=Object.keys(S),T=O.length)}else if(1===T&&"@language"in S){const n=await p(S,{unmappedValue:S,activeCtx:e,activeProperty:t,element:r,options:c,insideList:u});S=void 0!==n?n:null}if(o(S)&&!c.keepFreeFloatingNodes&&!u&&(null===t||"@graph"===A)&&(0===T||"@value"in S||"@list"in S||1===T&&"@id"in S)){const n=await p({unmappedValue:S,activeCtx:e,activeProperty:t,element:r,options:c,insideList:u});S=void 0!==n?n:null}return S}},1565:(e,t,r)=>{"use strict";const{isSubjectReference:n}=r(8463),{createMergedNodeMap:i}=r(2664),o={};e.exports=o,o.flatten=e=>{const t=i(e),r=[],o=Object.keys(t).sort();for(let e=0;e<o.length;++e){const i=t[o[e]];n(i)||r.push(i)}return r}},3859:(e,t,r)=>{"use strict";const{isKeyword:n}=r(4131),i=r(8463),o=r(832),a=r(1055),s=r(2278),l=r(4093),{createNodeMap:c,mergeNodeMapGraphs:u}=r(2664),d={};function f(e){const t={};for(const r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function h(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function g(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];if("embed"===r)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function p(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new l("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of a.asArray(e[0]["@id"]))if(!o.isObject(t)&&!s.isAbsolute(t)||o.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of a.asArray(e[0]["@type"]))if(!o.isObject(t)&&!s.isAbsolute(t)||o.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function b(e,t,r,s){let l=!0,c=!1;for(const u in r){let d=!1;const f=a.getValues(t,u),h=0===a.getValues(r,u).length;if("@id"===u){if(o.isEmptyObject(r["@id"][0]||{})?d=!0:r["@id"].length>=0&&(d=r["@id"].includes(f[0])),!s.requireAll)return d}else if("@type"===u){if(l=!1,h){if(f.length>0)return!1;d=!0}else if(1===r["@type"].length&&o.isEmptyObject(r["@type"][0]))d=f.length>0;else for(const e of r["@type"])d=!(!o.isObject(e)||!("@default"in e))||d||f.some((t=>t===e));if(!s.requireAll)return d}else{if(n(u))continue;{const t=a.getValues(r,u)[0];let n=!1;if(t&&(p([t]),n="@default"in t),l=!1,0===f.length&&n)continue;if(f.length>0&&h)return!1;if(void 0===t){if(f.length>0)return!1;d=!0}else if(i.isList(t)){const r=t["@list"][0];if(i.isList(f[0])){const t=f[0]["@list"];i.isValue(r)?d=t.some((e=>_(r,e))):(i.isSubject(r)||i.isSubjectReference(r))&&(d=t.some((t=>v(e,r,t,s))))}}else d=i.isValue(t)?f.some((e=>_(t,e))):i.isSubjectReference(t)?f.some((r=>v(e,t,r,s))):!!o.isObject(t)&&f.length>0}}if(!d&&s.requireAll)return!1;c=c||d}return l||c}function y(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,s=n.property,l={"@id":t};if(o.isArray(i)){for(let e=0;e<i.length;++e)if(a.compareValues(i[e],l)){i[e]=l;break}}else{const e=o.isArray(i[s]);a.removeValue(i,s,l,{propertyIsArray:e}),a.addValue(i,s,l,{propertyIsArray:e})}const c=e=>{const t=Object.keys(r);for(const n of t)n in r&&o.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],c(n))};c(t)}function m(e,t){if(o.isArray(e))return e.map((e=>m(e,t)));if(o.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(i.isValue(e))return e;if(i.isList(e))return e["@list"]=m(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)"@id"===r&&t.bnodesToClear.includes(e[r])?delete e["@id"]:e[r]=m(e[r],t)}return e}function A(e,t,r){o.isObject(e)?a.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function v(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&b(e,i,t,n)}function _(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],a=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],l=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===l.length||!(!a.includes(r)&&!o.isEmptyObject(a[0]))&&!!(!n&&0===s.length||s.includes(n)||n&&o.isEmptyObject(s[0]))&&!!(!i&&0===l.length||l.includes(i)||i&&o.isEmptyObject(l[0]))}e.exports=d,d.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new a.IdentifierIssuer("_:b");c(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=u(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];return d.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter((e=>1===n.bnodeMap[e].length))),r.link={},m(o,r)},d.frame=(e,t,r,s,c=null)=>{p(r),r=r[0];const u=e.options,m={embed:g(r,u,"embed"),explicit:g(r,u,"explicit"),requireAll:g(r,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const v=e.link[e.graph],w=function(e,t,r,n){const i={};for(const o of t){const t=e.graphMap[e.graph][o];b(e,t,r,n)&&(i[o]=t)}return i}(e,t,r,m),P=Object.keys(w).sort();for(const p of P){const b=w[p];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===m.embed&&p in v){A(s,c,v[p]);continue}const P={"@id":p};if(0===p.indexOf("_:")&&a.addValue(e.bnodeMap,p,P,{propertyIsArray:!0}),v[p]=P,("@first"===m.embed||"@last"===m.embed)&&e.is11)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(p))if(!e.embedded||"@never"!==m.embed&&!h(b,e.graph,e.subjectStack))if(!e.embedded||"@first"!=m.embed&&"@once"!=m.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(p)){if("@last"===m.embed&&p in e.uniqueEmbeds[e.graph]&&y(e,p),e.uniqueEmbeds[e.graph][p]={parent:s,property:c},e.subjectStack.push({subject:b,graph:e.graph}),p in e.graphMap){let t=!1,n=null;"@graph"in r?(n=r["@graph"][0],t=!("@merged"===p||"@default"===p),o.isObject(n)||(n={})):(t="@merged"!==e.graph,n={}),t&&d.frame({...e,graph:p,embedded:!1},Object.keys(e.graphMap[p]).sort(),[n],P,"@graph")}"@included"in r&&d.frame({...e,embedded:!1},t,r["@included"],P,"@included");for(const t of Object.keys(b).sort())if(n(t)){if(P[t]=a.clone(b[t]),"@type"===t)for(const t of b["@type"])0===t.indexOf("_:")&&a.addValue(e.bnodeMap,t,P,{propertyIsArray:!0})}else if(!m.explicit||t in r)for(const n of b[t]){const o=t in r?r[t]:f(m);if(i.isList(n)){const o=r[t]&&r[t][0]&&r[t][0]["@list"]?r[t][0]["@list"]:f(m),s={"@list":[]};A(P,t,s);const l=n["@list"];for(const t of l)i.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],o,s,"@list"):A(s,"@list",a.clone(t))}else i.isSubjectReference(n)?d.frame({...e,embedded:!0},[n["@id"]],o,P,t):_(o[0],n)&&A(P,t,a.clone(n))}for(const e of Object.keys(r).sort()){if("@type"===e){if(!o.isObject(r[e][0])||!("@default"in r[e][0]))continue}else if(n(e))continue;const t=r[e][0]||{};if(!g(t,u,"omitDefault")&&!(e in P)){let r="@null";"@default"in t&&(r=a.clone(t["@default"])),o.isArray(r)||(r=[r]),P[e]=[{"@preserve":r}]}}for(const t of Object.keys(r["@reverse"]||{}).sort()){const n=r["@reverse"][t];for(const r of Object.keys(e.subjects))a.getValues(e.subjects[r],t).some((e=>e["@id"]===p))&&(P["@reverse"]=P["@reverse"]||{},a.addValue(P["@reverse"],t,[],{propertyIsArray:!0}),d.frame({...e,embedded:!0},[r],n,P["@reverse"][t],c))}A(s,c,P),e.subjectStack.pop()}else A(s,c,P);else A(s,c,P)}},d.cleanupNull=(e,t)=>{if(o.isArray(e))return e.map((e=>d.cleanupNull(e,t))).filter((e=>e));if("@null"===e)return null;if(o.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=d.cleanupNull(e[r],t)}return e}},5076:(e,t,r)=>{"use strict";const n=r(4093),i=r(8463),o=r(832),a=r(1055),{RDF_LIST:s,RDF_FIRST:l,RDF_REST:c,RDF_NIL:u,RDF_TYPE:d,RDF_JSON_LITERAL:f,XSD_BOOLEAN:h,XSD_DOUBLE:g,XSD_INTEGER:p,XSD_STRING:b}=r(3770),y=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,m={};function A(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)i["@language"]=e.language;else{let a=e.datatype.value;if(a||(a=b),a===f){a="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(e){throw new n("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:e})}}if(t){if(a===h)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(o.isNumeric(i["@value"]))if(a===p){const e=parseInt(i["@value"],10);e.toFixed(0)===i["@value"]&&(i["@value"]=e)}else a===g&&(i["@value"]=parseFloat(i["@value"]));[h,p,g,b].includes(a)||(i["@type"]=a)}else if("i18n-datatype"===r&&a.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=a.split(/[#_]/);e.length>0&&(i["@language"]=e,e.match(y)||console.warn(`@language must be valid BCP47: ${e}`)),i["@direction"]=t}else a!==b&&(i["@type"]=a)}return i}e.exports=m,m.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:r=!1,rdfDirection:n=null})=>{const f={},h={"@default":f},g={};for(const i of e){const e="DefaultGraph"===i.graph.termType?"@default":i.graph.value;e in h||(h[e]={}),"@default"===e||e in f||(f[e]={"@id":e});const o=h[e],s=i.subject.value,l=i.predicate.value,c=i.object;s in o||(o[s]={"@id":s});const p=o[s],b=c.termType.endsWith("Node");if(b&&!(c.value in o)&&(o[c.value]={"@id":c.value}),l===d&&!t&&b){a.addValue(p,"@type",c.value,{propertyIsArray:!0});continue}const y=A(c,r,n);if(a.addValue(p,l,y,{propertyIsArray:!0}),b)if(c.value===u){const e=o[c.value];"usages"in e||(e.usages=[]),e.usages.push({node:p,property:l,value:y})}else c.value in g?g[c.value]=!1:g[c.value]={node:p,property:l,value:y}}for(const e in h){const t=h[e];if(!(u in t))continue;const r=t[u];if(r.usages){for(let e of r.usages){let r=e.node,n=e.property,a=e.value;const u=[],d=[];let f=Object.keys(r).length;for(;n===c&&o.isObject(g[r["@id"]])&&o.isArray(r[l])&&1===r[l].length&&o.isArray(r[c])&&1===r[c].length&&(3===f||4===f&&o.isArray(r["@type"])&&1===r["@type"].length&&r["@type"][0]===s)&&(u.push(r[l][0]),d.push(r["@id"]),e=g[r["@id"]],r=e.node,n=e.property,a=e.value,f=Object.keys(r).length,i.isBlankNode(r)););delete a["@id"],a["@list"]=u.reverse();for(const e of d)delete t[e]}delete r.usages}}const p=[],b=Object.keys(f).sort();for(const e of b){const t=f[e];if(e in h){const r=t["@graph"]=[],n=h[e],o=Object.keys(n).sort();for(const e of o){const t=n[e];i.isSubjectReference(t)||r.push(t)}}i.isSubjectReference(t)||p.push(t)}return p}},8463:(e,t,r)=>{"use strict";const n=r(832),i={};e.exports=i,i.isSubject=e=>!(!n.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e)),i.isSubjectReference=e=>n.isObject(e)&&1===Object.keys(e).length&&"@id"in e,i.isValue=e=>n.isObject(e)&&"@value"in e,i.isList=e=>n.isObject(e)&&"@list"in e,i.isGraph=e=>n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,i.isSimpleGraph=e=>i.isGraph(e)&&!("@id"in e),i.isBlankNode=e=>!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},6805:(e,t,r)=>{const n=r(7055),i=r(7222),o=r(1055),a=r(8058),s=o.IdentifierIssuer,l=r(4093),c=r(9593),u=r(9048),{expand:d}=r(2759),{flatten:f}=r(1565),{fromRDF:h}=r(5076),{toRDF:g}=r(9382),{frameMergedOrDefault:p,cleanupNull:b}=r(3859),{isArray:y,isObject:m,isString:A}=r(832),{isSubjectReference:v}=r(8463),{expandIri:_,getInitialContext:w,process:P,processingMode:O}=r(4131),{compact:j,compactIri:R}=r(3251),{createNodeMap:x,createMergedNodeMap:I,mergeNodeMaps:S}=r(2664),T=function(e){const t={},T=new c({max:100});function U(t,{documentLoader:r=e.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,t)}return e.compact=async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===r)throw new l("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let i;(n=U(n,{base:A(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new a({sharedCache:T})})).link&&(n.skipExpansion=!0),n.compactToRelative||delete n.base,i=n.skipExpansion?t:await e.expand(t,n);const c=await e.processContext(w(n),r,n);let u=await j({activeCtx:c,element:i,options:n,compactionMap:n.compactionMap});n.compactArrays&&!n.graph&&y(u)?1===u.length?u=u[0]:0===u.length&&(u={}):n.graph&&m(u)&&(u=[u]),m(r)&&"@context"in r&&(r=r["@context"]),r=o.clone(r),y(r)||(r=[r]);const d=r;r=[];for(let e=0;e<d.length;++e)(!m(d[e])||Object.keys(d[e]).length>0)&&r.push(d[e]);const f=r.length>0;if(1===r.length&&(r=r[0]),y(u)){const e=R({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=u;u={},f&&(u["@context"]=r),u[e]=t}else if(m(u)&&f){const e=u;u={"@context":r};for(const t in e)u[t]=e[t]}return u},e.expand=async function(t,r){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(r=U(r,{keepFreeFloatingNodes:!1,contextResolver:new a({sharedCache:T})})).expansionMap&&(r.expansionMap=void 0);const n={},i=[];if("expandContext"in r){const e=o.clone(r.expandContext);m(e)&&"@context"in e?n.expandContext=e:n.expandContext={"@context":e},i.push(n.expandContext)}let s;if(A(t)){const o=await e.get(t,r);s=o.documentUrl,n.input=o.document,o.contextUrl&&(n.remoteContext={"@context":o.contextUrl},i.push(n.remoteContext))}else n.input=o.clone(t);"base"in r||(r.base=s||"");let l=w(r);for(const e of i)l=await P({activeCtx:l,localCtx:e,options:r});let c=await d({activeCtx:l,element:n.input,options:r,expansionMap:r.expansionMap});return m(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),y(c)||(c=[c]),c},e.flatten=async function(t,r,n){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");r="function"==typeof r?null:r||null,n=U(n,{base:A(t)?t:"",contextResolver:new a({sharedCache:T})});const i=await e.expand(t,n),o=f(i);if(null===r)return o;n.graph=!0,n.skipExpansion=!0;const s=await e.compact(o,r,n);return s},e.frame=async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(n=U(n,{base:A(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new a({sharedCache:T})}),A(r)){const t=await e.get(r,n);if(r=t.document,t.contextUrl){let e=r["@context"];e?y(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,r["@context"]=e}}const i=r&&r["@context"]||{},o=await e.processContext(w(n),i,n);n.hasOwnProperty("omitGraph")||(n.omitGraph=O(o,1.1)),n.hasOwnProperty("pruneBlankNodeIdentifiers")||(n.pruneBlankNodeIdentifiers=O(o,1.1));const s=await e.expand(t,n),l={...n};l.isFrame=!0,l.keepFreeFloatingNodes=!0;const c=await e.expand(r,l),u=Object.keys(r).map((e=>_(o,e,{vocab:!0})));l.merged=!u.includes("@graph"),l.is11=O(o,1.1);const d=p(s,c,l);l.graph=!n.omitGraph,l.skipExpansion=!0,l.link={},l.framing=!0;let f=await e.compact(d,i,l);return l.link={},f=b(f,l),f},e.link=async function(t,r,n){const i={};return r&&(i["@context"]=r),i["@embed"]="@link",e.frame(t,i,n)},e.normalize=e.canonize=async function(t,r){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(r=U(r,{base:A(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new a({sharedCache:T})}))){if("application/n-quads"!==r.inputFormat&&"application/nquads"!==r.inputFormat)throw new l("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u.parse(t);return n.canonize(e,r)}const i={...r};delete i.format,i.produceGeneralizedRdf=!1;const o=await e.toRDF(t,i);return n.canonize(o,r)},e.fromRDF=async function(e,r){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");r=U(r,{format:A(e)?"application/n-quads":void 0});const{format:n}=r;let{rdfParser:i}=r;if(n){if(i=i||t[n],!i)throw new l("Unknown input format.","jsonld.UnknownFormat",{format:n})}else i=()=>e;const o=await i(e);return h(o,r)},e.toRDF=async function(t,r){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let n;n=(r=U(r,{base:A(t)?t:"",skipExpansion:!1,contextResolver:new a({sharedCache:T})})).skipExpansion?t:await e.expand(t,r);const i=g(n,r);if(r.format){if("application/n-quads"===r.format||"application/nquads"===r.format)return u.serialize(i);throw new l("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}return i},e.createNodeMap=async function(t,r){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");r=U(r,{base:A(t)?t:"",contextResolver:new a({sharedCache:T})});const n=await e.expand(t,r);return I(n,r)},e.merge=async function(t,r,n){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!y(t))throw new TypeError('Could not merge, "docs" must be an array.');r="function"==typeof r?null:r||null,n=U(n,{contextResolver:new a({sharedCache:T})});const i=await Promise.all(t.map((t=>{const r={...n};return e.expand(t,r)})));let l=!0;"mergeNodes"in n&&(l=n.mergeNodes);const c=n.issuer||new s("_:b"),u={"@default":{}};for(let e=0;e<i.length;++e){const t=o.relabelBlankNodes(i[e],{issuer:new s("_:b"+e+"-")}),r=l||0===e?u:{"@default":{}};if(x(t,r,"@default",c),r!==u)for(const e in r){const t=r[e];if(!(e in u)){u[e]=t;continue}const n=u[e];for(const e in t)e in n||(n[e]=t[e])}}const d=S(u),f=[],h=Object.keys(d).sort();for(let e=0;e<h.length;++e){const t=d[h[e]];v(t)||f.push(t)}if(null===r)return f;n.graph=!0,n.skipExpansion=!0;const g=await e.compact(f,r,n);return g},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new l("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,r){let n;n="function"==typeof r.documentLoader?r.documentLoader:e.documentLoader;const i=await n(t);try{if(!i.document)throw new l("No remote document found at the given URL.","jsonld.NullRemoteDocument");A(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new l("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i},e.processContext=async function(e,t,r){return r=U(r,{base:"",contextResolver:new a({sharedCache:T})}),null===t?w(r):(t=o.clone(t),m(t)&&"@context"in t||(t={"@context":t}),P({activeCtx:e,localCtx:t,options:r}))},e.getContextValue=r(4131).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new l('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.url=r(2278),e.util=o,Object.assign(e,o),e.promises=e,e.RequestQueue=r(533),e.JsonLdProcessor=r(731)(e),i.setupGlobals(e),i.setupDocumentLoaders(e),e},U=function(){return T((function(){return U()}))};T(U),e.exports=U},2664:(e,t,r)=>{"use strict";const{isKeyword:n}=r(4131),i=r(8463),o=r(832),a=r(1055),s=r(4093),l={};e.exports=l,l.createMergedNodeMap=(e,t)=>{const r=(t=t||{}).issuer||new a.IdentifierIssuer("_:b"),n={"@default":{}};return l.createNodeMap(e,n,"@default",r),l.mergeNodeMaps(n)},l.createNodeMap=(e,t,r,c,u,d)=>{if(o.isArray(e)){for(const n of e)l.createNodeMap(n,t,r,c,void 0,d);return}if(!o.isObject(e))return void(d&&d.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(d&&d.push(e))}if(d&&i.isList(e)){const n=[];return l.createNodeMap(e["@list"],t,r,c,u,n),void d.push({"@list":n})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&c.getId(e)}o.isUndefined(u)&&(u=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),d&&d.push({"@id":u});const f=t[r],h=f[u]=f[u]||{};h["@id"]=u;const g=Object.keys(e).sort();for(let o of g){if("@id"===o)continue;if("@reverse"===o){const n={"@id":u},o=e["@reverse"];for(const e in o){const s=o[e];for(const o of s){let s=o["@id"];i.isBlankNode(o)&&(s=c.getId(s)),l.createNodeMap(o,t,r,c,s),a.addValue(f[s],e,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){u in t||(t[u]={}),l.createNodeMap(e[o],t,u,c);continue}if("@included"===o){l.createNodeMap(e[o],t,r,c);continue}if("@type"!==o&&n(o)){if("@index"===o&&o in h&&(e[o]!==h[o]||e[o]["@id"]!==h[o]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[o]=e[o];continue}const d=e[o];if(0===o.indexOf("_:")&&(o=c.getId(o)),0!==d.length)for(let e of d)if("@type"===o&&(e=0===e.indexOf("_:")?c.getId(e):e),i.isSubject(e)||i.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const n=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"];a.addValue(h,o,{"@id":n},{propertyIsArray:!0,allowDuplicate:!1}),l.createNodeMap(e,t,r,c,n)}else if(i.isValue(e))a.addValue(h,o,e,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(e)){const n=[];l.createNodeMap(e["@list"],t,r,c,u,n),e={"@list":n},a.addValue(h,o,e,{propertyIsArray:!0,allowDuplicate:!1})}else l.createNodeMap(e,t,r,c,u),a.addValue(h,o,e,{propertyIsArray:!0,allowDuplicate:!1});else a.addValue(h,o,[],{propertyIsArray:!0})}},l.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const i of Object.keys(e[r]).sort()){const o=e[r][i];i in t||(t[i]={"@id":i});const s=t[i];for(const e of Object.keys(o).sort())if(n(e)&&"@type"!==e)s[e]=a.clone(o[e]);else for(const t of o[e])a.addValue(s,e,a.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},l.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if("@default"===n)continue;const r=e[n];let o=t[n];o?"@graph"in o||(o["@graph"]=[]):t[n]=o={"@id":n,"@graph":[]};const a=o["@graph"];for(const e of Object.keys(r).sort()){const t=r[e];i.isSubjectReference(t)||a.push(t)}}return t}},7222:(e,t,r)=>{"use strict";const n=r(8831),i={};e.exports=i,i.setupDocumentLoaders=function(e){"undefined"!=typeof XMLHttpRequest&&(e.documentLoaders.xhr=n,e.useDocumentLoader("xhr"))},i.setupGlobals=function(e){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},9382:(e,t,r)=>{"use strict";const{createNodeMap:n}=r(2664),{isKeyword:i}=r(4131),o=r(8463),a=r(5456),s=r(832),l=r(1055),{RDF_FIRST:c,RDF_REST:u,RDF_NIL:d,RDF_TYPE:f,RDF_JSON_LITERAL:h,RDF_LANGSTRING:g,XSD_BOOLEAN:p,XSD_DOUBLE:b,XSD_INTEGER:y,XSD_STRING:m}=r(3770),{isAbsolute:A}=r(2278),v={};function _(e,t,r,n,o){const a=Object.keys(t).sort();for(const s of a){const a=t[s],l=Object.keys(a).sort();for(let t of l){const l=a[t];if("@type"===t)t=f;else if(i(t))continue;for(const i of l){const a={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!A(s))continue;const l={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!A(t))continue;if("BlankNode"===l.termType&&!o.produceGeneralizedRdf)continue;const c=w(i,n,e,r,o.rdfDirection);c&&e.push({subject:a,predicate:l,object:c,graph:r})}}}}function w(e,t,r,n,i){const l={};if(o.isValue(e)){l.termType="Literal",l.value=void 0,l.datatype={termType:"NamedNode"};let t=e["@value"];const r=e["@type"]||null;if("@json"===r)l.value=a(t),l.datatype.value=h;else if(s.isBoolean(t))l.value=t.toString(),l.datatype.value=r||p;else if(s.isDouble(t)||r===b)s.isDouble(t)||(t=parseFloat(t)),l.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),l.datatype.value=r||b;else if(s.isNumber(t))l.value=t.toFixed(0),l.datatype.value=r||y;else if("i18n-datatype"===i&&"@direction"in e){const r="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+`_${e["@direction"]}`;l.datatype.value=r,l.value=t}else"@language"in e?(l.value=t,l.datatype.value=r||g,l.language=e["@language"]):(l.value=t,l.datatype.value=r||m)}else if(o.isList(e)){const o=function(e,t,r,n,i){const o={termType:"NamedNode",value:c},a={termType:"NamedNode",value:u},s={termType:"NamedNode",value:d},l=e.pop(),f=l?{termType:"BlankNode",value:t.getId()}:s;let h=f;for(const s of e){const e=w(s,t,r,n,i),l={termType:"BlankNode",value:t.getId()};r.push({subject:h,predicate:o,object:e,graph:n}),r.push({subject:h,predicate:a,object:l,graph:n}),h=l}if(l){const e=w(l,t,r,n,i);r.push({subject:h,predicate:o,object:e,graph:n}),r.push({subject:h,predicate:a,object:s,graph:n})}return f}(e["@list"],t,r,n,i);l.termType=o.termType,l.value=o.value}else{const t=s.isObject(e)?e["@id"]:e;l.termType=t.startsWith("_:")?"BlankNode":"NamedNode",l.value=t}return"NamedNode"!==l.termType||A(l.value)?l:null}e.exports=v,v.toRDF=(e,t)=>{const r=new l.IdentifierIssuer("_:b"),i={"@default":{}};n(e,i,"@default",r);const o=[],a=Object.keys(i).sort();for(const e of a){let n;if("@default"===e)n={termType:"DefaultGraph",value:""};else{if(!A(e))continue;n=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},n.value=e}_(o,i[e],n,r,t)}return o}},832:e=>{"use strict";const t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),t.isDouble=e=>t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&0===Object.keys(e).length,t.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),t.isUndefined=e=>void 0===e},2278:(e,t,r)=>{"use strict";const n=r(832),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(e,t)=>{const r={},n=i.parsers[t||"full"],o=n.regex.exec(e);let a=n.keys.length;for(;a--;)r[n.keys[a]]=void 0===o[a]?null:o[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=i.removeDotSegments(r.path),r},i.prependBase=(e,t)=>{if(null===e)return t;if(i.isAbsolute(t))return t;e&&!n.isString(e)||(e=i.parse(e||""));const r=i.parse(t),o={protocol:e.protocol||""};if(null!==r.authority)o.authority=r.authority,o.path=r.path,o.query=r.query;else if(o.authority=e.authority,""===r.path)o.path=e.path,null!==r.query?o.query=r.query:o.query=e.query;else{if(0===r.path.indexOf("/"))o.path=r.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,o.path=t}o.query=r.query}""!==r.path&&(o.path=i.removeDotSegments(o.path));let a=o.protocol;return null!==o.authority&&(a+="//"+o.authority),a+=o.path,null!==o.query&&(a+="?"+o.query),null!==r.fragment&&(a+="#"+r.fragment),""===a&&(a="./"),a},i.removeBase=(e,t)=>{if(null===e)return t;e&&!n.isString(e)||(e=i.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;const o=i.parse(t.substr(r.length)),a=e.normalizedPath.split("/"),s=o.normalizedPath.split("/"),l=o.fragment||o.query?0:1;for(;a.length>0&&s.length>l&&a[0]===s[0];)a.shift(),s.shift();let c="";if(a.length>0){a.pop();for(let e=0;e<a.length;++e)c+="../"}return c+=s.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},i.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),r=[];for(;t.length>0;){const e=t.shift(),n=0===t.length;"."!==e?".."!==e?r.push(e):(r.pop(),n&&r.push("")):n&&r.push("")}return"/"===e[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=e=>n.isString(e)&&o.test(e),i.isRelative=e=>n.isString(e)},1055:(e,t,r)=>{"use strict";const n=r(8463),i=r(832),o=r(7055).IdentifierIssuer,a=r(4093),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,l=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u="application/ld+json, application/json",d={};function f(e,t){if(i.isArray(t))for(let r=0;r<t.length;++r)t[r]=f(e,t[r]);else if(n.isList(t))t["@list"]=f(e,t["@list"]);else if(i.isObject(t)){n.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];"@id"!==i&&(t[i]=f(e,t[i]))}}return t}e.exports=d,d.IdentifierIssuer=o,d.clone=function(e){if(e&&"object"==typeof e){let t;if(i.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=d.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,d.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(d.clone(r))}else if(i.isObject(e)){t={};for(const r in e)t[r]=d.clone(e[r])}else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=(e={})=>{if(Object.keys(e).some((e=>"accept"===e.toLowerCase())))throw new RangeError('Accept header may not be specified; only "'+u+'" is supported.');return Object.assign({Accept:u},e)},d.parseLinkHeader=e=>{const t={},r=e.match(s);for(let e=0;e<r.length;++e){let n=r[e].match(l);if(!n)continue;const i={target:n[1]},o=n[2];for(;n=c.exec(o);)i[n[1]]=void 0===n[2]?n[3]:n[2];const a=i.rel||"";Array.isArray(t[a])?t[a].push(i):t.hasOwnProperty(a)?t[a]=[t[a],i]:t[a]=i}return t},d.validateTypeValue=(e,t)=>{if(!(i.isString(e)||i.isArray(e)&&e.every((e=>i.isString(e))))){if(t&&i.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every((e=>i.isString(e))))return}throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!i.isArray(r)||r.length>0}return!1},d.hasValue=(e,t,r)=>{if(d.hasProperty(e,t)){let o=e[t];const a=n.isList(o);if(i.isArray(o)||a){a&&(o=o["@list"]);for(let e=0;e<o.length;++e)if(d.compareValues(r,o[e]))return!0}else if(!i.isArray(r))return d.compareValues(r,o)}return!1},d.addValue=(e,t,r,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(i.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)d.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const o=!n.allowDuplicate&&d.hasValue(e,t,r);i.isArray(e[t])||o&&!n.propertyIsArray||(e[t]=[e[t]]),o||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},d.getValues=(e,t)=>[].concat(e[t]||[]),d.removeProperty=(e,t)=>{delete e[t]},d.removeValue=(e,t,r,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);const i=d.getValues(e,t).filter((e=>!d.compareValues(e,r)));0===i.length?d.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},d.relabelBlankNodes=(e,t)=>f((t=t||{}).issuer||new o("_:b"),e),d.compareValues=(e,t)=>e===t||!(!n.isValue(e)||!n.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"],d.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},9593:(e,t,r)=>{"use strict";const n=r(4411),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),h=Symbol("updateAgeOnGet"),g=()=>1,p=(e,t,r)=>{const n=e[f].get(t);if(n){const t=n.value;if(b(e,t)){if(m(e,n),!e[s])return}else r&&(e[h]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},b=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},y=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){const r=t.prev;m(e,t),t=r}},m=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[o]-=r.length,e[f].delete(r.key),e[d].removeNode(t)}};class A{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const v=(e,t,r,n)=>{let i=r.value;b(e,i)&&(m(e,r),e[s]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||g;if(this[a]="function"!=typeof t?g:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,y(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,y(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=g),e!==this[a]&&(this[a]=e,this[o]=0,this[d].forEach((e=>{e.length=this[a](e.value,e.key),this[o]+=e.length}))),y(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){const n=r.prev;v(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){const n=r.next;v(this,e,r,t),r=n}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach((e=>this[c](e.key,e.value))),this[f]=new Map,this[d]=new n,this[o]=0}dump(){return this[d].map((e=>!b(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[a](t,e);if(this[f].has(e)){if(s>this[i])return m(this,this[f].get(e)),!1;const a=this[f].get(e).value;return this[c]&&(this[u]||this[c](e,a.value)),a.now=n,a.maxAge=r,a.value=t,this[o]+=s-a.length,a.length=s,this.get(e),y(this),!0}const h=new A(e,t,s,n,r);return h.length>this[i]?(this[c]&&this[c](e,t),!1):(this[o]+=h.length,this[d].unshift(h),this[f].set(e,this[d].head),y(this),!0)}has(e){if(!this[f].has(e))return!1;const t=this[f].get(e).value;return!b(this,t)}get(e){return p(this,e,!0)}peek(e){return p(this,e,!1)}pop(){const e=this[d].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[f].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[f].forEach(((e,t)=>p(this,t,!1)))}}},1657:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BlankNode:()=>D,DataFactory:()=>C,DefaultGraph:()=>L,Lexer:()=>b,Literal:()=>E,NamedNode:()=>N,Parser:()=>q,Quad:()=>B,Store:()=>ae,StreamParser:()=>ce,StreamWriter:()=>ue,Term:()=>M,Triple:()=>B,Util:()=>n,Variable:()=>k,Writer:()=>re,default:()=>de,termFromId:()=>F,termToId:()=>$});var n={};r.r(n),r.d(n,{inDefaultGraph:()=>w,isBlankNode:()=>m,isDefaultGraph:()=>_,isLiteral:()=>A,isNamedNode:()=>y,isVariable:()=>v,prefix:()=>P,prefixes:()=>O});const i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o="http://www.w3.org/2001/XMLSchema#",a="http://www.w3.org/2000/10/swap/",s={xsd:{decimal:`${o}decimal`,boolean:`${o}boolean`,double:`${o}double`,integer:`${o}integer`,string:`${o}string`},rdf:{type:`${i}type`,nil:`${i}nil`,first:`${i}first`,rest:`${i}rest`,langString:`${i}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${a}reify#forSome`,forAll:`${a}reify#forAll`},log:{implies:`${a}log#implies`}};var l=r(4375),c=r.n(l);const{xsd:u}=s,d=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,f={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},h=/[\x00-\x20<>\\"\{\}\|\^\`]/,g={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},p=/$0^/;class b{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const e in this)!(e in g)&&this[e]instanceof RegExp&&(this[e]=p)}else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let r=this._input,n=r.length;for(;;){let e,a;for(;e=this._newline.exec(r);)this._comments&&(a=this._comment.exec(e[0]))&&i("comment",a[1],"",this._line,e[0].length),r=r.substr(e[0].length,r.length),n=r.length,this._line++;if(!e&&(e=this._whitespace.exec(r))&&(r=r.substr(e[0].length,r.length)),this._endOfFile.test(r))return t&&(this._comments&&(a=this._comment.exec(r))&&i("comment",a[1],"",this._line,r.length),r=null,i("eof","","",this._line,0)),this._input=r;const s=this._line,l=r[0];let c="",d="",f="",g=null,p=0,b=!1;switch(l){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(p=1,c="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){b=!0;break}case"<":if(g=this._unescapedIri.exec(r))c="IRI",d=g[1];else if(g=this._iri.exec(r)){if(d=this._unescape(g[1]),null===d||h.test(d))return o(this);c="IRI"}else r.length>1&&"<"===r[1]?(c="<<",p=2):this._n3Mode&&r.length>1&&"="===r[1]&&(c="inverse",p=2,d=">");break;case">":r.length>1&&">"===r[1]&&(c=">>",p=2);break;case"_":((g=this._blank.exec(r))||t&&(g=this._blank.exec(`${r} `)))&&(c="blank",f="_",d=g[1]);break;case'"':if(g=this._simpleQuotedString.exec(r))d=g[1];else if(({value:d,matchLength:p}=this._parseLiteral(r)),null===d)return o(this);null===g&&0===p||(c="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(g=this._simpleApostropheString.exec(r))d=g[1];else if(({value:d,matchLength:p}=this._parseLiteral(r)),null===d)return o(this);null===g&&0===p||(c="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(g=this._variable.exec(r))&&(c="var",d=g[0]);break;case"@":"literal"===this._previousMarker&&(g=this._langcode.exec(r))?(c="langcode",d=g[1]):(g=this._keyword.exec(r))&&(c=g[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){c=".",p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(g=this._number.exec(r)||t&&(g=this._number.exec(`${r} `)))&&(c="literal",d=g[0],f="string"==typeof g[1]?u.double:"string"==typeof g[2]?u.decimal:u.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(g=this._sparqlKeyword.exec(r))?c=g[0].toUpperCase():b=!0;break;case"f":case"t":(g=this._boolean.exec(r))?(c="literal",d=g[0],f=u.boolean):b=!0;break;case"a":(g=this._shortPredicates.exec(r))?(c="abbreviation",d="a"):b=!0;break;case"=":this._n3Mode&&r.length>1&&(c="abbreviation",">"!==r[1]?(p=1,d="="):(p=2,d=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(p=1,c=l);break;default:b=!0}if(b&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(g=this._prefix.exec(r))?((g=this._prefixed.exec(r))||t&&(g=this._prefixed.exec(`${r} `)))&&(c="prefixed",f=g[1]||"",d=this._unescape(g[2])):(c="prefix",d=g[1]||"")),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const y=p||g[0].length,m=i(c,d,f,s,y);this.previousToken=m,this._previousMarker=c,r=r.substr(y,r.length)}function i(t,i,o,a,s){const l=r?n-r.length:n,c={type:t,value:i,prefix:o,line:a,start:l,end:l+s};return e(null,c),c}function o(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let t=!1;const r=e.replace(d,((e,r,n,i)=>{if("string"==typeof r)return String.fromCharCode(Number.parseInt(r,16));if("string"==typeof n){let e=Number.parseInt(n,16);return e<=65535?String.fromCharCode(Number.parseInt(n,16)):String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e))}return i in f?f[i]:(t=!0,"")}));return t?null:r}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length;let n=Math.max(this._literalClosingPos,r);for(;(n=e.indexOf(t,n))>0;){let t=0;for(;"\\"===e[n-t-1];)t++;if(t%2==0){const t=e.substring(r,n),i=t.split(/\r\n|\r|\n/).length-1,o=n+r;if(1===r&&0!==i||3===r&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:o}}n++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\ufeff")?e.substr(1):e}tokenize(e,t){if(this._line=1,"string"==typeof e){if(this._input=this._readStartingBom(e),"function"!=typeof t){const e=[];let t;if(this._tokenizeToEnd(((r,n)=>r?t=r:e.push(n)),!0),t)throw t;return e}c()((()=>this._tokenizeToEnd(t,!0)))}else this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",(e=>{null!==this._input&&0!==e.length&&(this._pendingBuffer&&(e=Buffer.concat([this._pendingBuffer,e]),this._pendingBuffer=null),128&e[e.length-1]?this._pendingBuffer=e:(void 0===this._input?this._input=this._readStartingBom("string"==typeof e?e:e.toString()):this._input+=e,this._tokenizeToEnd(t,!1)))})),e.on("end",(()=>{"string"==typeof this._input&&this._tokenizeToEnd(t,!0)})),e.on("error",t)}}function y(e){return!!e&&"NamedNode"===e.termType}function m(e){return!!e&&"BlankNode"===e.termType}function A(e){return!!e&&"Literal"===e.termType}function v(e){return!!e&&"Variable"===e.termType}function _(e){return!!e&&"DefaultGraph"===e.termType}function w(e){return _(e.graph)}function P(e,t){return O({"":e.value||e},t)("")}function O(e,t){const r=Object.create(null);for(const t in e)n(t,e[t]);function n(e,n){if("string"==typeof n){const i=Object.create(null);r[e]=e=>i[e]||(i[e]=t.namedNode(n+e))}else if(!(e in r))throw new Error(`Unknown prefix: ${e}`);return r[e]}return t=t||C,n}const{rdf:j,xsd:R}=s;let x,I=0;const S=/^"(.*".*)(?="[^"]*$)/,T=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,U={namedNode:function(e){return new N(e)},blankNode:function(e){return new D(e||"n3-"+I++)},variable:function(e){return new k(e)},literal:function(e,t){if("string"==typeof t)return new E(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return""===r&&("boolean"==typeof e?r=R.boolean:"number"==typeof e&&(Number.isFinite(e)?r=Number.isInteger(e)?R.integer:R.double:(r=R.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),""===r||r===R.string?new E(`"${e}"`):new E(`"${e}"^^${r}`)},defaultGraph:function(){return x},quad:V,triple:V},C=U;class M{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof M?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class N extends M{get termType(){return"NamedNode"}}class E extends M{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new N(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,r=t<e.length?e[t]:"";return"^"===r?e.substr(t+2):"@"!==r?R.string:j.langString}equals(e){return e instanceof E?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class D extends M{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class k extends M{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class L extends M{constructor(){return super(""),x||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}function F(e,t){if(t=t||U,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===U)return new E(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),"@"===e[r+1]?e.substr(r+2):t.namedNode(e.substr(r+3)));case"<":const n=T.exec(e);return t.quad(F(z(n[1]),t),F(z(n[2]),t),F(z(n[3]),t),n[4]&&F(z(n[4]),t));default:return t.namedNode(e)}}function $(e){if("string"==typeof e)return e;if(e instanceof M&&"Quad"!==e.termType)return e.id;if(!e)return x.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==R.string?`^^${e.datatype.value}`:""}`;case"Quad":return`<<${W($(e.subject))} ${W($(e.predicate))} ${W($(e.object))}${_(e.graph)?"":` ${$(e.graph)}`}>>`;default:throw new Error(`Unexpected termType: ${e.termType}`)}}x=new L;class B extends M{constructor(e,t,r,n){super(""),this._subject=e,this._predicate=t,this._object=r,this._graph=n||x}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function W(e){return e.replace(S,((e,t)=>`"${t.replace(/"/g,'""')}`))}function z(e){return e.replace(S,((e,t)=>`"${t.replace(/""/g,'"')}`))}function V(e,t,r,n){return new B(e,t,r,n)}let G=0;class q{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&Q(this,e.factory);const t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(t),n=/trig/.test(t),i=/triple/.test(t),o=/quad/.test(t),a=this._n3Mode=/n3/.test(t),s=i||o;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||n||i||a),this._supportsRDFStar=""===t||/star|\*$/.test(t),s&&(this._resolveRelativeIRI=e=>null),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new b({lineMode:s,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){G=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,r,n,i){const o=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:n,object:i,graph:t,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.id.substr(2)}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let r;switch(e.type){case"IRI":case"typeIRI":const t=this._resolveIRI(e.value);if(null===t)return this._error("Invalid IRI",e);r=this._namedNode(t);break;case"type":case"prefixed":const n=this._prefixes[e.prefix];if(void 0===n)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(n+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${t}`,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext("blank",e),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,r=null,n=this._readListItem;const i=this._subject,o=this._contextStack,a=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),n=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(n=this._readPredicate,this._subject===this.RDF_NIL)return n}else if(n=this._getContextEndReader(),this._object===this.RDF_NIL)return n;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,n=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),n=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._blankNode()),null===i?null===a.predicate?a.subject=r:a.object=r:this._emit(i,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return n}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(void 0===r)return;t=this._literal(this._literalValue,r),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const r=this._completeLiteral(e);if(r)return this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,r=this._graph;const n=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==n){const e=this._predicate,t=this._object;i?this._emit(t,e,n,r):this._emit(n,e,t,r)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){const t=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,t,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,r;const n=this._blankNode();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let r,n;if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(n=this._subject,this._subject=t):(n=this._object,this._object=t),this._emit(t,r,n,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error(`Expected >> but got ${e.type}`,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,r,n){this._callback(null,this._quad(e,t,r,n||this.DEFAULTGRAPH))}_error(e,t){const r=new Error(`${e} on line ${t.line}.`);r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=J}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let r="",n=-1,i=-1,o=0,a="/";for(;n<t;){switch(a){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<t&&"/"!==e[i];)n=i;break;case"?":case"#":n=t;break;case"/":if("."===e[n+1])switch(a=e[1+ ++n],a){case"/":r+=e.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return r+e.substring(o,n)+e.substr(n+1);case".":if(a=e[1+ ++n],void 0===a||"/"===a||"?"===a||"#"===a){if(r+=e.substring(o,n-2),(o=r.lastIndexOf("/"))>=i&&(r=r.substr(0,o)),"/"!==a)return`${r}/${e.substr(n+1)}`;o=n+1}}}a=e[++n]}return r+e.substring(o)}parse(e,t,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${G++}_`,this._prefixCallback=r||J,this._inversePredicate=!1,this._quantified=Object.create(null),!t){const t=[];let r;if(this._callback=(e,n)=>{e?r=e:n&&t.push(n)},this._lexer.tokenize(e).every((e=>this._readCallback=this._readCallback(e))),r)throw r;return t}this._callback=t,this._lexer.tokenize(e,((e,t)=>{null!==e?(this._callback(e),this._callback=J):this._readCallback&&(this._readCallback=this._readCallback(t))}))}}function J(){}function Q(e,t){const r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(s.rdf.first),e.RDF_REST=r(s.rdf.rest),e.RDF_NIL=r(s.rdf.nil),e.N3_FORALL=r(s.r.forAll),e.N3_FORSOME=r(s.r.forSome),e.ABBREVIATIONS={a:r(s.rdf.type),"=":r(s.owl.sameAs),">":r(s.log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}Q(q.prototype,C);const H=C.defaultGraph(),{rdf:K,xsd:Z}=s,X=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,Y=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,ee={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class te extends M{equals(){return!1}}class re{constructor(e,t){if(this._prefixRegex=/$0^/,e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{let e="";this._outputStream={write(t,r,n){e+=t,n&&n()},end:t=>{t&&t(null,e)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=H,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes),t.baseIRI&&(this._baseMatcher=new RegExp(`^${ie(t.baseIRI)}${t.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=t.baseIRI.length))}get _inDefaultGraph(){return H.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(H.equals(n)?"":`${this._encodeIriOrBlank(n)} {\n`)),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,i):this._write(`;\n    ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,i):this._write(`${(null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,i)}catch(e){i&&i(e)}}_writeQuadLine(e,t,r,n,i){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),i)}quadToString(e,t,r,n){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(t)} ${this._encodeObject(r)}${n&&n.value?` ${this._encodeIriOrBlank(n)} .\n`:" .\n"}`}quadsToString(e){return e.map((e=>this.quadToString(e.subject,e.predicate,e.object,e.graph))).join("")}_encodeSubject(e){return"Quad"===e.termType?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let t=e.value;this._baseMatcher&&this._baseMatcher.test(t)&&(t=t.substr(this._baseLength)),X.test(t)&&(t=t.replace(Y,ne));const r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:`<${t}>`}_encodeLiteral(e){let t=e.value;if(X.test(t)&&(t=t.replace(Y,ne)),e.language)return`"${t}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Z.string)return`"${t}"`}else switch(e.datatype.value){case Z.string:return`"${t}"`;case Z.boolean:if("true"===t||"false"===t)return t;break;case Z.integer:if(/^[+-]?\d+$/.test(t))return t;break;case Z.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case Z.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t}return`"${t}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===K.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:t,object:r,graph:n}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(t)} ${this._encodeObject(r)}${_(n)?"":` ${this._encodeIriOrBlank(n)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,r,n,i){void 0===r?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"==typeof n?this._writeQuad(e,t,r,H,n):this._writeQuad(e,t,r,n||H,i)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,r){const n={};n[e]=t,this.addPrefixes(n,r)}addPrefixes(e,t){if(!this._prefixIRIs)return t&&t();let r=!1;for(let t in e){let n=e[t];"string"!=typeof n&&(n=n.value),r=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[n]=t+=":",this._write(`@prefix ${t} <${n}>.\n`)}if(r){let e="",t="";for(const r in this._prefixIRIs)e+=e?`|${r}`:r,t+=(t?"|":"")+this._prefixIRIs[r];e=ie(e),this._prefixRegex=new RegExp(`^(?:${t})[^/]*$|^(${e})([a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?"\n":"",t)}blank(e,t){let r,n,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return new te("[]");case 1:if(r=i[0],!(r.object instanceof te))return new te(`[ ${this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)} ]`);default:let t="[";for(let o=0;o<n;o++)r=i[o],r.predicate.equals(e)?t+=`, ${this._encodeObject(r.object)}`:(t+=`${(o?";\n  ":"\n  ")+this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)}`,e=r.predicate);return new te(`${t}\n]`)}}list(e){const t=e&&e.length||0,r=new Array(t);for(let n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new te(`(${r.join(" ")})`)}end(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;let t=e&&((r,n)=>{t=null,e(r,n)});if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}}function ne(e){let t=ee[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function ie(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var oe=r(8473);class ae{constructor(e,t){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._factory=t.factory||C,e&&this.addQuads(e)}get size(){let e=this._size;if(null!==e)return e;e=0;const t=this._graphs;let r,n;for(const i in t)for(const o in r=t[i].subjects)for(const t in n=r[o])e+=Object.keys(n[t]).length;return this._size=e}_addToIndex(e,t,r,n){const i=e[t]||(e[t]={}),o=i[r]||(i[r]={}),a=n in o;return a||(o[n]=null),!a}_removeFromIndex(e,t,r,n){const i=e[t],o=i[r];delete o[n];for(const e in o)return;delete i[r];for(const e in i)return;delete e[t]}*_findInIndex(e,t,r,n,i,o,a,s){let l,c,u;const d=this._entities,f=F(s,this._factory),h={subject:null,predicate:null,object:null};t&&((l=e,e={})[t]=l[t]);for(const t in e)if(c=e[t]){h[i]=F(d[t],this._factory),r&&((l=c,c={})[r]=l[r]);for(const e in c)if(u=c[e]){h[o]=F(d[e],this._factory);const t=n?n in u?[n]:[]:Object.keys(u);for(let e=0;e<t.length;e++)h[a]=F(d[t[e]],this._factory),yield this._factory.quad(h.subject,h.predicate,h.object,f)}}}_loop(e,t){for(const r in e)t(r)}_loopByKey0(e,t,r){let n,i;if(n=e[t])for(i in n)r(i)}_loopByKey1(e,t,r){let n,i;for(n in e)i=e[n],i[t]&&r(n)}_loopBy2Keys(e,t,r,n){let i,o,a;if((i=e[t])&&(o=i[r]))for(a in o)n(a)}_countInIndex(e,t,r,n){let i,o,a,s=0;t&&((i=e,e={})[t]=i[t]);for(const t in e)if(o=e[t]){r&&((i=o,o={})[r]=i[r]);for(const e in o)(a=o[e])&&(n?n in a&&s++:s+=Object.keys(a).length)}return s}_getGraphs(e){if(!se(e))return this._graphs;const t={};return t[e]=this._graphs[e],t}_uniqueEntities(e){const t=Object.create(null);return r=>{r in t||(t[r]=!0,e(F(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=$(e),t=$(t),r=$(r),n=$(n);let i=this._graphs[n];i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i));const o=this._ids,a=this._entities;e=o[e]||(o[a[++this._id]=e]=this._id),t=o[t]||(o[a[++this._id]=t]=this._id),r=o[r]||(o[a[++this._id]=r]=this._id);const s=this._addToIndex(i.subjects,e,t,r);return this._addToIndex(i.predicates,t,r,e),this._addToIndex(i.objects,r,e,t),this._size=null,s}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}delete(e){return this.removeQuad(e),this}has(e,t,r,n){return e&&e.subject&&({subject:e,predicate:t,object:r,graph:n}=e),!this.readQuads(e,t,r,n).next().done}import(e){return e.on("data",(e=>{this.addQuad(e)})),e}removeQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=$(e),t=$(t),r=$(r),n=$(n);const i=this._ids,o=this._graphs;let a,s,l;if(!((e=i[e])&&(t=i[t])&&(r=i[r])&&(a=o[n])&&(s=a.subjects[e])&&(l=s[t])&&r in l))return!1;for(e in this._removeFromIndex(a.subjects,e,t,r),this._removeFromIndex(a.predicates,t,r,e),this._removeFromIndex(a.objects,r,e,t),null!==this._size&&this._size--,a.subjects)return!0;return delete o[n],!0}removeQuads(e){for(let t=0;t<e.length;t++)this.removeQuad(e[t])}remove(e){return e.on("data",(e=>{this.removeQuad(e)})),e}removeMatches(e,t,r,n){const i=new oe.Readable({objectMode:!0});return i._read=()=>{for(const o of this.readQuads(e,t,r,n))i.push(o);i.push(null)},this.remove(i)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,t,r,n){return[...this.readQuads(e,t,r,n)]}*readQuads(e,t,r,n){e=e&&$(e),t=t&&$(t),r=r&&$(r),n=n&&$(n);const i=this._getGraphs(n),o=this._ids;let a,s,l,c;if(!(se(e)&&!(s=o[e])||se(t)&&!(l=o[t])||se(r)&&!(c=o[r])))for(const e in i)(a=i[e])&&(s?c?yield*this._findInIndex(a.objects,c,s,l,"object","subject","predicate",e):yield*this._findInIndex(a.subjects,s,l,null,"subject","predicate","object",e):l?yield*this._findInIndex(a.predicates,l,c,null,"predicate","object","subject",e):c?yield*this._findInIndex(a.objects,c,null,null,"object","subject","predicate",e):yield*this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",e))}match(e,t,r,n){return new le(this,e,t,r,n)}countQuads(e,t,r,n){e=e&&$(e),t=t&&$(t),r=r&&$(r),n=n&&$(n);const i=this._getGraphs(n),o=this._ids;let a,s,l,c,u=0;if(se(e)&&!(s=o[e])||se(t)&&!(l=o[t])||se(r)&&!(c=o[r]))return 0;for(const n in i)(a=i[n])&&(u+=e?r?this._countInIndex(a.objects,c,s,l):this._countInIndex(a.subjects,s,l,c):t?this._countInIndex(a.predicates,l,c,s):this._countInIndex(a.objects,c,s,l));return u}forEach(e,t,r,n,i){this.some((t=>(e(t),!1)),t,r,n,i)}every(e,t,r,n,i){let o=!1;const a=!this.some((t=>(o=!0,!e(t))),t,r,n,i);return o&&a}some(e,t,r,n,i){for(const o of this.readQuads(t,r,n,i))if(e(o))return!0;return!1}getSubjects(e,t,r){const n=[];return this.forSubjects((e=>{n.push(e)}),e,t,r),n}forSubjects(e,t,r,n){t=t&&$(t),r=r&&$(r),n=n&&$(n);const i=this._ids,o=this._getGraphs(n);let a,s,l;if(e=this._uniqueEntities(e),!(se(t)&&!(s=i[t])||se(r)&&!(l=i[r])))for(n in o)(a=o[n])&&(s?l?this._loopBy2Keys(a.predicates,s,l,e):this._loopByKey1(a.subjects,s,e):l?this._loopByKey0(a.objects,l,e):this._loop(a.subjects,e))}getPredicates(e,t,r){const n=[];return this.forPredicates((e=>{n.push(e)}),e,t,r),n}forPredicates(e,t,r,n){t=t&&$(t),r=r&&$(r),n=n&&$(n);const i=this._ids,o=this._getGraphs(n);let a,s,l;if(e=this._uniqueEntities(e),!(se(t)&&!(s=i[t])||se(r)&&!(l=i[r])))for(n in o)(a=o[n])&&(s?l?this._loopBy2Keys(a.objects,l,s,e):this._loopByKey0(a.subjects,s,e):l?this._loopByKey1(a.predicates,l,e):this._loop(a.predicates,e))}getObjects(e,t,r){const n=[];return this.forObjects((e=>{n.push(e)}),e,t,r),n}forObjects(e,t,r,n){t=t&&$(t),r=r&&$(r),n=n&&$(n);const i=this._ids,o=this._getGraphs(n);let a,s,l;if(e=this._uniqueEntities(e),!(se(t)&&!(s=i[t])||se(r)&&!(l=i[r])))for(n in o)(a=o[n])&&(s?l?this._loopBy2Keys(a.subjects,s,l,e):this._loopByKey1(a.objects,s,e):l?this._loopByKey0(a.predicates,l,e):this._loop(a.objects,e))}getGraphs(e,t,r){const n=[];return this.forGraphs((e=>{n.push(e)}),e,t,r),n}forGraphs(e,t,r,n){for(const i in this._graphs)this.some((t=>(e(t.graph),!0)),t,r,n,i)}createBlankNode(e){let t,r;if(e)for(t=e=`_:${e}`,r=1;this._ids[t];)t=e+r++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}extractLists({remove:e=!1,ignoreErrors:t=!1}={}){const r={},n=t?()=>!0:(e,t)=>{throw new Error(`${e.value} ${t}`)},i=this.getQuads(null,s.rdf.rest,s.rdf.nil,null),o=e?[...i]:[];return i.forEach((t=>{const i=[];let a,l,c=!1;const u=t.graph;let d=t.subject;for(;d&&!c;){const e=this.getQuads(null,null,d,null),t=this.getQuads(d,null,null,null);let r,f=null,h=null,g=null;for(let i=0;i<t.length&&!c;i++)r=t[i],r.graph.equals(u)?a?c=n(d,"has non-list arcs out"):r.predicate.value===s.rdf.first?f?c=n(d,"has multiple rdf:first arcs"):o.push(f=r):r.predicate.value===s.rdf.rest?h?c=n(d,"has multiple rdf:rest arcs"):o.push(h=r):e.length?c=n(d,"can't be subject and object"):(a=r,l="subject"):c=n(d,"not confined to single graph");for(let t=0;t<e.length&&!c;++t)r=e[t],a?c=n(d,"can't have coreferences"):r.predicate.value===s.rdf.rest?g?c=n(d,"has incoming rdf:rest arcs"):g=r:(a=r,l="object");f?i.unshift(f.object):c=n(d,"has no list head"),d=g&&g.subject}c?e=!1:a&&(r[a[l].value]=i)})),e&&this.removeQuads(o),r}*[Symbol.iterator](){yield*this.readQuads()}}function se(e){return"string"==typeof e||e instanceof String}class le extends oe.Readable{constructor(e,t,r,n,i){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:t,predicate:r,object:n,graph:i})}get filtered(){if(!this._filtered){const{n3Store:e,graph:t,object:r,predicate:n,subject:i}=this,o=this._filtered=new ae({factory:e._factory});for(const a of e.readQuads(i,n,r,t))o.addQuad(a)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,t,r,n){return new le(this.filtered,e,t,r,n)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class ce extends oe.Transform{constructor(e){let t,r;super({decodeStrings:!0}),this._readableState.objectMode=!0,new q(e).parse({on:(e,n)=>{switch(e){case"data":t=n;break;case"end":r=n}}},((e,t)=>{e&&this.emit("error",e)||t&&this.push(t)}),((e,t)=>{this.emit("prefix",e,t)})),this._transform=(e,r,n)=>{t(e),n()},this._flush=e=>{r(),e()}}import(e){return e.on("data",(e=>{this.write(e)})),e.on("end",(()=>{this.end()})),e.on("error",(e=>{this.emit("error",e)})),this}}class ue extends oe.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const t=this._writer=new re({write:(e,t,r)=>{this.push(e),r&&r()},end:e=>{this.push(null),e&&e()}},e);this._transform=(e,r,n)=>{t.addQuad(e,n)},this._flush=e=>{t.end(e)}}import(e){return e.on("data",(e=>{this.write(e)})),e.on("end",(()=>{this.end()})),e.on("error",(e=>{this.emit("error",e)})),e.on("prefix",((e,t)=>{this._writer.addPrefix(e,t)})),this}}const de={Lexer:b,Parser:q,Writer:re,Store:ae,StreamParser:ce,StreamWriter:ue,Util:n,DataFactory:C,Term:M,NamedNode:N,Literal:E,BlankNode:D,Variable:k,DefaultGraph:L,Quad:B,Triple:B,termFromId:F,termToId:$}},4375:(e,t,r)=>{let n;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:r.g):e=>(n||(n=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},7055:(e,t,r)=>{e.exports=r(9344)},2401:e=>{"use strict";e.exports=class e{constructor(e,t=new Map,r=0){this.prefix=e,this._existing=t,this.counter=r}clone(){const{prefix:t,_existing:r,counter:n}=this;return new e(t,new Map(r),n)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const r=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,r),r}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},5947:(e,t,r)=>{"use strict";r(4889);const n=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!n||!n.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupport algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await n.subtle.digest(this.algorithm,e));let r="";for(let e=0;e<t.length;++e)r+=t[e].toString(16).padStart(2,"0");return r}}},9980:e=>{"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",r="http://www.w3.org/2001/XMLSchema#string",n="NamedNode",i="BlankNode",o="Literal",a="DefaultGraph",s={};s.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,s.empty=new RegExp("^[ \\t]*$"),s.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]*\\.))[ \\t]*$'),e.exports=class e{static parse(e){const l=[],u={},d=e.split(s.eoln);let f=0;for(const e of d){if(f++,s.empty.test(e))continue;const d=e.match(s.quad);if(null===d)throw new Error("N-Quads parse error on line "+f+".");const p={subject:null,predicate:null,object:null,graph:null};if(void 0!==d[1]?p.subject={termType:n,value:d[1]}:p.subject={termType:i,value:d[2]},p.predicate={termType:n,value:d[3]},void 0!==d[4]?p.object={termType:n,value:d[4]}:void 0!==d[5]?p.object={termType:i,value:d[5]}:(p.object={termType:o,value:void 0,datatype:{termType:n}},void 0!==d[7]?p.object.datatype.value=d[7]:void 0!==d[8]?(p.object.datatype.value=t,p.object.language=d[8]):p.object.datatype.value=r,p.object.value=d[6].replace(c,(function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))),void 0!==d[9]?p.graph={termType:n,value:d[9]}:void 0!==d[10]?p.graph={termType:i,value:d[10]}:p.graph={termType:a,value:""},p.graph.value in u){let e=!0;const t=u[p.graph.value];for(const r of t)if(g=p,(h=r).subject.termType===g.subject.termType&&h.object.termType===g.object.termType&&h.subject.value===g.subject.value&&h.predicate.value===g.predicate.value&&h.object.value===g.object.value&&(h.object.termType!==o||h.object.datatype.termType===g.object.datatype.termType&&h.object.language===g.object.language&&h.object.datatype.value===g.object.datatype.value)){e=!1;break}e&&(t.push(p),l.push(p))}else u[p.graph.value]=[p],l.push(p)}var h,g;return l}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(e.serializeQuad(n));return r.sort().join("")}static serializeQuad(e){const o=e.subject,a=e.predicate,s=e.object,c=e.graph;let u="";return o.termType===n?u+=`<${o.value}>`:u+=`${o.value}`,u+=` <${a.value}> `,s.termType===n?u+=`<${s.value}>`:s.termType===i?u+=s.value:(u+=`"${function(e){return e.replace(l,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(s.value)}"`,s.datatype.value===t?s.language&&(u+=`@${s.language}`):s.datatype.value!==r&&(u+=`^^<${s.datatype.value}>`)),c.termType===n?u+=` <${c.value}>`:c.termType===i&&(u+=` ${c.value}`),u+=" .\n",u}static legacyDatasetToQuads(e){const s=[],l={"blank node":i,IRI:n,literal:o};for(const c in e)e[c].forEach((e=>{const u={};for(const i in e){const a=e[i],s={termType:l[a.type],value:a.value};s.termType===o&&(s.datatype={termType:n},"datatype"in a&&(s.datatype.value=a.datatype),"language"in a?("datatype"in a||(s.datatype.value=t),s.language=a.language):"datatype"in a||(s.datatype.value=r)),u[i]=s}u.graph="@default"===c?{termType:a,value:""}:{termType:c.startsWith("_:")?i:n,value:c},s.push(u)}));return s}};const l=/["\\\n\r]/g,c=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},8326:e=>{"use strict";e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,r=e.slice();let n=null,i=0;const o=e.length;for(let r=0;r<o;++r){const a=e[r],s=t.get(a);(null===n||a>n)&&(s&&r>0&&a>e[r-1]||!s&&r<o-1&&a>e[r+1])&&(n=a,i=r)}if(null===n)this.done=!0;else{const r=t.get(n)?i-1:i+1;e[i]=e[r],e[r]=n;for(const r of e)r>n&&t.set(r,!t.get(r))}return r}}},3445:(e,t,r)=>{"use strict";const n=r(2401),i=r(5947),o=r(8326),a=r(9980);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}async main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const t=new Map,r=[...this.blankNodeInfo.keys()];let i=0;for(const e of r)++i%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});const o=[...t.keys()].sort(),l=[];for(const e of o){const r=t.get(e);if(r.length>1){l.push(r);continue}const n=r[0];this.canonicalIssuer.getId(n)}for(const e of l){const t=[];for(const r of e){if(this.canonicalIssuer.hasId(r))continue;const e=new n("_:b");e.getId(r);const i=await this.hashNDegreeQuads(r,e);t.push(i)}t.sort(s);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const c=[];for(const e of this.quads){const t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),c.push(a.serializeQuad(t))}return c.sort(),c.join("")}async hashFirstDegreeQuads(e){const t=[],r=this.blankNodeInfo.get(e),n=r.quads;for(const r of n){const n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(a.serializeQuad(n))}t.sort();const o=new i(this.hashAlgorithm);for(const e of t)o.update(e);return r.hash=await o.digest(),r.hash}async hashRelatedBlankNode(e,t,r,n){let o;o=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;const a=new i(this.hashAlgorithm);return a.update(n),"g"!==n&&a.update(this.getRelatedPredicate(t)),a.update(o),a.digest()}async hashNDegreeQuads(e,t){const r=new i(this.hashAlgorithm),n=await this.createHashToRelated(e,t),a=[...n.keys()].sort();for(const e of a){r.update(e);let i,a="";const s=new o(n.get(e));let l=0;for(;s.hasNext();){const e=s.next();++l%3==0&&await this._yield();let r=t.clone(),n="";const o=[];let c=!1;for(const t of e)if(this.canonicalIssuer.hasId(t)?n+=this.canonicalIssuer.getId(t):(r.hasId(t)||o.push(t),n+=r.getId(t)),0!==a.length&&n>a){c=!0;break}if(!c){for(const e of o){const t=await this.hashNDegreeQuads(e,r);if(n+=r.getId(e),n+=`<${t.hash}>`,r=t.issuer,0!==a.length&&n>a){c=!0;break}}c||(0===a.length||n<a)&&(a=n,i=r)}}r.update(a),t=i}return{hash:await r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;let i=0;for(const o of n)++i%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:e,issuer:t,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const r=await this.hashFirstDegreeQuads(e),n=t.get(r);n?n.push(e):t.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const r=t.value,n=this.blankNodeInfo.get(r);n?n.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:r,id:n,issuer:i,hashToRelated:o}){if("BlankNode"!==t.termType||t.value===n)return;const a=t.value,s=await this.hashRelatedBlankNode(a,e,i,r),l=o.get(s);l?l.push(a):o.set(s,[a])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise((e=>setImmediate(e)))}}},5643:(e,t,r)=>{"use strict";const n=r(2401),i=r(5947),o=r(8326),a=r(9980);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const t=new Map,r=[...this.blankNodeInfo.keys()];for(const e of r)this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});const i=[...t.keys()].sort(),o=[];for(const e of i){const r=t.get(e);if(r.length>1){o.push(r);continue}const n=r[0];this.canonicalIssuer.getId(n)}for(const e of o){const t=[];for(const r of e){if(this.canonicalIssuer.hasId(r))continue;const e=new n("_:b");e.getId(r);const i=this.hashNDegreeQuads(r,e);t.push(i)}t.sort(s);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const l=[];for(const e of this.quads){const t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),l.push(a.serializeQuad(t))}return l.sort(),l.join("")}hashFirstDegreeQuads(e){const t=[],r=this.blankNodeInfo.get(e),n=r.quads;for(const r of n){const n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(a.serializeQuad(n))}t.sort();const o=new i(this.hashAlgorithm);for(const e of t)o.update(e);return r.hash=o.digest(),r.hash}hashRelatedBlankNode(e,t,r,n){let o;o=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;const a=new i(this.hashAlgorithm);return a.update(n),"g"!==n&&a.update(this.getRelatedPredicate(t)),a.update(o),a.digest()}hashNDegreeQuads(e,t){const r=new i(this.hashAlgorithm),n=this.createHashToRelated(e,t),a=[...n.keys()].sort();for(const e of a){r.update(e);let i,a="";const s=new o(n.get(e));for(;s.hasNext();){const e=s.next();let r=t.clone(),n="";const o=[];let l=!1;for(const t of e)if(this.canonicalIssuer.hasId(t)?n+=this.canonicalIssuer.getId(t):(r.hasId(t)||o.push(t),n+=r.getId(t)),0!==a.length&&n>a){l=!0;break}if(!l){for(const e of o){const t=this.hashNDegreeQuads(e,r);if(n+=r.getId(e),n+=`<${t.hash}>`,r=t.issuer,0!==a.length&&n>a){l=!0;break}}l||(0===a.length||n<a)&&(a=n,i=r)}}r.update(a),t=i}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;for(const i of n)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:r});return r}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const r=this.hashFirstDegreeQuads(e),n=t.get(r);n?n.push(e):t.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const r=t.value,n=this.blankNodeInfo.get(r);n?n.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:r,id:n,issuer:i,hashToRelated:o}){if("BlankNode"!==t.termType||t.value===n)return;const a=t.value,s=this.hashRelatedBlankNode(a,e,i,r),l=o.get(s);l?l.push(a):o.set(s,[a])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}},9201:(e,t,r)=>{"use strict";const n=r(3445);e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;let i=0;for(const o of n){let n,a;if("BlankNode"===o.subject.termType&&o.subject.value!==e)a=o.subject.value,n="p";else{if("BlankNode"!==o.object.termType||o.object.value===e)continue;a=o.object.value,n="r"}++i%100==0&&await this._yield();const s=await this.hashRelatedBlankNode(a,o,t,n),l=r.get(s);l?l.push(a):r.set(s,[a])}return r}}},7702:(e,t,r)=>{"use strict";const n=r(5643);e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;for(const i of n){let n,o;if("BlankNode"===i.subject.termType&&i.subject.value!==e)o=i.subject.value,n="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;o=i.object.value,n="r"}const a=this.hashRelatedBlankNode(o,i,t,n),s=r.get(a);s?s.push(o):r.set(a,[o])}return r}}},9344:(e,t,r)=>{"use strict";const n=r(3445),i=r(9201),o=r(5643),a=r(7702);let s;try{s=r(7670)}catch(e){}const l={};e.exports=l,l.NQuads=r(9980),l.IdentifierIssuer=r(2401),l._rdfCanonizeNative=function(e){return e&&(s=e),s},l.canonize=async function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!s)throw new Error("rdf-canonize-native not available");return new Promise(((r,n)=>s.canonize(e,t,((e,t)=>e?n(e):r(t)))))}if("URDNA2015"===t.algorithm)return new n(t).main(e);if("URGNA2012"===t.algorithm)return new i(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},l._canonizeSync=function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(s)return s.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new o(t).main(e);if("URGNA2012"===t.algorithm)return new a(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},4281:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s,l;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var c=("number"!=typeof l&&(l=0),l+".".length>(s=e).length||-1===s.indexOf(".",l)?"argument":"property");a='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(n(t,"type"))}return a+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:(e,t,r)=>{"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var i=r(9481),o=r(4229);r(5717)(c,i);for(var a=n(o.prototype),s=0;s<a.length;s++){var l=a[s];c.prototype[l]||(c.prototype[l]=o.prototype[l])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2725:(e,t,r)=>{"use strict";e.exports=i;var n=r(4605);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(5717)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},9481:(e,t,r)=>{"use strict";var n;e.exports=O,O.ReadableState=P,r(7187).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},a=r(2503),s=r(3231).Buffer,l=r.g.Uint8Array||function(){},c=r(4616);i=c&&c.debuglog?c.debuglog("stream"):function(){};var u,d,f,h=r(7327),g=r(1195),p=r(2457).getHighWaterMark,b=r(4281).q,y=b.ERR_INVALID_ARG_TYPE,m=b.ERR_STREAM_PUSH_AFTER_EOF,A=b.ERR_METHOD_NOT_IMPLEMENTED,v=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(O,a);var _=g.errorOrDestroy,w=["error","close","destroy","pause","resume"];function P(e,t,i){n=n||r(6753),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=p(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=r(2553).s),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function O(e){if(n=n||r(6753),!(this instanceof O))return new O(e);var t=this instanceof n;this._readableState=new P(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function j(e,t,r,n,o){i("readableAddChunk",t);var a,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?S(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}}(e,c);else if(o||(a=function(e,t){var r,n;return n=t,s.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(c,t)),a)_(e,a);else if(c.objectMode||t&&t.length>0)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)c.endEmitted?_(e,new v):R(e,c,t,!0);else if(c.ended)_(e,new m);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?R(e,c,t,!1):U(e,c)):R(e,c,t,!1)}else n||(c.reading=!1,U(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function R(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),U(e,t)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=g.destroy,O.prototype._undestroy=g.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),j(this,e,t,!1,r)},O.prototype.unshift=function(e){return j(this,e,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(e){u||(u=r(2553).s);var t=new u(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var x=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(T,e))}function T(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function U(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(C,e,t))}function C(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function M(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){i("readable nexttick read 0"),e.read(0)}function E(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function k(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function L(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(F,t,e))}function F(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function $(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}O.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):S(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&L(this),null;var n,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?k(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&L(this)),null!==n&&this.emit("data",n),n},O.prototype._read=function(e){_(this,new A("_read()"))},O.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===process.stdout||e===process.stderr?g:s;function s(){i("onend"),e.end()}n.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",(function t(o,a){i("onunpipe"),o===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,i("cleanup"),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",g),r.removeListener("data",u),c=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",l);var c=!1;function u(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==$(n.pipes,e))&&!c&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){i("onerror",t),g(),e.removeListener("error",d),0===o(e,"error")&&_(e,t)}function f(){e.removeListener("finish",h),g()}function h(){i("onfinish"),e.removeListener("close",f),g()}function g(){i("unpipe"),r.unpipe(e)}return r.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",d),e.once("close",f),e.once("finish",h),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},O.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=$(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},O.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?S(this):n.reading||process.nextTick(N,this))),r},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(M,this),r},O.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(M,this),t},O.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(E,e,t))}(this,e)),e.paused=!1,this},O.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<w.length;a++)e.on(w[a],this.emit.bind(this,w[a]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(O.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=r(5850)),d(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),O._fromList=k,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(O.from=function(e,t){return void 0===f&&(f=r(5167)),f(O,e,t)})},4605:(e,t,r)=>{"use strict";e.exports=u;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(6753);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(5717)(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i("_transform()"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:(e,t,r)=>{"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=O,O.WritableState=P;var o,a={deprecate:r(4927)},s=r(2503),l=r(3231).Buffer,c=r.g.Uint8Array||function(){},u=r(1195),d=r(2457).getHighWaterMark,f=r(4281).q,h=f.ERR_INVALID_ARG_TYPE,g=f.ERR_METHOD_NOT_IMPLEMENTED,p=f.ERR_MULTIPLE_CALLBACK,b=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,m=f.ERR_STREAM_NULL_VALUES,A=f.ERR_STREAM_WRITE_AFTER_END,v=f.ERR_UNKNOWN_ENCODING,_=u.errorOrDestroy;function w(){}function P(e,t,o){i=i||r(6753),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new p;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(T,e,t),e._writableState.errorEmitted=!0,_(e,n)):(i(n),e._writableState.errorEmitted=!0,_(e,n),T(e,t))}(e,r,n,t,i);else{var o=I(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),n?process.nextTick(R,e,r,o,i):R(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function O(e){var t=this instanceof(i=i||r(6753));if(!t&&!o.call(O,this))return new O(e);this._writableState=new P(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function j(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),T(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),a=t.corkedRequestsFree;a.entry=r;for(var s=0,l=!0;r;)o[s]=r,r.isBuf||(l=!1),r=r.next,s+=1;o.allBuffers=l,j(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,d=r.callback;if(j(e,t,!1,t.objectMode?1:c.length,c,u,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var r=I(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(S,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(5717)(O,s),P.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(P.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===O&&e&&e._writableState instanceof P}})):o=function(e){return e instanceof this},O.prototype.pipe=function(){_(this,new b)},O.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,a=!i.objectMode&&(n=e,l.isBuffer(n)||n instanceof c);return a&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=w),i.ending?function(e,t){var r=new A;_(e,r),process.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i;return null===r?i=new m:"string"==typeof r||t.objectMode||(i=new h("chunk",["string","Buffer"],r)),!i||(_(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else j(e,t,!1,s,n,i,o);return c}(this,i,a,e,t,r)),o},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(e,t,r){r(new g("_write()"))},O.prototype._writev=null,O.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,T(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),O.prototype.destroy=u.destroy,O.prototype._undestroy=u.undestroy,O.prototype._destroy=function(e,t){t(e)}},5850:(e,t,r)=>{"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(8610),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[u]=null,e[a]=null,e[s]=null,t(h(r,!1)))}}function p(e){process.nextTick(g,e)}var b=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[f]},next:function(){var e=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[l]?r(e[l]):t(h(void 0,!0))}))}));var r,n=this[u];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[c]?r(h(void 0,!0)):t[d](r,n)}),n)}}(n,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(h(i,!1));r=new Promise(this[d])}return this[u]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),n),b);e.exports=function(e){var t,r=Object.create(y,(i(t={},f,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[f].read();n?(r[u]=null,r[a]=null,r[s]=null,e(h(n,!1))):(r[a]=e,r[s]=t)},writable:!0}),t));return r[u]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[u]=null,r[a]=null,r[s]=null,t(e)),void(r[l]=e)}var n=r[a];null!==n&&(r[u]=null,r[a]=null,r[s]=null,n(h(void 0,!0))),r[c]=!0})),e.on("readable",p.bind(null,r)),r}},7327:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(532).Buffer,s=r(2361).inspect,l=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:l,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),e}()},1195:e=>{"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(r,o),i(e)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,l=function(){t.writable||u()},c=t._writableState&&t._writableState.finished,u=function(){s=!1,c=!0,a||o.call(t)},d=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,d=!0,s||o.call(t)},h=function(e){o.call(t,e)},g=function(){var e;return a&&!d?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},p=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",g),t.req?p():t.on("request",p)):s&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",f),t.on("finish",u),!1!==r.error&&t.on("error",h),t.on("close",g),function(){t.removeListener("complete",u),t.removeListener("abort",g),t.removeListener("request",p),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",f),t.removeListener("error",h),t.removeListener("close",g)}}},5167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(e,t,r)=>{"use strict";var n,i=r(4281).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(8610)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var l=!1;return function(t){if(!s&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function u(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return l(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return t.reduce(u)}},2457:(e,t,r)=>{"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},2503:(e,t,r)=>{e.exports=r(7187).EventEmitter},8473:(e,t,r)=>{(t=e.exports=r(9481)).Stream=t,t.Readable=t,t.Writable=r(4229),t.Duplex=r(6753),t.Transform=r(4605),t.PassThrough=r(2725),t.finished=r(8610),t.pipeline=r(9946)},4889:function(e,t,r){!function(e,t){"use strict";if(!e.setImmediate){var r,n,i,o,a,s=1,l={},c=!1,u=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){process.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(o="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&h(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(n=u.documentElement,r=function(e){var t=u.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):r=function(e){setTimeout(h,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[s]=i,r(s),s++},d.clearImmediate=f}function f(e){delete l[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===r.g?this:r.g:self)},2553:(e,t,r)=>{"use strict";var n=r(396).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},396:(e,t,r)=>{var n=r(2783),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4927:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},9602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},4411:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;null!==o&&n<e;n++)o=o.next;var a=[];for(n=0;o&&n<t;n++)a.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),n=0;n<r.length;n++)o=i(this,o,r[n]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(9602)(n)}catch(e){}},7670:()=>{},532:()=>{},2361:()=>{},3231:()=>{},4616:()=>{},2783:()=>{}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=r(5590);solidClient=n})();